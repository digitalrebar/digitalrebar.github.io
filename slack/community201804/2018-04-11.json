[
    {
        "user": "UA4S5MFD2",
        "text": "<@UA4S5MFD2> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1523465800.000377"
    },
    {
        "user": "UA57NL5EH",
        "text": "<@UA57NL5EH> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1523466043.000078"
    },
    {
        "type": "message",
        "user": "U32PZNCP5",
        "text": "<@UA4S5MFD2> and <@UA57NL5EH> $welcome",
        "ts": "1523466505.000572"
    },
    {
        "text": "Digital Rebar welcome information is here &gt; <http:\/\/rebar.digital\/community\/welcome.html>",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1523466505.000658"
    },
    {
        "type": "message",
        "user": "UA4S5MFD2",
        "text": "hi hi",
        "ts": "1523466532.000127"
    },
    {
        "type": "message",
        "user": "U32PZNCP5",
        "text": "Feel free to ask any questions or search into history; the engineers are watching this channel to assist",
        "ts": "1523466620.000162"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "So I have the following stage-map in a profile I'm using:\n```\n\"change-stage\/map\": {\n      \"discover\": \"sledgehammer-wait:Success\",\n      \"rebar-prep-install\": \"ubuntu-16.04-install:Reboot\",\n      \"sledgehammer-wait\": \"rebar-prep-install:Success\",\n      \"ubuntu-16.04-install\": \"complete-nowait:Stop\"\n    }\n```",
        "ts": "1523466759.000609"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "The node goes to sledgehammer, but then sits there, even tho the machine's stage has progessed to \"ubuntu-16.04-install\"...",
        "ts": "1523466878.000548"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Do I have to manually change the machine's stage to something?",
        "ts": "1523466926.000281"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U416T0AAX> - the stage changed.  You may have to manually reboot.  What is the `rebar-prep-install` stage look like?  Does it have Runner wait set to true?  What version of DRP are you using?  Tip has some changes that you may like.    Workflows will be better for this now.",
        "ts": "1523467044.000713"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "On 3.7.3 now (stable)",
        "ts": "1523467065.000673"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Okay - so check that the runner stayed running.  It should have rebooted the system.  Make sure that rebar-prep-install has runner wait set to true.",
        "ts": "1523467102.000303"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "```\n[dradmin@dr-admin ~]$ drpcli stages show rebar-prep-install\n{\n  \"Available\": true,\n  \"BootEnv\": \"sledgehammer\",\n  \"Description\": \"Use the DRP erase-hard-disks-for-os-install task\",\n  \"Errors\": [],\n  \"Meta\": {\n    \"color\": \"red\",\n    \"icon\": \"disk outline\",\n    \"title\": \"Digital Rebar\"\n  },\n  \"Name\": \"rebar-prep-install\",\n  \"OptionalParams\": [],\n  \"Profiles\": [],\n  \"ReadOnly\": true,\n  \"Reboot\": false,\n  \"RequiredParams\": [],\n  \"RunnerWait\": false,\n  \"Tasks\": [\n    \"erase-hard-disks-for-os-install\"\n  ],\n  \"Templates\": [],\n  \"Validated\": true\n}\n```",
        "ts": "1523467225.000139"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "This was a stage that <@U6QFVRJNB> constructed as part of a content pack he made for me",
        "ts": "1523467279.000347"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "That was it - no runner a-running",
        "ts": "1523467416.000772"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "So - set the `RunnerWait` field to `true` and try again.",
        "ts": "1523467444.000471"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "With workflows, the `change-stage\/map` is ignored, and the workflow is just the list: `discover`, `sledeghammer-wait`, `rebar-prep-install`, `ubuntu-16.04-install`, `complete-nowait`  DRP will figure out the reboots and stops.  It will also ignore runnerwait.  All this is coming soon.",
        "ts": "1523467539.000756"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Hopefully don't have much longer to wait for Workflows - looks sweet",
        "ts": "1523467555.000650"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "If you are running on tip, you can use them now.",
        "edited": {
            "user": "U02DJQSG8",
            "ts": "1523471589.000000"
        },
        "ts": "1523471583.000165"
    },
    {
        "user": "UA6496CTY",
        "text": "<@UA6496CTY> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1523477665.000149"
    },
    {
        "user": "UA4PYP80H",
        "text": "<@UA4PYP80H> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1523489961.000150"
    },
    {
        "user": "UA545HS2G",
        "text": "<@UA545HS2G> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1523492179.000218"
    },
    {
        "type": "message",
        "user": "UA4S5MFD2",
        "text": "hey im unable to find on <http:\/\/provision.readthedocs.io> how to configure the ipmi plugin",
        "ts": "1523492199.000172"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@UA4S5MFD2> - yep, looks like we have documented that in RTD yet - we do have a video that we demonstrated that in - trying to dig that up for you",
        "ts": "1523493014.000130"
    },
    {
        "type": "message",
        "user": "UA4S5MFD2",
        "text": "thanks",
        "ts": "1523493203.000104"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "Hmm - not finding it - let me give you the broad strokes, and that might point you in the right direction ... \n1. install IPMI plugin_provider\n2. create IPMI plugin - give it a unique name - you can create multiples\n3. (optionally) add any of the `ipmi\/*` Params that make sense to group on that plugin together\n4. (optional) create a Profile with groups of `ipmi\/*` param definitions - make sure `ipmi\/enabled` is set to `true` in this Profile\n5. apply the Profile to a machine\n\nNOTES:  \n* You need an IPMI Username and Password with appropriate credentials for access to the BMC\/IPMI.  \n* You also need to apply on each Machine, the IPMI IP address (`ipmi\/address` Param).\n* and the `ipmi\/enabled` should be true on the machine (either as a Param directly, or via a Profile with the Param in it)\n* the `ipmi\/configure\/*` Params are used to *_set_* the IPMI values during (typically) the Discovery (sledgehammer) stage (so you can \"discover\" the machines, set the IPMI values, then subsequently use those values for power management - or just use them if you have them already set)",
        "edited": {
            "user": "U6QFVRJNB",
            "ts": "1523493846.000000"
        },
        "ts": "1523493765.000148"
    },
    {
        "type": "message",
        "user": "UA4S5MFD2",
        "text": "awesome! thanks ill give it a shot :slightly_smiling_face:",
        "ts": "1523493904.000287"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "ping us here if you bump in to any issues or if any of that isn't clear - I'll try and get the doc updated tmw with a cleaned up \/ expanded \/ validated version of that",
        "ts": "1523493944.000021"
    },
    {
        "type": "message",
        "user": "UA4S5MFD2",
        "text": "will do",
        "ts": "1523493995.000187"
    }
]