[
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "protip: Filter out voluminous gohai data in machine records via: `drpcli machines show &lt;uuid&gt; | jq 'del(.Profile)'`",
        "ts": "1511813407.000169"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Hi all! back into the fray",
        "ts": "1511813589.000028"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "...and similarly if you want to list all Machines if you don't know the UUID, and filter out gohai:\n`drpcli machines list | jq 'del(.[].Profile)'`",
        "ts": "1511813649.000446"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Trying to understand where my machine install is at... I see this output on a machine undergoing an install:\n```[dradmin@dr-admin drp]$ drpcli machines show 4f316320-fb0c-46f2-8578-f0d8f13177e1 | jq 'del(.Profile)'\n{\n  \"Address\": \"192.168.1.112\",\n  \"Available\": true,\n  \"BootEnv\": \"ubuntu-16.04-install\",\n  \"CurrentJob\": \"a4e0839e-31e0-4a87-af9c-9d07f2e3b158\",\n  \"CurrentTask\": -1,\n  \"Errors\": [],\n  \"Name\": \"ml47\",\n  \"OS\": \"ubuntu-16.04\",\n  \"Profiles\": [\n    \"necla-ubuntu-default\"\n  ],\n  \"ReadOnly\": false,\n  \"Runnable\": false,\n  \"Secret\": \"xxxxxxxxxxx\",\n  \"Stage\": \"ubuntu-16.04-install\",\n  \"Tasks\": [\n    \"ubuntu-drp-only-repos\",\n    \"ssh-access\",\n    \"change-stage\"\n  ],\n  \"Uuid\": \"4f316320-fb0c-46f2-8578-f0d8f13177e1\",\n  \"Validated\": true\n}```",
        "ts": "1511813674.000258"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "The `CurrentJob` attribute is the last job that ran (I see this in the UX in \"Jobs\")",
        "ts": "1511813730.000164"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Why is `CurrentTask` value a `-1`?",
        "ts": "1511813754.000237"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "What I'm trying to do is see that the machine is actually installing the OS (Ubuntu 16.04 in this case)",
        "ts": "1511813892.000106"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Any way to know that from the data returned from `machines show`?",
        "ts": "1511814055.000301"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U416T0AAX> I'm not sure off hand what `-1` means - but my (infantile) reading of the `.\/backend\/machines.go` seems to indicate (rather counter-intuitively) that it means we have Tasks to run):\n```if n.Tasks != nil &amp;&amp; len(n.Tasks) &gt; 0 {\n    n.CurrentTask = -1\n  }```",
        "ts": "1511815236.000199"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "I believe final interpretation is likely going to be needed by <@U02DGQYK1> or <@U02DJQSG8>",
        "ts": "1511815249.000407"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "yeah - just a minute.  Sorry.",
        "ts": "1511815257.000809"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "-1 means start of list.",
        "ts": "1511815271.000086"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "It hasn’t tried to run anything yet.",
        "ts": "1511815285.000256"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "This is the one spot we don’t have a good view in what is going on.",
        "ts": "1511815300.000339"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "This tells me that the machine is somewhere inbetween the boot into install and drpcli getting control in the post install script of the preseed file.",
        "ts": "1511815335.000133"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "also - you can filter the `gohai-inventory` w\/ `jq` - but because `gohai-inventory` contains a dash - it is special to JSON, so you have to \"escape\" it, as follows: \n`drpcli machines show &lt;UUID&gt; | jq 'del(.Profile.Params.\"gohai-inventory\")'`",
        "ts": "1511815367.000511"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "your method will also filter out (potentially) other useful `Params` from the JSON output",
        "ts": "1511815386.000409"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "<@U7U02J6LX> I think Helm will _eventually_ be the way to deploy OpenStack.  there are some technical items to resolve first.",
        "ts": "1511816672.000094"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "we're focused on making k8s installs to metal better b\/c that",
        "ts": "1511816685.000188"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "is a prereq",
        "ts": "1511816689.000582"
    }
]