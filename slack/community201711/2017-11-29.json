[
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U416T0AAX> - pretty easy\n```drpcli templates show net-seed.tmpl --format=yaml &gt; \/tmp\/my_fancy_new-net-seed.yaml\nvim \/tmp\/my_fancy_new-net-seed.yaml\n# change ID to a new template name\n# change whatever else\n# leave the late_command stuff in there\ndrpcli templates create -&lt; \/tmp\/my_fancy_new-net-seed.yaml\n```\nNow modify a BootEnv to use your new seed instead of the default `net-seed.tmpl`.  Basically - clone a BootEnv, and use that as your stage BootEnv for workflow transition.",
        "ts": "1511971112.000393"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "speaking of BootEnv ... via the packet docker\n [root@buildbox ubuntu1604]# save2image ubuntu1604.tar\n\nI should be able to use that as a bootenv image directly ?",
        "ts": "1511971612.000097"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "<@U6QFVRJNB> Getting this error when I try to create the new template:\n```[dradmin@dr-admin ~]$ drpcli templates create - &lt; necla-ubu-seed.yaml\nError: Invalid template object: error converting YAML to JSON: yaml: line 143: could not find expected ':' and error converting YAML to JSON: yaml: line 143: could not find expected ':'```",
        "ts": "1511977173.000339"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "can you direct message me your yaml (excise any sensitive bits)...",
        "ts": "1511977236.000380"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "probably just a space format error in the yaml",
        "ts": "1511977262.000316"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "(at around line 143)",
        "ts": "1511977273.000246"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "n\/m, indentation error from editing... :face_with_rolling_eyes:",
        "ts": "1511977352.000293"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": ":slightly_smiling_face:",
        "ts": "1511977399.000572"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U416T0AAX> uploaded a file: <https:\/\/rackn.slack.com\/files\/U416T0AAX\/F86NJD11P\/bootenv-clone-fail-ux.png|bootenv-clone-fail-ux.png> and commented: Next issue... getting error when trying to save bootenv cloned in the UX",
        "file": {
            "id": "F86NJD11P",
            "created": 1511977867,
            "timestamp": 1511977867,
            "name": "bootenv-clone-fail-ux.png",
            "title": "bootenv-clone-fail-ux.png",
            "mimetype": "image\/png",
            "filetype": "png",
            "pretty_type": "PNG",
            "user": "U416T0AAX",
            "editable": false,
            "size": 25904,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F86NJD11P\/bootenv-clone-fail-ux.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F86NJD11P\/download\/bootenv-clone-fail-ux.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F86NJD11P-5d5c90f11b\/bootenv-clone-fail-ux_64.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F86NJD11P-5d5c90f11b\/bootenv-clone-fail-ux_80.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F86NJD11P-5d5c90f11b\/bootenv-clone-fail-ux_360.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360_w": 353,
            "thumb_360_h": 261,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F86NJD11P-5d5c90f11b\/bootenv-clone-fail-ux_160.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "image_exif_rotation": 1,
            "original_w": 353,
            "original_h": 261,
            "permalink": "https:\/\/rackn.slack.com\/files\/U416T0AAX\/F86NJD11P\/bootenv-clone-fail-ux.png",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F86NJD11P-8e22746ac4",
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc8764BD8T",
                "created": 1511977867,
                "timestamp": 1511977867,
                "user": "U416T0AAX",
                "is_intro": true,
                "comment": "Next issue... getting error when trying to save bootenv cloned in the UX"
            }
        },
        "user": "U416T0AAX",
        "upload": true,
        "display_as_bot": false,
        "username": "wdennis",
        "bot_id": null,
        "ts": "1511977869.000239"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "use `drpcli`:\n```drpcli bootenvs show ubuntu-16.04-install --format=yaml &gt; my-ubuntu-16.04-install.yaml\n\n# modify appropriately - make sure to change \"ID\" \nvim my-ubuntu-16.04-install.yaml\n\ndrpcli bootenvs create -&lt; my-ubuntu-16.04-install.yaml```",
        "edited": {
            "user": "U6QFVRJNB",
            "ts": "1511978754.000000"
        },
        "ts": "1511978749.000582"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "sorry - I don't use UX, so hadn't run in to that bug - but, I get same thing trying to `clone`",
        "ts": "1511978789.000105"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Thought you guys could use the QA help :stuck_out_tongue_winking_eye:",
        "ts": "1511979346.000547"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "(On UX)",
        "ts": "1511979371.000148"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "Since we don't actually have a UX person ... I think it's coming along fabulously ... certainly has rough edges though - no doubt ...",
        "ts": "1511979409.000234"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "It’s so beautiful that it makes me want to use it...",
        "ts": "1511979527.000116"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "please do ... and ... please file tickets as you bump in to those sharp edges",
        "ts": "1511979564.000026"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": ":ok_hand:  <https:\/\/github.com\/digitalrebar\/provision\/issues\/570>",
        "edited": {
            "user": "U416T0AAX",
            "ts": "1512003558.000000"
        },
        "ts": "1511979640.000447"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U416T0AAX> - I submitted a pull request for `provision-content` which adds support for a custom preseed to be defined.  This lets the stock provided BootEnvs remain unchanged, and you can simply create a Param of `select-seed` with the value of a new template file with your custom preseed changes - it hasn't been approved yet, and will take a little while to work through the system to release... \n<https:\/\/github.com\/digitalrebar\/provision-content\/pull\/42>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "add support for custom seed in Ubuntu\/Debian BootEnvs by sygibson · Pull Request #42 · digitalrebar\/provision-content",
                "title_link": "https:\/\/github.com\/digitalrebar\/provision-content\/pull\/42",
                "text": "modifies debian-8, debian-9, and ubuntu-16.04 to use \"seed\" of \"select-seed.tmpl\" adds \"select-seed.tmpl\" which by default uses the original \"net-seed.tmpl, or the operators provided template see...",
                "fallback": "GitHub: add support for custom seed in Ubuntu\/Debian BootEnvs by sygibson · Pull Request #42 · digitalrebar\/provision-content",
                "from_url": "https:\/\/github.com\/digitalrebar\/provision-content\/pull\/42",
                "thumb_url": "https:\/\/avatars2.githubusercontent.com\/u\/5308433?s=400&v=4",
                "thumb_width": 250,
                "thumb_height": 250,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1
            }
        ],
        "ts": "1511998635.000460"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "<@U6QFVRJNB> Sounds great! Also do this for RedHat-family distros?",
        "ts": "1512002806.000112"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Yeah. We are talking about that.  ",
        "ts": "1512002944.000303"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "That would be great -- the more we can stick with DR-provided content, the better (as far as getting updated content etc.)",
        "ts": "1512003392.000044"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Of course, it's still a benefit sometimes of creating custom objects, but this breaks the community\/RackN-provided updates via the content system (custom obj's never get updated)",
        "ts": "1512003468.000191"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Well. Part of me is wondering what you want to do.  Could what you want be handled by tasks?  Or by <@U54E4SD4G>’s changes ",
        "ts": "1512007206.000149"
    },
    {
        "type": "message",
        "user": "U54E4SD4G",
        "text": "ah so",
        "ts": "1512009183.000144"
    },
    {
        "type": "message",
        "user": "U54E4SD4G",
        "text": "for custom preseeds I maintain my own, \"fireeye-content\" package...",
        "ts": "1512009196.000225"
    },
    {
        "type": "message",
        "user": "U54E4SD4G",
        "text": "or well, custom anything really",
        "ts": "1512009212.000126"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Yeah that was part of the purpose for Content Packs. Glad you are using them. ",
        "ts": "1512009292.000081"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "<@U02DGQYK1> My goal is to as little as possible in the preseed, and as much of the work as possible in my configuration mgmt system (Ansible in my case.)",
        "ts": "1512013397.000055"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "That being said, I do need to handle some stuff in preseed that needs to happen during OS install, to prep for the CM run",
        "ts": "1512013467.000199"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "(Well, disk partitioning too)",
        "ts": "1512013488.000034"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "My main deltas from the stock DRP seed file are:\n- enable root account with password (sadly, company std) as well as key exchange \n- don’t create initial user (root suffices)\n- install ‘python-minimal’ pkg (provides Py2.7, which is needed for Ansible runs)",
        "ts": "1512013751.000220"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Haven’t tried to tackle using differing partitioning schemes, which I believe is enabled via sub-template inclusion",
        "ts": "1512013861.000185"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "in ubuntu right?",
        "ts": "1512016783.000086"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "I would do those as three tasks in a stage i sequence into a workflow.",
        "ts": "1512016817.000166"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Use the custom partitioning pieces for partition magic.",
        "ts": "1512016835.000134"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U416T0AAX>- something like this:",
        "ts": "1512016880.000203"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "task1 - rmuser rocketskates in a shell script.",
        "ts": "1512016892.000170"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "task2 - usermod -p &lt;encrypted password&gt; (from parameter) in script",
        "ts": "1512016970.000152"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "task3 - apt-get install -y python-minimal",
        "ts": "1512016993.000080"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "stage customize - task1, task2, task3, change-stage - RunnerWait = true.",
        "ts": "1512017030.000115"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "workflow: ubuntu-16.04-install -&gt; customize -&gt; complete-nowait",
        "ts": "1512017050.000145"
    }
]