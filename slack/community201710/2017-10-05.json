[
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U416T0AAX> - how do you check for and enumerate GPUs?",
        "ts": "1507218410.000314"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "<@U02DGQYK1> Primitive, but… `lspci -Q | grep -i vga` then eyeball output…",
        "ts": "1507219273.000396"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "example:\n```root@ml17-pc04:~# lspci -Q | grep -i vga\n05:00.0 VGA compatible controller: NVIDIA Corporation GP102 [GeForce GTX 1080 Ti] (rev a1)\n06:00.0 VGA compatible controller: NVIDIA Corporation GP102 [GeForce GTX 1080 Ti] (rev a1)\n09:00.0 VGA compatible controller: NVIDIA Corporation GP102 [GeForce GTX 1080 Ti] (rev a1)```",
        "ts": "1507219301.000341"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Another example (different GPUs):\n```root@snake06:~# lspci -Q | grep -i vga\n01:00.0 VGA compatible controller: NVIDIA Corporation GM200 [GeForce GTX TITAN X] (rev a1)\n02:00.0 VGA compatible controller: NVIDIA Corporation GM200 [GeForce GTX TITAN X] (rev a1)\n03:00.0 VGA compatible controller: NVIDIA Corporation GM200 [GeForce GTX TITAN X] (rev a1)\n04:00.0 VGA compatible controller: NVIDIA Corporation GM200 [GeForce GTX TITAN X] (rev a1)```",
        "ts": "1507219445.000365"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "okay - figured something like that but was wondering to be sure.",
        "ts": "1507219506.000260"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Of course, that still works on a system without GPUs… example:\n```[root@ml53 ~]# lspci -Q | grep -i vga\n06:01.0 VGA compatible controller: Matrox Electronics Systems Ltd. MGA G200eW WPCM450 (rev 0a)```",
        "ts": "1507219566.000147"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Yeah - but that may be sufficient as a hint and info.  It might even be drivable.",
        "ts": "1507219764.000456"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Cool thanks",
        "ts": "1507219766.000352"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "For NVIDIA GPUs only:\n```root@ml17-pc04:~# nvidia-smi -L\nGPU 0: GeForce GTX 1080 Ti (UUID: GPU-04875823-43f4-f49e-2f5f-f6027ab4cabf)\nGPU 1: GeForce GTX 1080 Ti (UUID: GPU-451a1806-3b88-8ea4-73ba-6bffe562ade0)\nGPU 2: GeForce GTX 1080 Ti (UUID: GPU-aa755a59-d4f2-b8e6-124a-6a0f6a2cb5ed)```",
        "ts": "1507219880.000651"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "of course, would not work on AMD \/ Intel… (we only use NVIDIA for GPU computing…)",
        "ts": "1507219988.000072"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "sure - interesting - I’m hoping for more generic, but useful to know",
        "ts": "1507220156.000125"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Hi <!channel> - updated tip content to include a new sledgehammer with some additional tools for disk manipulation.  GPT partitions and the like.  If you import new content, you will need to update sledgehammer.  ```drpcli bootenvs uploadiso ce-discovery``` would fix it.",
        "ts": "1507225521.000339"
    },
    {
        "type": "message",
        "user": "U75QJVA3Y",
        "text": "I still can't get sledgehammer to expand on `v3.1.0-0-b70cf8ee1f61844a6d64070a8b272c2bec512204`: looks like `explode_iso.sh` is still unhappy. I'm running on CentOS 7.4 and here is the error from the UI:\n```Command output: Explode iso sledgehammer\/b3c09ebd5a9c228c66d8a617b6f5d10ccbe1c273 \/var\/lib\/dr-provision\/tftpboot \/var\/lib\/dr-provision\/tftpboot\/isos\/sledgehammer-b3c09ebd5a9c228c66d8a617b6f5d10ccbe1c273.tar \/var\/lib\/dr-provision\/tftpboot\/sledgehammer\/b3c09ebd5a9c228c66d8a617b6f5d10ccbe1c273 Extracting \/var\/lib\/dr-provision\/tftpboot\/isos\/sledgehammer-b3c09ebd5a9c228c66d8a617b6f5d10ccbe1c273.tar for sledgehammer\/b3c09ebd5a9c228c66d8a617b6f5d10ccbe1c273 vmlinuz0: OK stage1.img: OK stage2.img: OK \/usr\/sbin\/selinuxenabled```\nselinux is in permssive mode",
        "ts": "1507228941.000456"
    },
    {
        "type": "message",
        "user": "U75QJVA3Y",
        "text": "The ce-ubuntu-16.04-install and the ce-centos-7.3.1611-install images worked fine after a SIGHUP to dr-provision those have a checkmark on boot environments. cd-sledgehammer and ce-discovery both still have exes.",
        "ts": "1507229261.000469"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "hi carlp - I'm looking in to this right now",
        "ts": "1507229294.000210",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U75QJVA3Y"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "<@U75QJVA3Y> based on that output from explode_iso for installing Sledgehammer, it looks like restorecon failed for some reason.",
        "ts": "1507235111.000127"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Can you run it against \/var\/lib\/dr-provision\/tftpboot and see what happend?",
        "ts": "1507235149.000213"
    },
    {
        "type": "message",
        "user": "U75QJVA3Y",
        "text": "```[kumulus@koiab dr-provision-install]$ sudo restorecon \/var\/lib\/dr-provision\/tftpboot\n[sudo] password for kumulus: \n[kumulus@koiab dr-provision-install]$ echo $?\n0\n[kumulus@koiab dr-provision-install]$```",
        "ts": "1507235528.000040"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "ok, that is as expected.",
        "ts": "1507235570.000008"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "What do the last few lines of your explode_iso.sh look like?",
        "ts": "1507235593.000064"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "(should be \/var\/lib\/dr-provision\/tftpboot\/explode_iso.sh",
        "ts": "1507235638.000269"
    },
    {
        "type": "message",
        "user": "U75QJVA3Y",
        "text": "```printf '%s' \"$expected_sha\" &gt; \"${os_install_dir}.extracting\/.${os_name}.rebar_canary\"\n[[ -d \"${os_install_dir}\" ]] &amp;&amp; mv \"${os_install_dir}\" \"${os_install_dir}.deleting\"\nmv \"${os_install_dir}.extracting\" \"${os_install_dir}\"\nrm -rf \"${os_install_dir}.deleting\"\n\nif which selinuxenabled &amp;&amp; selinuxenabled; then\n    restorecon -R -F \"$tftpboot\"\nfi\n```",
        "ts": "1507235644.000031"
    },
    {
        "type": "message",
        "user": "U75QJVA3Y",
        "text": "Interestingly:\n```[kumulus@koiab dr-provision-install]$ sudo selinuxenabled ; echo $?\n0```",
        "ts": "1507235823.000192"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "ya, even in permissive mode selinuxenabled will return 0",
        "ts": "1507235979.000002"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "It only returns failure when selinux is disabled.",
        "ts": "1507235991.000431"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "ya, you are affected by a bug that <@U6QFVRJNB> fixed yesterday.",
        "ts": "1507236040.000564"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "my amazing typo skills wrote $tftpboot instead of $tftproot :slightly_smiling_face:",
        "ts": "1507236066.000269"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "The latest tip release should fix that issue.",
        "ts": "1507236276.000018"
    },
    {
        "type": "message",
        "user": "U75QJVA3Y",
        "text": "awesome, that fixed it. Thanks!",
        "ts": "1507242329.000275",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U02DHRR2L"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<!channel> We hope to see all of you at the next Meetup, scheduled for Tuesday October 10th at 11am PST.  \n\nAgenda Doc:  <https:\/\/docs.google.com\/document\/d\/1FRFI-vONJY9yje9UsBqCI8XhojJ0XARsFgs4jbm-VRk>\n\nAlso - vote if you'd like to see the meetup  move to a weekly cadence:\nPoll:  <https:\/\/www.meetup.com\/digitalrebar\/polls\/1255504\/>\n\nMeetup page: <https:\/\/www.meetup.com\/digitalrebar\/>",
        "attachments": [
            {
                "title": "Weekly ... or every-other-weekly ?? -  Digital Rebar (Mountain View, CA)   | Meetup",
                "title_link": "https:\/\/www.meetup.com\/digitalrebar\/polls\/1255504\/",
                "text": "Digital Rebar Provision (DRP) is the open source (APLv2) , fast and simple data center provisioning and control scaffolding designed with a cloud native architecture. This Online Meetup group will dis",
                "fallback": "Weekly ... or every-other-weekly ?? -  Digital Rebar (Mountain View, CA)   | Meetup",
                "from_url": "https:\/\/www.meetup.com\/digitalrebar\/polls\/1255504\/",
                "service_icon": "https:\/\/secure.meetupstatic.com\/s\/img\/144395054627769971357\/logo\/swarm\/m_swarm_120x120.png",
                "service_name": "meetup.com",
                "id": 1
            },
            {
                "service_name": "Meetup",
                "title": "Digital Rebar",
                "title_link": "https:\/\/www.meetup.com\/digitalrebar\/",
                "text": "Digital Rebar Provision (DRP) is the open source (APLv2) , fast and simple data center provisioning and control scaffolding designed with a cloud native architecture. This Online Meetup group will dis",
                "fallback": "Meetup: Digital Rebar",
                "thumb_url": "https:\/\/secure.meetupstatic.com\/photos\/event\/c\/a\/0\/0\/highres_464511712.jpeg",
                "from_url": "https:\/\/www.meetup.com\/digitalrebar\/",
                "thumb_width": 188,
                "thumb_height": 186,
                "service_icon": "https:\/\/secure.meetupstatic.com\/s\/img\/144395054627769971357\/logo\/swarm\/m_swarm_120x120.png",
                "id": 2
            }
        ],
        "ts": "1507244493.000233"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U6QFVRJNB> shared a file: <https:\/\/rackn.slack.com\/files\/U6QFVRJNB\/F78DZGSTS\/v002_-_20171010_-_digital_rebar_provision_3|v002 - 20171010 - Digital Rebar Provision 3.2 planning and status, Kubernetes Deployment Demo>",
        "file": {
            "id": "F78DZGSTS",
            "created": 1506445769,
            "timestamp": 1506445769,
            "name": "v002 - 20171010 - Digital Rebar Provision 3",
            "title": "v002 - 20171010 - Digital Rebar Provision 3.2 planning and status, Kubernetes Deployment Demo",
            "mimetype": "application\/vnd.google-apps.document",
            "filetype": "gdoc",
            "pretty_type": "GDocs Document",
            "user": "U6QFVRJNB",
            "editable": false,
            "size": 2566,
            "mode": "external",
            "is_external": true,
            "external_type": "gdrive",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/docs.google.com\/document\/d\/1FRFI-vONJY9yje9UsBqCI8XhojJ0XARsFgs4jbm-VRk",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F78DZGSTS-7edca30e0b\/v002_-_20171010_-_digital_rebar_provision_3_64.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F78DZGSTS-7edca30e0b\/v002_-_20171010_-_digital_rebar_provision_3_80.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F78DZGSTS-7edca30e0b\/v002_-_20171010_-_digital_rebar_provision_3_360.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360_w": 278,
            "thumb_360_h": 360,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F78DZGSTS-7edca30e0b\/v002_-_20171010_-_digital_rebar_provision_3_480.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_480_w": 371,
            "thumb_480_h": 480,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F78DZGSTS-7edca30e0b\/v002_-_20171010_-_digital_rebar_provision_3_160.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F78DZGSTS-7edca30e0b\/v002_-_20171010_-_digital_rebar_provision_3_720.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_720_w": 557,
            "thumb_720_h": 720,
            "thumb_800": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F78DZGSTS-7edca30e0b\/v002_-_20171010_-_digital_rebar_provision_3_800.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_800_w": 800,
            "thumb_800_h": 1035,
            "thumb_960": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F78DZGSTS-7edca30e0b\/v002_-_20171010_-_digital_rebar_provision_3_960.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_960_w": 742,
            "thumb_960_h": 960,
            "thumb_1024": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F78DZGSTS-7edca30e0b\/v002_-_20171010_-_digital_rebar_provision_3_1024.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_1024_w": 791,
            "thumb_1024_h": 1024,
            "image_exif_rotation": 1,
            "original_w": 800,
            "original_h": 1035,
            "permalink": "https:\/\/rackn.slack.com\/files\/U6QFVRJNB\/F78DZGSTS\/v002_-_20171010_-_digital_rebar_provision_3",
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 0,
            "has_rich_preview": true
        },
        "user": "U6QFVRJNB",
        "upload": false,
        "display_as_bot": false,
        "username": "shane",
        "bot_id": null,
        "ts": "1507244494.000009"
    }
]