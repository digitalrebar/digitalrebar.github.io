[
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Huh.",
        "ts": "1519410751.000385"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "I just installed the new stable, and when I try to do `drpcli bootenvs uploadiso sledgehammer` I get `Error: GET: bootenvs\/sledgehammer: Not Found`",
        "ts": "1519410776.000164"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Oh, this is probably why:",
        "ts": "1519410879.000319"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "```Installing Version stable of Digital Rebar Provision Community Content\nFailed to dowload content.\nFailed to download sha of content.\nsha256sum: drp-community-content.yaml: No such file or directory\ndrp-community-content.yaml: FAILED open or read\nsha256sum: WARNING: 1 listed file could not be read```",
        "ts": "1519410881.000475"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Going into the GUI under \"Info &amp; Preferences\" and clicking the \"Content\" link under System Wizard and manually transferring community-content and community-contrib fixed it.",
        "ts": "1519411045.000531"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "how did you install?",
        "ts": "1519411163.000231"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "I found this and I’m fixing it shortly, I think.",
        "ts": "1519411188.000178"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Actually, it is in tip\/tools\/install.sh",
        "ts": "1519411199.000680"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "I’ll crank a 3.7.1 with a couple of fixes here shortly.",
        "ts": "1519411217.000559"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "`curl -fsSL get.rebar.digital\/stable | bash -s -- --isolated install`",
        "ts": "1519411223.000058"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "hmm - when did you do the install?",
        "ts": "1519411315.000184"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "just probably means now.  :slightly_smiling_face:",
        "ts": "1519411328.000629"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "About ten minutes ago?",
        "ts": "1519411341.000258"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "okay - thinking .  It worked for me.",
        "ts": "1519411352.000087"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "oh - I wonder if the tree was gyrating because of what I was doing.  maybe.",
        "ts": "1519411379.000662"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Your recovery method was and is sound though.",
        "ts": "1519411387.000069"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Cool",
        "ts": "1519411392.000566"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Reinstalled tip just a bit ago and had the problem again.  Don't know why it doesn't work for me.",
        "ts": "1519416889.000451"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "hmmm - okay",
        "ts": "1519416937.000440"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U9BU09D51> - can do it two steps for me.",
        "ts": "1519416963.000660"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "`curl -fsSL get.rebar.digital\/stable &gt; install.sh`",
        "ts": "1519416984.000589"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "`chmod +x install.sh`",
        "edited": {
            "user": "U02DGQYK1",
            "ts": "1519416990.000000"
        },
        "ts": "1519416989.000213"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "edit to add `set -x` near the top.",
        "ts": "1519417001.000242"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "`.\/install.sh --isolated install`",
        "ts": "1519417016.000275"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Sure I can try that.",
        "ts": "1519417022.000313"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Send me the output",
        "ts": "1519417024.000015"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "please",
        "ts": "1519417027.000311"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U9BU09D51> uploaded a file: <https:\/\/rackn.slack.com\/files\/U9BU09D51\/F9E2WJEJW\/output.txt|Output>",
        "file": {
            "id": "F9E2WJEJW",
            "created": 1519417203,
            "timestamp": 1519417203,
            "name": "Output.txt",
            "title": "Output",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U9BU09D51",
            "editable": true,
            "size": 6127,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F9E2WJEJW\/output.txt?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F9E2WJEJW\/download\/output.txt?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "permalink": "https:\/\/rackn.slack.com\/files\/U9BU09D51\/F9E2WJEJW\/output.txt",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F9E2WJEJW-60b3b87e3e",
            "edit_link": "https:\/\/rackn.slack.com\/files\/U9BU09D51\/F9E2WJEJW\/output.txt\/edit",
            "preview": "+ set -e\r\n+ DEFAULT_DRP_VERSION=stable\r\n+ ISOLATED=false\r\n+ NO_CONTENT=false\r\n+ DBG=false\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>+ set -e<\/pre><\/div>\n<div><pre>+ DEFAULT_DRP_VERSION=stable<\/pre><\/div>\n<div><pre>+ ISOLATED=false<\/pre><\/div>\n<div><pre>+ NO_CONTENT=false<\/pre><\/div>\n<div><pre>+ DBG=false<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 174,
            "lines_more": 169,
            "preview_is_truncated": true,
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U9BU09D51",
        "upload": true,
        "display_as_bot": false,
        "username": "dave.parker",
        "bot_id": null,
        "ts": "1519417204.000106"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "it seemed to work for you that time.",
        "ts": "1519417243.000440"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Huh",
        "ts": "1519417257.000215"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Yeah, sure did.  I can grab sledgehammer just fine.",
        "ts": "1519417266.000331"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Maybe it's some weird vagrant thing.  Although I've got it to work in vagrant before.",
        "ts": "1519417297.000401"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "It could be a networking path issue at times.  :neutral_face:",
        "ts": "1519417312.000002"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "hmmm",
        "ts": "1519417314.000036"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "I did manually try to reinstall once (not through vagrant up or vagrant provision, just going on the box and running the curl\/install command) and that failed at that time.",
        "ts": "1519417369.000168"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Well, let me try again.",
        "ts": "1519417375.000105"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "I’m trying to help, but not sure what is going on.  The thing I fixed this morning was if you specified `--version=v3.7.0`.  It would fail for certain.  You aren’t doing that so it is some other problem.",
        "ts": "1519417428.000223"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Ok.",
        "ts": "1519417439.000311"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Stable shouldn’t be moving so the files should be there.",
        "ts": "1519417454.000616"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Sometimes tip can fail this way if you catch it during an update.  The files are changing, but this isn’t that either.",
        "ts": "1519417483.000363"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "It certainly doesn't help that my laptop keeps crashing.",
        "ts": "1519417620.000481"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Ok I'm trying again with stable through vagrant.",
        "ts": "1519417659.000289"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "See if that works now.",
        "ts": "1519417665.000321"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Huh, nope.  Still doesn't work.",
        "ts": "1519417980.000560"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "That's really weird.",
        "ts": "1519417983.000187"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "yeah - does the direct curl work? `curl -sfL -o drp-community-content.sha256 <https:\/\/github.com\/digitalrebar\/provision-content\/releases\/download\/stable\/drp-community-content.sha256>`",
        "ts": "1519418034.000554"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "It does",
        "ts": "1519418208.000013"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "It works when I run from the command line though.",
        "ts": "1519418595.000083"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Something is screwy with the way it installs during vagrant provisioning.",
        "ts": "1519418612.000291"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Ok I don't get this.  Because I see this in the install: ```master: Installing Version stable of Digital Rebar Provision Community Content\n    master: drp-community-content.yaml: OK```",
        "edited": {
            "user": "U9BU09D51",
            "ts": "1519419096.000000"
        },
        "ts": "1519419074.000554"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "But it still fails to find sledgehammer?",
        "ts": "1519419116.000105"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "how are you running the dr-provision?",
        "ts": "1519419674.000317"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "A shell script that the vagrant provisioner runs.",
        "ts": "1519420074.000239"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "```#! \/bin\/bash\nmkdir dr-prov\nchown vagrant:vagrant dr-prov\ncd dr-prov\ncurl -fsSL get.rebar.digital\/tip | bash -s -- --isolated install\nnohup sudo .\/dr-provision --static-ip=192.168.50.10 --base-root=\/home\/ubuntu\/dr-prov\/drp-data --local-content=\"\" --default-content=\"\" &amp; &amp;&gt; \/dev\/null\nsleep 10\nchown -R vagrant:vagrant .\n.\/drpcli bootenvs uploadiso sledgehammer\n.\/drpcli bootenvs uploadiso ubuntu-16.04-install\n.\/drpcli subnets create - &lt; \/tmp\/subnet.json\n.\/drpcli bootenvs create - &lt; \/tmp\/ubuntu1404.json\n.\/drpcli prefs set unknownBootEnv discovery defaultBootEnv sledgehammer defaultStage discover```",
        "ts": "1519420077.000442"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "I just added the chown stuff.  The first one seemed to fix the problem of the files not downloading at all, but it still doesn't seem to load properly.",
        "ts": "1519420107.000025"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "```master: Installing Version stable of Digital Rebar Provision Community Content\n    master: drp-community-content.yaml: OK\n    master: # Run the following commands to start up dr-provision in a local isolated way.\n    master: # The server will store information and serve files from the drp-data directory.\n    master: sudo .\/dr-provision --static-ip=10.0.2.15 --base-root=\/home\/vagrant\/dr-prov\/drp-data --local-content=\"\" --default-content=\"\" &amp;\n    master:\n    master: # Once dr-provision is started, these commands will install the isos for the community defaults\n    master:   .\/drpcli bootenvs uploadiso ubuntu-16.04-install\n    master:   .\/drpcli bootenvs uploadiso centos-7-install\n    master:   .\/drpcli bootenvs uploadiso sledgehammer\n    master: dr-provision2018\/02\/23 20:57:55.488386 Version: v3.7.0-0-246bbac639d47f8302fdfd4642646aeb498f9d0c\n    master: dr-provision2018\/02\/23 20:57:55.492666 Extracting Default Assets\n    master: dr-provision2018\/02\/23 20:57:56.081949 Starting TFTP server\n    master: dr-provision2018\/02\/23 20:57:56.082273 Starting static file server\n    master: dr-provision2018\/02\/23 20:57:56.082411 Starting DHCP server\n    master: dr-provision2018\/02\/23 20:57:56.084521 Starting PXE\/BINL server\n    master: dr-provision2018\/02\/23 20:57:56.084848 Starting API server\n    master: dr-provision2018\/02\/23 20:58:05.548566 [2:1]frontend [audit]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/frontend\/frontend.go:642\n    master: [2:1]Authenticated rocketskates - users token rocketskates - 127.0.0.1\n    master: Error: GET: bootenvs\/sledgehammer: Not Found\n    master: dr-provision2018\/02\/23 20:58:05.639968 [6:2]frontend [audit]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/frontend\/frontend.go:642\n    master: [6:2]Authenticated rocketskates - users token rocketskates - 127.0.0.1\n    master: Error: GET: bootenvs\/ubuntu-16.04-install: Not Found```",
        "ts": "1519420192.000410"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "I'm going to try running the script manually from the command line in the vagrant box.",
        "ts": "1519420245.000199"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "It fails that way too.  But the manual curl install worked.  So I guess I'll go step by step until I find out what's not working...",
        "ts": "1519420365.000137"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "this seems like you aren’t finding the content in the drp-data directory.",
        "ts": "1519420608.000018"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "check - `\/home\/vagrant\/dr-prov\/drp-data\/saas-content` for files",
        "ts": "1519420626.000390"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U9BU09D51> - more info ^",
        "ts": "1519420636.000450"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Hrm ok",
        "ts": "1519420645.000348"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "```vagrant@dr-prov:~\/dr-prov\/drp-data\/saas-content$ ls -la\ntotal 88\ndrwxrwxr-x 2 vagrant vagrant  4096 Feb 23 21:16 .\ndrwxrwxr-x 9 vagrant vagrant  4096 Feb 23 21:16 ..\n-rw-rw-r-- 1 vagrant vagrant 79008 Feb 23 21:16 default.yaml```",
        "ts": "1519420846.000346"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Huh, now it's not working with the curl command manually either.",
        "ts": "1519421302.000400"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "I'm stumped then.",
        "ts": "1519421307.000529"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "I'm going to try a non-vagrant machine.",
        "ts": "1519421312.000578"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "<@U9BU09D51> if you are trying to build a system w\/ DRP content staged, you can do it by populating the directory structure directly instead of using the APIs",
        "ts": "1519421392.000286"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "It seems to be something with vagrant.  It's working fine installed on a hand-built host.",
        "ts": "1519423196.000421"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "whew!  I guess.  :disappointed:",
        "ts": "1519423208.000358"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "install.sh is taking ages to download dr-provision.zip :disappointed:",
        "ts": "1519456603.000003"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "40KBPS max speed",
        "ts": "1519456609.000078"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "unable to upgrade",
        "ts": "1519456616.000081"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "any ideas on speeding up",
        "ts": "1519456622.000016"
    }
]