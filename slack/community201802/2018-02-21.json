[
    {
        "user": "U9DAYGSRL",
        "text": "<@U9DAYGSRL> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1519224556.000505"
    },
    {
        "type": "message",
        "user": "U32PZNCP5",
        "text": "Welcome Amit",
        "ts": "1519225051.000311",
        "reactions": [
            {
                "name": "hand",
                "users": [
                    "U9DAYGSRL"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Hi folks.  Another question.  The docs talk about setting up the DHCP server on a subnet to just be a relay, but there's no examples of how to do that that I can find.",
        "ts": "1519237850.000241"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "I'm not even sure that's what I want though.  So I guess let me state my use case.  I have a network that already has a DHCP server running on it, and I can't start another one that will compete with it, and I can't create another network or vlan, so I have to just play nicely with what's there.  I *can* have that server forward to another server, or if it's possible I can just do an iPXE boot directly to the provisioning server.  But I'm not sure which would be better or how to set up the dr-provision DHCP server to not stomp on the other one.",
        "ts": "1519237962.000124"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "hm",
        "ts": "1519238683.000311"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "We operate normally as a target of a DHCP relay.",
        "ts": "1519238697.000547"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "just create a subnet that covers the IP address the relay lives in.",
        "ts": "1519238722.000288"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "and hten have the relay point to us.",
        "ts": "1519238731.000389"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "The other options for coexisting with other DHCP infrastructure are to just point next-server in your current DHCP infrastructure to us (in which case you wouldn't create any subnets in Digital Rebar, and lety your current DHCP infrastructure do all the heavy lifting), or you can use us as a ProxyDHCP server.",
        "ts": "1519238962.000302"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "If I'm on the same subnet I keep getting messages about how there \"might be another DHCP server on this network\" (there is!) and I just get conflicts.  I guess my question is how do I configure the subnet so it doesn't try to be an active DHCP server and answer all requests?",
        "ts": "1519238976.000499"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Ahhhh",
        "ts": "1519238980.000615"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Ok, I think that's the setup I want.",
        "ts": "1519238986.000584"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "So I don't configure a subnet at all and just have the existing DHCP server pass to me via next-server?  I think that's what I want.",
        "ts": "1519239026.000246"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Yep.",
        "ts": "1519239035.000422"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Ok let me give that a whirl.",
        "ts": "1519239042.000333"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Thanks.",
        "ts": "1519239043.000623"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Going that rout you will need to configure next-server and bootfile appropriately for the nodes you will be booting",
        "ts": "1519239112.000093"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Ok",
        "ts": "1519239141.000465"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "for legacy BIOS nodes, you can just use lpxelinux.0",
        "ts": "1519239343.000508"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "for UEFI systems, we use ipxe, which gets a little more complicated.",
        "ts": "1519239367.000527"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "<http:\/\/ipxe.org\/howto\/chainloading> has the docs on setting up ipxe support.",
        "ts": "1519239478.000524",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U9DAYGSRL"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "anf <http:\/\/ipxe.org\/howto\/dhcpd#pxe_chainloading> has ISC DHCPD specific instructions",
        "ts": "1519239537.000667"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Excellent",
        "ts": "1519239578.000567"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "The 4 files we use for bootloading are: \nlpxelinux.0 &lt;-- legacy BIOS support by default.  No special config needed\nipxe.pxe &lt;-- legacy BIOS support using ipxe.  You need to \"break the loop\" as described in the first link in the IPXE docs.",
        "ts": "1519239776.000371"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "ipxe.efi &lt;-- UEFI booting using ipxe.  You will alkso need to break the loop.",
        "ts": "1519239815.000182"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "default.ipxe &lt;-- the filename dhcpd should send when ipxe is loaded",
        "ts": "1519239842.000599"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Our DHCP server handles figuring out which file to serve behind the scenes, but for others you need to configure them upfront.",
        "ts": "1519239948.000294"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": ":thumbsup:",
        "ts": "1519240291.000215"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "So I don't need to do anything special to get UEFI machines to boot if I use the integrated DHCP server?",
        "ts": "1519240320.000256"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "That's sweet.",
        "ts": "1519240323.000152"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "I can  use that config in our core sites, which will be good.",
        "ts": "1519240350.000322"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "You can also run us in ProxyDHCP mode -- create subnets for the address ranges you want to use and set Proxy to true.",
        "ts": "1519240436.000613"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "The tradeoff is that I have not tested to see if it works through a DHCP relay.",
        "ts": "1519240459.000064"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "and you have to relay your DHCP traffic to us as well as your usual DHCP servers.",
        "ts": "1519240501.000125"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Oh, and we don't handle UEFI arm boxes (32 or 64 bit) yet. :slightly_smiling_face:",
        "ts": "1519240540.000631"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "That's not a problem for me thankfully.",
        "ts": "1519240587.000645"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "I am using 3.2.6 drp, trying to learn it by pxe-booting virtualbox vm on the laptop.\nI am receiving pxe-e32: tftp open timeout\non server logs, I am getting [0:153]TFTP: lpxelinux.0: transfer error: read udp [::]:33657: i\/o timeout\n\nI am able to do tftp &lt;ip&gt; $get lpxelinux.0 successfully.\nHow to debug it further ?\nThanks,",
        "ts": "1519272729.000063"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "I'm assuming you mean v3.6.  \nDid you set a --static-ip address?  if so, what is it.",
        "ts": "1519278714.000126"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "Also, did you set your vboxnet0 subnet?",
        "ts": "1519278731.000038"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "any chance you put it in a container or have a firewall blocking traffic?",
        "ts": "1519278807.000082"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "hi",
        "ts": "1519284648.000270"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "managed to get it work",
        "ts": "1519284654.000322"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "I had specified incorrect subnet settings (next-server, specifically)",
        "ts": "1519284669.000056"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "I used wireshark to debug it",
        "ts": "1519284678.000127"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "sorry, I am learning the ropes of setting up kubernetes cluster via digital rebar",
        "ts": "1519284708.000041"
    },
    {
        "type": "message",
        "user": "U9DAYGSRL",
        "text": "yes, I mean v3.6",
        "ts": "1519284721.000122"
    }
]