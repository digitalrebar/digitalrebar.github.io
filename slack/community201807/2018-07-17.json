[
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "",
        "attachments": [
            {
                "fallback": "[July 16th, 2018 3:23 PM] robert.graham: Also, is there a `drpcli` compiled for busybox? The linux binary throws a segmentation fault.",
                "ts": "1531772585.000307",
                "author_id": "UA98B96BA",
                "author_subname": "Robert Graham",
                "channel_id": "C02L9P26Q",
                "channel_name": "community",
                "is_msg_unfurl": true,
                "is_reply_unfurl": true,
                "text": "Also, is there a `drpcli` compiled for busybox? The linux binary throws a segmentation fault.",
                "author_name": "Robert Graham",
                "author_link": "https:\/\/rackn.slack.com\/team\/UA98B96BA",
                "author_icon": "https:\/\/secure.gravatar.com\/avatar\/26bf6891653a6ac327b4310748211437.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0021-48.png",
                "mrkdwn_in": [
                    "text"
                ],
                "color": "D0D0D0",
                "from_url": "https:\/\/rackn.slack.com\/archives\/C02L9P26Q\/p1531772585000307?thread_ts=1531767125000390&cid=C02L9P26Q",
                "is_share": true,
                "footer": "From a thread in #community"
            }
        ],
        "ts": "1531834326.000299"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "hm... <@UA98B96BA> compiled for busybox?  no.   What distro are you running drpcli in?",
        "client_msg_id": "1f83b068-cb4c-46bb-8c31-920fc9e4f5f4",
        "ts": "1531834804.000476"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "esxi with a busybox interpreter",
        "client_msg_id": "9679a99b-ea8c-41c1-9e48-4ebd6e60b070",
        "ts": "1531834830.000436"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "esxi 6.7 to be exact",
        "client_msg_id": "3319cfd0-dfc4-4384-b7c6-155fb882108f",
        "ts": "1531834841.000039"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "unfortunately - we don't have `drpcli` for ESXi platforms ... it's a closed \"appliance\" environment :disappointed:",
        "client_msg_id": "b29fa73b-e5e6-40af-9b66-4e1134ad3c61",
        "ts": "1531834871.000163"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "In that case what would be the best way to reach back to drp from the host to continue the workflow without drpcli?",
        "client_msg_id": "9af7d168-9877-4e87-a71b-f0e98435cac8",
        "ts": "1531834935.000183"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "You don't. :disappointed: Everything you want to do afterwards has to be scripted in the kickstart.",
        "client_msg_id": "de66bfdf-c11f-4f46-9a82-4dcfdb8c6e50",
        "ts": "1531835009.000496"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "I was thinking a curl\/wget\/nc command, but the `processjobs` isnt exposed through the API",
        "client_msg_id": "74be2eab-8f5f-4999-a73e-b339cc5c174e",
        "ts": "1531835024.000430"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "unless the esxi userspace opens up, we cannot run tasks in it.",
        "client_msg_id": "e291636b-be17-477c-8c20-e8cde83f9492",
        "ts": "1531835034.000248"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "processjobs is not as single API call -- it is its own state machine.",
        "client_msg_id": "59ffc466-3d73-443e-8e69-81ddc4dae959",
        "ts": "1531835074.000177"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "So the issue I have is when always network booting, I somehow have to reach back to drp so it will update the boot order or my server will just continually reboot into the esxi installer via PXE",
        "client_msg_id": "5ae7a774-90ad-425c-bc2e-d555d715e671",
        "ts": "1531835122.000348"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "hm.",
        "client_msg_id": "51582bc0-5ffe-41ea-b7ce-52cb398f2fa0",
        "ts": "1531835150.000157"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "the -tip version of os-other should have that fixed.",
        "client_msg_id": "82605ced-a3ee-4814-82b7-7a6d8d544469",
        "ts": "1531835169.000339"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "Is there a way to have the esx-6-install stage not wait for the runner and switch over to local bootenv?",
        "client_msg_id": "5feed3ee-ee3d-44a1-862c-f7dd4fd71c77",
        "ts": "1531835183.000353"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "...",
        "client_msg_id": "9991650e-4263-4d41-9cb8-a3ad90b91c7f",
        "ts": "1531835248.000446"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "or not.",
        "client_msg_id": "a4215115-2c52-42c9-8b45-d8bb956d5a41",
        "ts": "1531835252.000108"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Hang on a few.",
        "client_msg_id": "9bf87e33-7eab-4889-994e-3f8acdefbd62",
        "ts": "1531835258.000259"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "I don't have access to the os-other repo.......",
        "client_msg_id": "f3d47af3-e621-4ae0-a7bf-454fdb6421e5",
        "ts": "1531835295.000321"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "ah",
        "client_msg_id": "313ea0ac-1f07-4542-97b9-0db464658679",
        "ts": "1531835313.000103"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Well, then, a snippet like this should do the job:",
        "client_msg_id": "62671c65-2e9c-4782-bd41-7d969b764747",
        "ts": "1531835324.000450"
    },
    {
        "type": "message",
        "text": "",
        "files": [
            {
                "id": "FBRQHEVNX",
                "created": 1531835361,
                "timestamp": 1531835361,
                "name": "esxi_boot_loop_breaker.py",
                "title": "esxi boot loop breaker",
                "mimetype": "text\/plain",
                "filetype": "python",
                "pretty_type": "Python",
                "user": "U02DJQSG8",
                "editable": true,
                "size": 793,
                "mode": "snippet",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FBRQHEVNX\/esxi_boot_loop_breaker.py?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FBRQHEVNX\/download\/esxi_boot_loop_breaker.py?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "permalink": "https:\/\/rackn.slack.com\/files\/U02DJQSG8\/FBRQHEVNX\/esxi_boot_loop_breaker.py",
                "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-FBRQHEVNX-229b5b607d",
                "edit_link": "https:\/\/rackn.slack.com\/files\/U02DJQSG8\/FBRQHEVNX\/esxi_boot_loop_breaker.py\/edit",
                "preview": "%pre --interpreter=python\r\nimport sys,re,os,urllib,urllib2,base64,syslog,socket, string, ssl, time\r\nurl = '{{.ApiURL}}\/api\/v3\/machines\/{{.Machine.UUID}}'\r\n\r\nopener = urllib2.build_opener(urllib2.HTTPSHandler(context=ssl.SSLContext(ssl.PROTOCOL_SSLv23)))\r",
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-operator\">%<\/span><span class=\"cm-variable\">pre<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">interpreter<\/span>=<span class=\"cm-variable\">python<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-keyword\">import<\/span> <span class=\"cm-variable\">sys<\/span>,<span class=\"cm-variable\">re<\/span>,<span class=\"cm-variable\">os<\/span>,<span class=\"cm-variable\">urllib<\/span>,<span class=\"cm-variable\">urllib2<\/span>,<span class=\"cm-variable\">base64<\/span>,<span class=\"cm-variable\">syslog<\/span>,<span class=\"cm-variable\">socket<\/span>, <span class=\"cm-variable\">string<\/span>, <span class=\"cm-variable\">ssl<\/span>, <span class=\"cm-variable\">time<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">url<\/span> = <span class=\"cm-string\">'{{.ApiURL}}\/api\/v3\/machines\/{{.Machine.UUID}}'<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-variable\">opener<\/span> = <span class=\"cm-variable\">urllib2<\/span>.<span class=\"cm-property\">build_opener<\/span>(<span class=\"cm-variable\">urllib2<\/span>.<span class=\"cm-property\">HTTPSHandler<\/span>(<span class=\"cm-variable\">context<\/span>=<span class=\"cm-variable\">ssl<\/span>.<span class=\"cm-property\">SSLContext<\/span>(<span class=\"cm-variable\">ssl<\/span>.<span class=\"cm-property\">PROTOCOL_SSLv23<\/span>)))<\/pre><\/div>\n<\/div>\n<\/div>\n",
                "lines": 21,
                "lines_more": 16,
                "preview_is_truncated": false
            }
        ],
        "upload": true,
        "user": "U02DJQSG8",
        "display_as_bot": false,
        "ts": "1531835362.000277"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "Ah yes, that's where I was headed with needing drpcli........ty!",
        "client_msg_id": "506953f1-04d5-4525-a618-554a7764dcaa",
        "ts": "1531835412.000399"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "tested on esxi 6.5, it may need some python3 fixes for 3.7",
        "client_msg_id": "2670c9f5-e322-4086-a59c-65e2b469834c",
        "ts": "1531835429.000007"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Let me know if that works, and I would appreciate any tweaks that may be needed.",
        "client_msg_id": "f6c7acd1-7974-4eb6-a321-4f0b30d7dca2",
        "ts": "1531835555.000529"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "I don't mess with esxi that much.",
        "client_msg_id": "7354dc52-194c-4e06-8cd3-b0761e224304",
        "ts": "1531835563.000404"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "Yep, I'll test out and if there needs to be any changes I'll shoot them back to you",
        "client_msg_id": "d92b7edf-6504-43df-91d9-5e8f24ef1bd6",
        "ts": "1531835578.000258"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Cool.",
        "client_msg_id": "f393f483-78c4-47f5-9851-51b35998f98e",
        "ts": "1531835584.000227"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "Much appreciated!",
        "client_msg_id": "6d82bc76-10e0-48c0-84e3-5292a09c07ca",
        "ts": "1531835588.000402"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<!channel> - our community meetup is scheduled to start in 1 hour (11 am PST).  We hope you can join us.  Meetup topics are HA Kubernetes with KRIB, v3.9.0 release notes, Documentation All The Things!, and as always community feedback.  Meetup details:  <https:\/\/www.meetup.com\/digitalrebar\/events\/lchdhpyxkbwb\/>",
        "client_msg_id": "033145dc-0bbb-45e6-accf-7ee1b58c0ec7",
        "attachments": [
            {
                "service_name": "Meetup",
                "title": "v021: More HA Kubernetes with KRIB, v3.9.0 release info, Community Feedback",
                "title_link": "https:\/\/www.meetup.com\/digitalrebar\/events\/lchdhpyxkbwb\/",
                "text": "Tue, Jul 17, 2018, 11:00 AM: Start Time is 11:00 am PST (12:00 pm MST, 1:00 pm CST, 2:00 pm EST ... )Welcome to the Digital Rebar online meetup. Please note we'll be using <http:\/\/Zoom.us|Zoom.us> for our meeting; so",
                "fallback": "Meetup: v021: More HA Kubernetes with KRIB, v3.9.0 release info, Community Feedback",
                "image_url": "https:\/\/secure.meetupstatic.com\/photos\/event\/d\/1\/b\/1\/600_467453681.jpeg",
                "fields": [
                    {
                        "title": "Where",
                        "value": "Online <https:\/\/zoom.us\/j\/3403934274> Mountain View, CA",
                        "short": true
                    },
                    {
                        "title": "When",
                        "value": "Tue, Jul 17, 2018, 11:00 AM",
                        "short": true
                    }
                ],
                "from_url": "https:\/\/www.meetup.com\/digitalrebar\/events\/lchdhpyxkbwb\/",
                "image_width": 472,
                "image_height": 250,
                "image_bytes": 69998,
                "service_icon": "https:\/\/www.meetup.com\/mu_static\/en-US\/4f86abc993eecccc33a115d00b405ced.png",
                "id": 1,
                "original_url": "https:\/\/www.meetup.com\/digitalrebar\/events\/lchdhpyxkbwb\/"
            }
        ],
        "ts": "1531846972.000225"
    },
    {
        "type": "message",
        "user": "UAAK8SMCZ",
        "text": "I have a sledgehammer question.  Where is the default machine name set?  I would like to add the asset tag from gohai to the initial name to ease identifying servers when I boot more than one.",
        "client_msg_id": "47e87652-ff9f-4f1c-940f-50d55ac535d4",
        "ts": "1531849661.000217"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "Dan - sledgehammer will use the DHCP supplied name in the lease - if not defined there, it'll fall back to using a preset naming preceded with a `d`, then the MAC address in dashed notation.",
        "client_msg_id": "0535dd3f-3ac5-4bf7-b60a-5921992cdc29",
        "ts": "1531850535.000483"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "You can set the Machine Name as part of a Stage in your Workflow - and make a call to get the Asset Tag from Gohai and set the name - subsequent boots of the machine will pick up the new name.",
        "client_msg_id": "16b95fb4-89f9-418f-b34d-760afe707dbe",
        "ts": "1531850571.000425"
    },
    {
        "type": "message",
        "user": "UB6EM48HM",
        "text": "I gotta bail out, is this being recorded so I can reference it later?",
        "client_msg_id": "b4040758-cf65-4774-9601-a2a5ff28fd18",
        "ts": "1531851257.000338"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "yes",
        "client_msg_id": "c05b0f1a-ab71-4ec6-8a19-e6547ce11def",
        "ts": "1531851267.000087"
    },
    {
        "type": "message",
        "user": "UB6EM48HM",
        "text": "Thank you!",
        "client_msg_id": "78b72b97-5cd9-4036-b56d-2a122d95d071",
        "ts": "1531851278.000138"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Maybe a dumb question, but why the decision to create parameters with \"\/\" in the name?  It seems to be messing with my ability to use python's requests library to interface with the API.  Requests insists on acting on, for instance, 'ipmi' instead of 'ipmi\/address'",
        "client_msg_id": "8d14f530-d1dd-4c5e-9015-811ffc9abd7a",
        "ts": "1531851882.000521"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Code that works fine for parameters without forward slashes fails on parameters with forward slashes in the name.  :disappointed:",
        "client_msg_id": "d688bdd0-a8b4-4055-a5ad-2e876215e545",
        "ts": "1531851903.000515"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "yeah, it's a pain.  there's history about why",
        "client_msg_id": "ac8617e1-4737-41cf-9fe1-a2f3976cab88",
        "ts": "1531851914.000403"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "check out <https:\/\/github.com\/digitalrebar\/provision\/blob\/master\/integrations\/ansible\/inventory.py>",
        "client_msg_id": "c00d3c36-261e-4ad5-8cec-632e735747fe",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "digitalrebar\/provision",
                "title_link": "https:\/\/github.com\/digitalrebar\/provision\/blob\/master\/integrations\/ansible\/inventory.py",
                "text": "Digital Rebar Provision is a simple and powerful Golang executable that provides a complete API-driven DHCP\/PXE\/TFTP provisioning system.",
                "fallback": "GitHub: digitalrebar\/provision",
                "from_url": "https:\/\/github.com\/digitalrebar\/provision\/blob\/master\/integrations\/ansible\/inventory.py",
                "thumb_url": "https:\/\/avatars1.githubusercontent.com\/u\/13814120?s=400&v=4",
                "thumb_width": 250,
                "thumb_height": 250,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1,
                "original_url": "https:\/\/github.com\/digitalrebar\/provision\/blob\/master\/integrations\/ansible\/inventory.py"
            }
        ],
        "ts": "1531851950.000306"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "it will show you how to handle the \/ in the names",
        "client_msg_id": "99396872-0ecd-44ca-bdab-fec11bbdcefa",
        "ts": "1531851958.000088"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Ok, thanks.",
        "client_msg_id": "bbf9bb9f-6025-4219-b62c-83025f7610b4",
        "ts": "1531852052.000326"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "This isn't quite helping me unfortunately, I'm still confused.\nI'm trying to send this patch to the rebar server via the python requests module:\n```patch = [{\"op\": \"test\", \"path\": \"\/Params\/{}\".format(parameter), \"value\": value}, {\"op\": \"remove\", \"path\": \"\/Params\/{}\".format(parameter)}]```\nWhen 'parameter' is set to something like 'ipmi\/enabled' that evaluates to this:\n```patch = [{\"op\": \"test\", \"path\": \"\/Params\/ipmi\/enabled\", \"value\": value}, {\"op\": \"remove\", \"path\": \"\/Params\/ipmi\/enabled\"}]```\nand requests fails because \n```Patch error at line 0: Selector ipmi not a member of map[string]interface```\nI can't seem to escape that '\/' in any way that makes this work.",
        "client_msg_id": "cc63f2e1-5f01-4084-8383-b24420c5240e",
        "ts": "1531854142.000461"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "Oh!! Patch had special semantics for that... looking up reference",
        "client_msg_id": "a739a84e-c415-4e55-a3a0-949746aae383",
        "ts": "1531854635.000327"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "It's a patch spec thing",
        "client_msg_id": "18f161f8-104a-43ac-91a1-b1aec1d0b81c",
        "ts": "1531854648.000355"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "JSON Pointer, specifically",
        "client_msg_id": "3c9fdd66-2894-4265-952b-dc927f5aad37",
        "ts": "1531854708.000384"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "<https:\/\/tools.ietf.org\/html\/rfc6901>",
        "client_msg_id": "5aa04a25-bcef-4024-aab6-af62ae196bc5",
        "ts": "1531854725.000362"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Oh ok",
        "client_msg_id": "374403f0-458c-42d2-8bca-f4591ecc983e",
        "ts": "1531854753.000424"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "and JSON patch: <https:\/\/tools.ietf.org\/html\/rfc6902>",
        "client_msg_id": "5b1cf94c-36ee-44bd-8bbb-f889d8d914f0",
        "ts": "1531854805.000204",
        "reactions": [
            {
                "name": "sunglasses",
                "users": [
                    "U02DHRR2L"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "There are probably Python libraries to handle generating them for you automatically.",
        "client_msg_id": "d914b080-46ee-49e1-bbfc-16db773da581",
        "ts": "1531854836.000023"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Hooray!  That worked.  TIL",
        "client_msg_id": "64a3f896-1eaa-4045-867c-1754973c6968",
        "ts": "1531855937.000246"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "Thanks.",
        "client_msg_id": "db503a76-2f09-42ae-802f-7377328c6251",
        "ts": "1531855938.000262"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "it's a common trap for people starting w\/ patch coding.  Think of it as earning the \/ delimiter badge",
        "client_msg_id": "b2a7d56c-8cbb-4ef7-ac83-9379d3ee8b4b",
        "ts": "1531856223.000278"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": ":smile:",
        "client_msg_id": "1cb4acfa-0902-4ea2-a57a-4bff20c602dd",
        "ts": "1531856382.000175"
    },
    {
        "type": "message",
        "text": "<@U9BU09D51> has earned the Patch ~ Escape Badge",
        "files": [
            {
                "id": "FBS7AQMFC",
                "created": 1531856672,
                "timestamp": 1531856672,
                "name": "image.png",
                "title": "Patch ~ Escape",
                "mimetype": "image\/png",
                "filetype": "png",
                "pretty_type": "PNG",
                "user": "U02DHRR2L",
                "editable": false,
                "size": 11374,
                "mode": "hosted",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FBS7AQMFC\/image.png?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FBS7AQMFC\/download\/image.png?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FBS7AQMFC-23adcff614\/image_64.png?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FBS7AQMFC-23adcff614\/image_80.png?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FBS7AQMFC-23adcff614\/image_360.png?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "thumb_360_w": 180,
                "thumb_360_h": 180,
                "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FBS7AQMFC-23adcff614\/image_160.png?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "image_exif_rotation": 1,
                "original_w": 180,
                "original_h": 180,
                "permalink": "https:\/\/rackn.slack.com\/files\/U02DHRR2L\/FBS7AQMFC\/image.png",
                "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-FBS7AQMFC-3ce1900114"
            }
        ],
        "upload": true,
        "user": "U02DHRR2L",
        "display_as_bot": false,
        "ts": "1531856673.000050"
    },
    {
        "type": "message",
        "user": "U9BU09D51",
        "text": "lol!",
        "client_msg_id": "4b9b9d98-528e-4f20-91e9-d6bfc01d20d9",
        "ts": "1531856741.000299"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<!here> replay from today's meetup:  <https:\/\/u.rackn.io\/mtup21>",
        "client_msg_id": "09882e4f-c154-470a-9620-cc28d2d5739d",
        "attachments": [
            {
                "service_name": "YouTube",
                "title": "Digital Rebar Meetup #21",
                "title_link": "https:\/\/u.rackn.io\/mtup21",
                "text": "Recording of the bi-weekly Digital Rebar Community Online Meetup held on July 17, 2018. Learn more about Digital Rebar at <http:\/\/rebar.digital>.",
                "fallback": "YouTube: Digital Rebar Meetup #21",
                "thumb_url": "https:\/\/i.ytimg.com\/vi\/MdEJXEVvuIU\/maxresdefault.jpg",
                "from_url": "https:\/\/u.rackn.io\/mtup21",
                "thumb_width": 1280,
                "thumb_height": 720,
                "service_icon": "https:\/\/s.ytimg.com\/yts\/img\/favicon-vfl8qSV2F.ico",
                "id": 1,
                "original_url": "https:\/\/u.rackn.io\/mtup21"
            }
        ],
        "ts": "1531859882.000303"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "<@U02DJQSG8> Here is the updated working python code for esxi 6.7 and python3:\n```%pre --interpreter=python\nimport urllib.request\nimport ssl\n\nurl = '{{.ApiURL}}\/api\/v3\/machines\/{{.Machine.UUID}}'\n\nopener = urllib.request.build_opener(urllib.request.HTTPSHandler(context=ssl.SSLContext(ssl.PROTOCOL_SSLv23)))\n\npatch = \"[\\n{\\\"op\\\":\\\"replace\\\",\\\"path\\\":\\\"\/Workflow\\\",\\\"value\\\":\\\"\\\"},\\n{\\\"op\\\":\\\"replace\\\",\\\"path\\\":\\\"\/Stage\\\",\\\"value\\\":\\\"none\\\"},\\n{\\\"op\\\":\\\"replace\\\",\\\"path\\\":\\\"\/BootEnv\\\",\\\"value\\\":\\\"local\\\"}\\n]\"\npatch = patch.encode('ascii')\n\nreq = urllib.request.Request(url, data=patch)\nreq.add_header('Content-Type', 'application\/json')\nreq.add_header('Authorization','Bearer {{.GenerateToken}}')\nreq.add_header('Cache-Control', 'no-cache')\nreq.get_method = lambda: 'PATCH'\nr = opener.open(req)```",
        "client_msg_id": "877ab8a5-b7fc-4ab4-83e0-7e0f491b6a6a",
        "ts": "1531860603.000337"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Here is what I came up with after spending the day  testing:",
        "client_msg_id": "7a760335-9763-4a8d-9bc7-8fe03402c0e3",
        "ts": "1531860662.000279"
    },
    {
        "type": "message",
        "text": "",
        "files": [
            {
                "id": "FBRMNGXU1",
                "created": 1531860670,
                "timestamp": 1531860670,
                "name": "-.py",
                "title": "Untitled",
                "mimetype": "text\/plain",
                "filetype": "python",
                "pretty_type": "Python",
                "user": "U02DJQSG8",
                "editable": true,
                "size": 707,
                "mode": "snippet",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FBRMNGXU1\/-.py?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FBRMNGXU1\/download\/-.py?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "permalink": "https:\/\/rackn.slack.com\/files\/U02DJQSG8\/FBRMNGXU1\/-.py",
                "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-FBRMNGXU1-3f3409edd4",
                "edit_link": "https:\/\/rackn.slack.com\/files\/U02DJQSG8\/FBRMNGXU1\/-.py\/edit",
                "preview": "%pre --interpreter=python\r\nimport urllib,urllib.request,socket, ssl\r\nurl = '{{.ApiURL}}\/api\/v3\/machines\/{{.Machine.UUID}}'\r\n\r\n# There is nothing we can do with a system once ESXi is installed.\r",
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-operator\">%<\/span><span class=\"cm-variable\">pre<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">interpreter<\/span>=<span class=\"cm-variable\">python<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-keyword\">import<\/span> <span class=\"cm-variable\">urllib<\/span>,<span class=\"cm-variable\">urllib<\/span>.<span class=\"cm-property\">request<\/span>,<span class=\"cm-variable\">socket<\/span>, <span class=\"cm-variable\">ssl<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">url<\/span> = <span class=\"cm-string\">'{{.ApiURL}}\/api\/v3\/machines\/{{.Machine.UUID}}'<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-comment\"># There is nothing we can do with a system once ESXi is installed.<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n",
                "lines": 17,
                "lines_more": 12,
                "preview_is_truncated": false
            }
        ],
        "upload": true,
        "user": "U02DJQSG8",
        "display_as_bot": false,
        "ts": "1531860671.000019"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "And the same thing for esx 6.0:",
        "client_msg_id": "b3f7de59-b74c-42d0-93c2-5e93689993d5",
        "ts": "1531860760.000329"
    },
    {
        "type": "message",
        "text": "",
        "files": [
            {
                "id": "FBS8NPQAE",
                "created": 1531860773,
                "timestamp": 1531860773,
                "name": "-.py",
                "title": "Untitled",
                "mimetype": "text\/plain",
                "filetype": "python",
                "pretty_type": "Python",
                "user": "U02DJQSG8",
                "editable": true,
                "size": 761,
                "mode": "snippet",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FBS8NPQAE\/-.py?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FBS8NPQAE\/download\/-.py?t=xoxe-2458848645-432744317105-433486990661-648d122d7e37a3b00999281d87b4509a",
                "permalink": "https:\/\/rackn.slack.com\/files\/U02DJQSG8\/FBS8NPQAE\/-.py",
                "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-FBS8NPQAE-a5435e1a62",
                "edit_link": "https:\/\/rackn.slack.com\/files\/U02DJQSG8\/FBS8NPQAE\/-.py\/edit",
                "preview": "%pre --interpreter=python\r\nimport urllib,urllib2,socket,ssl\r\nurl = '{{.ApiURL}}\/api\/v3\/machines\/{{.Machine.UUID}}'\r\n\r\nopener = urllib2.build_opener(urllib2.HTTPSHandler(context=ssl.SSLContext(ssl.PROTOCOL_SSLv23)))\r",
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-operator\">%<\/span><span class=\"cm-variable\">pre<\/span> <span class=\"cm-operator\">-<\/span><span class=\"cm-operator\">-<\/span><span class=\"cm-variable\">interpreter<\/span>=<span class=\"cm-variable\">python<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-keyword\">import<\/span> <span class=\"cm-variable\">urllib<\/span>,<span class=\"cm-variable\">urllib2<\/span>,<span class=\"cm-variable\">socket<\/span>,<span class=\"cm-variable\">ssl<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-variable\">url<\/span> = <span class=\"cm-string\">'{{.ApiURL}}\/api\/v3\/machines\/{{.Machine.UUID}}'<\/span><\/pre><\/div>\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre><span class=\"cm-variable\">opener<\/span> = <span class=\"cm-variable\">urllib2<\/span>.<span class=\"cm-property\">build_opener<\/span>(<span class=\"cm-variable\">urllib2<\/span>.<span class=\"cm-property\">HTTPSHandler<\/span>(<span class=\"cm-variable\">context<\/span>=<span class=\"cm-variable\">ssl<\/span>.<span class=\"cm-property\">SSLContext<\/span>(<span class=\"cm-variable\">ssl<\/span>.<span class=\"cm-property\">PROTOCOL_SSLv23<\/span>)))<\/pre><\/div>\n<\/div>\n<\/div>\n",
                "lines": 21,
                "lines_more": 16,
                "preview_is_truncated": false
            }
        ],
        "upload": true,
        "user": "U02DJQSG8",
        "display_as_bot": false,
        "ts": "1531860774.000123"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "<!here>: The next -tip of the os-other content pack will have working examples of esxi6.0u2, 6.5.0a, 6.5.0u2, and 6.7.0",
        "client_msg_id": "865a1362-1867-43a1-bd77-f07853893953",
        "ts": "1531860855.000378"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "<@UA98B96BA> why the cache-control header?",
        "client_msg_id": "da4912c1-e028-4ed1-94f8-1cf4af43970f",
        "ts": "1531861066.000049"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "I was just using postman to test and it had it in the code.......probably not needed",
        "client_msg_id": "dcbff29f-b46d-4bf7-b3e3-55c1aa6c3878",
        "ts": "1531861094.000384"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "well, dr-provision doesn't care. :slightly_smiling_face:",
        "client_msg_id": "069525f3-77d7-45ff-93ed-dd4ba1b03f3f",
        "ts": "1531861114.000406"
    },
    {
        "type": "message",
        "user": "UA98B96BA",
        "text": "Thanks for the help on this <@U02DJQSG8>",
        "client_msg_id": "07bd7db7-67b5-442c-a425-b80255e8d263",
        "ts": "1531861336.000122"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "No prob.",
        "client_msg_id": "e1b38b4a-fc90-4056-8cae-8d33b644043a",
        "ts": "1531861350.000187"
    }
]