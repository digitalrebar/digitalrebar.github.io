[
    {
        "client_msg_id": "5b44e315-95dc-49d6-8ff9-3e7e27f1ec8e",
        "type": "message",
        "text": "hmm, i’ve put some further debug logging to work out where it’s failing and nothing obvious sticks out yet. `lpxelinux.0` and `ldlinux.c32` are served fine, and then looks like pxe makes successive requests for less specific `pxelinux.cfg` files (starting with `pxelinux.cfg\/44454c4c-5400-104c-8030-b2c04f595831`). None of those exist which I assume is fine as it’s a completely unknown server, so it ends up requesting the default (`pxelinux.cfg\/default`) which is what panics over and over.",
        "user": "UBXEU90UQ",
        "ts": "1539621099.000100"
    },
    {
        "client_msg_id": "7756de81-d3a1-4ada-bbce-09af4cc67d42",
        "type": "message",
        "text": "okay can you send me a logs and your content versions and drp versions and plugin versions.  <@UBXEU90UQ>  - I suspect I broken something pulling in the arch stuff.",
        "user": "U02DGQYK1",
        "ts": "1539621224.000100"
    },
    {
        "client_msg_id": "252feee5-b0f5-414d-b3d5-c6571e43fcf4",
        "type": "message",
        "text": "How are you serving DHCP?  What bootfile are you using?  If any?",
        "user": "U02DGQYK1",
        "ts": "1539621250.000100"
    },
    {
        "client_msg_id": "010b4445-82e6-443d-a75f-59c2d9d9321c",
        "type": "message",
        "text": "DHCP is DRP internal, everything is direct, no proxying. Just realise i should be able to remove the defer in that tftp function to get a full stack trace for the panic",
        "user": "UBXEU90UQ",
        "ts": "1539621673.000100"
    },
    {
        "client_msg_id": "cb08af94-0db1-4d93-b6c3-61fdcfe7d9ef",
        "type": "message",
        "text": "I was just wondering because I’m not sure we would hit `pxelinux.cfg\/default` any more without a custom bootfile.",
        "user": "U02DGQYK1",
        "ts": "1539621763.000100"
    },
    {
        "client_msg_id": "e9395245-b22a-494d-8b5a-732297e1e325",
        "type": "message",
        "text": "`BootEnv discovery: \/var\/lib\/dr-provision\/tftpboot\/sledgehammer\/958745f088207052846423e755093d2ac7c7986b slready exists` Just realised I’m getting this at startup…",
        "user": "UBXEU90UQ",
        "ts": "1539621851.000100"
    },
    {
        "client_msg_id": "ccb209b3-79ab-4a29-acad-d1c68c623843",
        "type": "message",
        "text": "That should be okay.  I thnk that will happen all the time for bootenvs that are there.",
        "user": "U02DGQYK1",
        "ts": "1539621890.000100"
    },
    {
        "client_msg_id": "6fe4df01-cfe3-4c9d-b02b-495087ef7f4a",
        "type": "message",
        "text": "okay - I see something, <@UBXEU90UQ> - just a minute",
        "user": "U02DGQYK1",
        "ts": "1539622206.000100"
    },
    {
        "client_msg_id": "45c6ff6f-31cd-4a53-8ec0-e036a61ae686",
        "type": "message",
        "text": "This would be so much easier to test if this server would attempt PXE booting for more than 30s before it reboots and takes 5 mins to get back to PXE boot stage :face_with_raised_eyebrow:",
        "user": "UBXEU90UQ",
        "ts": "1539622312.000100"
    },
    {
        "client_msg_id": "b1ec3b37-69c1-44ec-9a7d-619bba49be89",
        "type": "message",
        "text": "Yeah - I think I found something.",
        "user": "U02DGQYK1",
        "ts": "1539622329.000100"
    },
    {
        "client_msg_id": "99cb5041-d1be-432c-b55a-c9e5b6c4378a",
        "type": "message",
        "text": "no BIOS setting for retry boot method?  some hardware does support a continual retry mechanism ...",
        "user": "U6QFVRJNB",
        "ts": "1539622353.000100"
    },
    {
        "client_msg_id": "b0380fea-f4fc-421e-b110-7de034ddce56",
        "type": "message",
        "text": "it’s got this hilarious retry boot option",
        "user": "UBXEU90UQ",
        "ts": "1539622367.000200"
    },
    {
        "client_msg_id": "05c7601d-72bd-429c-bf56-1938a30f1573",
        "type": "message",
        "text": "‘hit any key to retry boot, or wait for reboot’",
        "user": "UBXEU90UQ",
        "ts": "1539622380.000200"
    },
    {
        "client_msg_id": "77f281bc-62b5-4d67-bad3-fe43b906cf9d",
        "type": "message",
        "text": "so you hit any key, and it reboots",
        "user": "UBXEU90UQ",
        "ts": "1539622384.000100",
        "reactions": [
            {
                "name": "clown_face",
                "users": [
                    "U6QFVRJNB"
                ],
                "count": 1
            }
        ]
    },
    {
        "client_msg_id": "2fa8f811-a1e1-480b-9458-3d00e7be35b6",
        "type": "message",
        "text": "i mean it’s not wrong :face_with_rolling_eyes:",
        "user": "UBXEU90UQ",
        "ts": "1539622417.000100"
    },
    {
        "client_msg_id": "99090cce-1df9-44ff-931a-3ef0407769ae",
        "type": "message",
        "text": "argh, office being locked up so I’m gonna grab a quick beer on the way home and I’ll pick this back up in a bit :slightly_smiling_face: Thanks guys",
        "user": "UBXEU90UQ",
        "ts": "1539622462.000100"
    },
    {
        "client_msg_id": "e49f0d85-317c-42b3-91b1-98ef785c6f11",
        "type": "message",
        "text": "grab one or two for me",
        "user": "U6QFVRJNB",
        "ts": "1539622478.000100",
        "reactions": [
            {
                "name": "beers",
                "users": [
                    "UBXEU90UQ"
                ],
                "count": 1
            }
        ]
    },
    {
        "client_msg_id": "e0a411ce-cbd4-48e7-8fe5-3890cd7f1ea8",
        "type": "message",
        "text": "<@UBXEU90UQ> - beer on!  Also, can you check the machine and see what Arch it thinks it has.",
        "user": "U02DGQYK1",
        "ts": "1539622559.000100"
    },
    {
        "client_msg_id": "4eb341cc-2c07-4069-a33c-83a37f45350d",
        "type": "message",
        "text": "I also repro’ed it on my system.",
        "user": "U02DGQYK1",
        "ts": "1539622702.000200"
    },
    {
        "client_msg_id": "1ffe8342-5a5d-4f51-97e2-13c2c0dba32b",
        "type": "message",
        "text": "The one being booted I assume? Will try work out how when I get back. It's just a 'standard' amd64 Dell server",
        "user": "UBXEU90UQ",
        "ts": "1539622760.000100"
    },
    {
        "type": "message",
        "subtype": "slackbot_response",
        "text": "Time to feed the :bear:!",
        "user": "USLACKBOT",
        "ts": "1539622760.000200"
    },
    {
        "client_msg_id": "c639b30b-261d-4a1b-8341-94d88afb8adc",
        "type": "message",
        "text": "it is okay.",
        "user": "U02DGQYK1",
        "ts": "1539622794.000100"
    },
    {
        "client_msg_id": "59d88935-e8c0-4355-989d-9f522c098990",
        "type": "message",
        "text": "I think I see what is going on.",
        "user": "U02DGQYK1",
        "ts": "1539622799.000100"
    },
    {
        "client_msg_id": "10cea26b-a09f-4ce4-a34b-9537563bdeb8",
        "type": "message",
        "text": "<@UBXEU90UQ> -I’ve updated tip with a fix that should take care of what you are seeing.",
        "user": "U02DGQYK1",
        "ts": "1539628737.000100"
    },
    {
        "client_msg_id": "b096e1f4-c059-49f1-ae91-dc644c9e2499",
        "type": "message",
        "text": "You should just need to update drp.",
        "user": "U02DGQYK1",
        "ts": "1539628746.000100"
    },
    {
        "client_msg_id": "b24849bc-d49e-44aa-a760-d30ede722de7",
        "type": "message",
        "text": "<@U02DGQYK1> great, I'll give it a shot in a bit :+1:",
        "user": "UBXEU90UQ",
        "ts": "1539629030.000100"
    },
    {
        "client_msg_id": "54d6d28c-381b-450c-b5f7-dba274b376dd",
        "type": "message",
        "text": "cool",
        "user": "U02DGQYK1",
        "ts": "1539629470.000100"
    },
    {
        "client_msg_id": "7093d7ec-656b-46e6-92eb-4e452e75f5fa",
        "type": "message",
        "text": "<@U02DGQYK1> it worked, cheers :slightly_smiling_face:",
        "user": "UBXEU90UQ",
        "ts": "1539632797.000100",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U02DHRR2L"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "text": "although lldp stage failed in discovery, but I’m not sure thats related:",
        "files": [
            {
                "id": "FDG2KCUEA",
                "created": 1539632931,
                "timestamp": 1539632931,
                "name": "-.pl",
                "title": "Untitled",
                "mimetype": "text\/plain",
                "filetype": "perl",
                "pretty_type": "Perl",
                "user": "UBXEU90UQ",
                "editable": true,
                "size": 241,
                "mode": "snippet",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FDG2KCUEA\/-.pl?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FDG2KCUEA\/download\/-.pl?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "permalink": "https:\/\/rackn.slack.com\/files\/UBXEU90UQ\/FDG2KCUEA\/-.pl",
                "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-FDG2KCUEA-df0777b716",
                "edit_link": "https:\/\/rackn.slack.com\/files\/UBXEU90UQ\/FDG2KCUEA\/-.pl\/edit",
                "preview": "Cannot find a valid baseurl for repo: base\/7\/x86_64\r\nCould not retrieve mirrorlist http:\/\/mirrorlist.centos.org\/?release=7&arch=x86_64&repo=os&infra=stock error was\r\n14: curl#6 - \"Could not resolve host: mirrorlist.centos.org; Unknown error\"",
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-meta\">Cannot<\/span> <span class=\"cm-meta\">find<\/span> <span class=\"cm-meta\">a<\/span> <span class=\"cm-meta\">valid<\/span> <span class=\"cm-meta\">baseurl<\/span> <span class=\"cm-keyword\">for<\/span> <span class=\"cm-meta\">repo<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">base<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-number\">7<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">x86_64<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-meta\">Could<\/span> <span class=\"cm-operator\">not<\/span> <span class=\"cm-meta\">retrieve<\/span> <span class=\"cm-meta\">mirrorlist<\/span> <span class=\"cm-meta\">http<\/span>:<span class=\"cm-operator\">\/<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-meta\">mirrorlist<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">centos<\/span><span class=\"cm-operator\">.<\/span><span class=\"cm-meta\">org<\/span><span class=\"cm-operator\">\/<\/span><span class=\"cm-operator\">?<\/span><span class=\"cm-meta\">release<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-number\">7<\/span><span class=\"cm-variable\">&amp;arch<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-meta\">x86_64<\/span><span class=\"cm-variable\">&amp;repo<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-meta\">os<\/span><span class=\"cm-variable\">&amp;infra<\/span><span class=\"cm-operator\">=<\/span><span class=\"cm-meta\">stock<\/span> <span class=\"cm-meta\">error<\/span> <span class=\"cm-meta\">was<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">14<\/span><span class=\"cm-operator\">:<\/span> <span class=\"cm-meta\">curl<\/span><span class=\"cm-comment\">#6 - &quot;Could not resolve host: mirrorlist.centos.org; Unknown error&quot;<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n",
                "lines": 3,
                "lines_more": 0,
                "preview_is_truncated": false
            }
        ],
        "upload": true,
        "user": "UBXEU90UQ",
        "display_as_bot": false,
        "ts": "1539632932.000100"
    },
    {
        "client_msg_id": "e2458333-3c5f-4294-b6be-8b58f961b3eb",
        "type": "message",
        "text": "<@UBXEU90UQ> - maybe DNS resolution issue on your side (`could not resolve host`)?   I was able to load that URL and receive a list of mirrors",
        "user": "U6QFVRJNB",
        "ts": "1539634026.000100"
    },
    {
        "client_msg_id": "4f896c18-0c1f-4af4-9043-ac0e996035a2",
        "type": "message",
        "text": "yeah something’s changed i guess, but can’t login to sledgehammer to debug",
        "user": "UBXEU90UQ",
        "ts": "1539634440.000100"
    },
    {
        "client_msg_id": "e0b0564e-83ce-42bb-8080-893da30cfcd9",
        "type": "message",
        "text": "thought it was using one of the default passwords but maybe not…",
        "user": "UBXEU90UQ",
        "ts": "1539634448.000100"
    },
    {
        "client_msg_id": "b7c57c31-9472-4f3e-993c-bd52f10a9ded",
        "type": "message",
        "text": "sledgehammer password is `rebar1` by default and is strangely hard to change.",
        "user": "U02DGQYK1",
        "ts": "1539634767.000100"
    },
    {
        "client_msg_id": "d0f034bb-b19e-4e0f-b094-82e10491ebba",
        "type": "message",
        "text": "(root user)",
        "user": "U6QFVRJNB",
        "ts": "1539634788.000100"
    },
    {
        "client_msg_id": "96b0422b-9c62-4a39-a43c-4ed4f49f96cb",
        "type": "message",
        "text": "Also - suggest adding the `ssh-access` stage and adding your SSH keys for access to Sledgehammer",
        "user": "U6QFVRJNB",
        "ts": "1539634819.000100"
    },
    {
        "client_msg_id": "e6f20ff4-dcf6-48ef-bd08-823799a5361c",
        "type": "message",
        "text": "<https:\/\/provision.readthedocs.io\/en\/tip\/doc\/faq-troubleshooting.html#add-ssh-keys-to-authorized-keys>",
        "user": "U6QFVRJNB",
        "ts": "1539634857.000100"
    },
    {
        "client_msg_id": "8b47c4e4-1a64-4c5b-b3a3-73cba2a83fd7",
        "type": "message",
        "text": "yeah good point, i dont have that in the discovery stage :face_palm:",
        "user": "UBXEU90UQ",
        "ts": "1539634857.000200"
    },
    {
        "client_msg_id": "deda5ba6-4b51-4309-9f0f-dd26b208f97c",
        "type": "message",
        "text": "`ssh-access` is part of the `discover` stage by default which is usually the first stage in a `discover` workflow.",
        "user": "U02DGQYK1",
        "ts": "1539634922.000100",
        "edited": {
            "user": "U02DGQYK1",
            "ts": "1539634930.000000"
        }
    },
    {
        "type": "message",
        "text": "This doesn’t look right :slightly_smiling_face:",
        "files": [
            {
                "id": "FDE3ZFJM7",
                "created": 1539634945,
                "timestamp": 1539634945,
                "name": "Screen Shot 2018-10-15 at 21.21.59.png",
                "title": "Screen Shot 2018-10-15 at 21.21.59.png",
                "mimetype": "image\/png",
                "filetype": "png",
                "pretty_type": "PNG",
                "user": "UBXEU90UQ",
                "editable": false,
                "size": 37306,
                "mode": "hosted",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FDE3ZFJM7\/screen_shot_2018-10-15_at_21.21.59.png?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FDE3ZFJM7\/download\/screen_shot_2018-10-15_at_21.21.59.png?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FDE3ZFJM7-7a089a0402\/screen_shot_2018-10-15_at_21.21.59_64.png?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FDE3ZFJM7-7a089a0402\/screen_shot_2018-10-15_at_21.21.59_80.png?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FDE3ZFJM7-7a089a0402\/screen_shot_2018-10-15_at_21.21.59_360.png?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "thumb_360_w": 360,
                "thumb_360_h": 56,
                "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FDE3ZFJM7-7a089a0402\/screen_shot_2018-10-15_at_21.21.59_480.png?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "thumb_480_w": 480,
                "thumb_480_h": 74,
                "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FDE3ZFJM7-7a089a0402\/screen_shot_2018-10-15_at_21.21.59_160.png?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FDE3ZFJM7-7a089a0402\/screen_shot_2018-10-15_at_21.21.59_720.png?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "thumb_720_w": 720,
                "thumb_720_h": 112,
                "thumb_800": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FDE3ZFJM7-7a089a0402\/screen_shot_2018-10-15_at_21.21.59_800.png?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "thumb_800_w": 800,
                "thumb_800_h": 124,
                "thumb_960": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-FDE3ZFJM7-7a089a0402\/screen_shot_2018-10-15_at_21.21.59_960.png?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "thumb_960_w": 960,
                "thumb_960_h": 149,
                "image_exif_rotation": 1,
                "original_w": 1020,
                "original_h": 158,
                "permalink": "https:\/\/rackn.slack.com\/files\/UBXEU90UQ\/FDE3ZFJM7\/screen_shot_2018-10-15_at_21.21.59.png",
                "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-FDE3ZFJM7-4761741755"
            }
        ],
        "upload": true,
        "user": "UBXEU90UQ",
        "display_as_bot": false,
        "ts": "1539634948.000100"
    },
    {
        "client_msg_id": "aef7457d-2235-4eec-9387-9622b110102b",
        "type": "message",
        "text": "well it does for me.  :slightly_smiling_face:",
        "user": "U02DGQYK1",
        "ts": "1539634976.000100"
    },
    {
        "client_msg_id": "34fcb471-76cf-42e4-8fda-b6067692e8b6",
        "type": "message",
        "text": "I have a DNS server set in the subnet in DRP",
        "user": "UBXEU90UQ",
        "ts": "1539634976.000200"
    },
    {
        "client_msg_id": "004e25c4-0e4f-454a-89e0-992099a62f65",
        "type": "message",
        "text": "haha",
        "user": "UBXEU90UQ",
        "ts": "1539634979.000100"
    },
    {
        "client_msg_id": "a4fa2064-cb07-48d2-9274-96142d968133",
        "type": "message",
        "text": "i thought it might",
        "user": "UBXEU90UQ",
        "ts": "1539634982.000200"
    },
    {
        "client_msg_id": "6811f857-cedf-4e50-aa9c-0b87daf781bc",
        "type": "message",
        "text": "okay - have to think about that.  It should have been overwritten, I think.",
        "user": "U02DGQYK1",
        "ts": "1539634996.000100"
    },
    {
        "client_msg_id": "03dc8a53-cecd-469f-ab3f-fa51e883f36c",
        "type": "message",
        "text": "May need to delete that file as part of sledgehammer construction.",
        "user": "U02DGQYK1",
        "ts": "1539635013.000100"
    },
    {
        "client_msg_id": "9b9f5592-2ae0-4544-8ddd-6cb4b52d229b",
        "type": "message",
        "text": "What file is it?",
        "user": "U02DGQYK1",
        "ts": "1539635018.000100"
    },
    {
        "client_msg_id": "80d2d615-1475-47a7-a0ee-c1901dba2e27",
        "type": "message",
        "text": "“\/etc\/resolv.conf”",
        "user": "UBXEU90UQ",
        "ts": "1539635031.000100"
    },
    {
        "client_msg_id": "19194a7d-f308-41aa-b030-c553b5d52a53",
        "type": "message",
        "text": "sigh - my brain.  Thx",
        "user": "U02DGQYK1",
        "ts": "1539635185.000100",
        "edited": {
            "user": "U02DGQYK1",
            "ts": "1539635190.000000"
        }
    },
    {
        "client_msg_id": "5390094a-4d87-4644-9087-0e1adbf864b2",
        "type": "message",
        "text": "`sledgehammer-start-up.sh` is logging the right DNS server so the dhcp part is working at least",
        "user": "UBXEU90UQ",
        "ts": "1539635251.000100"
    },
    {
        "client_msg_id": "971908be-f28f-4d6e-95ff-ab46a9ad0c13",
        "type": "message",
        "text": "weird… ran dhclient by hand and it updated resolv.conf correctly :face_with_raised_eyebrow:",
        "user": "UBXEU90UQ",
        "ts": "1539640104.000100"
    },
    {
        "client_msg_id": "F3C868EC-BB3D-4D5C-9E47-FC57CA952356",
        "type": "message",
        "text": "Hmmm.    It hurt my head because it should fix it",
        "user": "U02DGQYK1",
        "ts": "1539648162.000100"
    }
]