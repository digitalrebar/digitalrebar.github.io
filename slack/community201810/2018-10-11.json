[
    {
        "client_msg_id": "b8509a08-8475-4a7e-9d80-711071893537",
        "type": "message",
        "text": "<@U6QFVRJNB> regarding the DHCP enable on DR Provision; i already corrected the subnet and verified the port 67 and 69 are working properly, but the client can’t pick up the IP address from DRP server or any further, so i created regular Linux’s DHCP server to test and the client (bare metal without OS) can receive the IP address without any problems. Any ideas how to resolve the issue? how to monitor the DHCP’s log on DRP?",
        "user": "UANLCF8QP",
        "ts": "1539278105.000100"
    },
    {
        "client_msg_id": "3303dcd7-4656-4a43-b086-81916c9aaf5c",
        "type": "message",
        "text": "the journalctl doesn’t show much information about DHCP communicated to the client",
        "user": "UANLCF8QP",
        "ts": "1539278345.000100"
    },
    {
        "client_msg_id": "9e0e69e9-d10f-4461-b42d-aa8074559c5b",
        "type": "message",
        "text": "<@UANLCF8QP> Crank the DHCP logging level up to debug in dr-provison, that will include full dumps of inbound and outbound DHCP packets.",
        "user": "U02DJQSG8",
        "ts": "1539281141.000100"
    },
    {
        "client_msg_id": "eea8869b-5c3a-4239-a161-3596e169a541",
        "type": "message",
        "text": "<@UANLCF8QP> - are you running DRP in a container ?",
        "user": "U6QFVRJNB",
        "ts": "1539282010.000100"
    },
    {
        "client_msg_id": "b39cd44c-a5bf-42c5-aaf6-349996086632",
        "type": "message",
        "text": "the DHCP logging level was set “debug”",
        "user": "UANLCF8QP",
        "ts": "1539282066.000100"
    },
    {
        "client_msg_id": "7ad33581-ec44-40d3-9e43-ca60b53e3e3f",
        "type": "message",
        "text": "my DRP is running on VM",
        "user": "UANLCF8QP",
        "ts": "1539282106.000100"
    },
    {
        "client_msg_id": "5ffb56d9-b15f-43d2-81ef-9d6f68c69bb0",
        "type": "message",
        "text": "can you plz drop `tcpdump` or similar sniffer on the DRP endpoint - and do a quick packet capture to make sure you're seeing DHCP packets on the VM NIC?\nexample:  `tcpdump -i eth0 -n port 67 and port 68`  (set your interface appropriately)",
        "user": "U6QFVRJNB",
        "ts": "1539282598.000100"
    },
    {
        "type": "message",
        "text": "",
        "files": [
            {
                "id": "FDC6KNME0",
                "created": 1539282652,
                "timestamp": 1539282652,
                "name": "example_DHCP_packet_trace.sh",
                "title": "example DHCP packet trace",
                "mimetype": "text\/plain",
                "filetype": "shell",
                "pretty_type": "Shell",
                "user": "U6QFVRJNB",
                "editable": true,
                "size": 792,
                "mode": "snippet",
                "is_external": false,
                "external_type": "",
                "is_public": true,
                "public_url_shared": false,
                "display_as_bot": false,
                "username": "",
                "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FDC6KNME0\/example_dhcp_packet_trace.sh?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-FDC6KNME0\/download\/example_dhcp_packet_trace.sh?t=xoxe-2458848645-514023324868-513587761153-b5d59617abb26f254de45b5edf5cc500",
                "permalink": "https:\/\/rackn.slack.com\/files\/U6QFVRJNB\/FDC6KNME0\/example_dhcp_packet_trace.sh",
                "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-FDC6KNME0-e255c839cf",
                "edit_link": "https:\/\/rackn.slack.com\/files\/U6QFVRJNB\/FDC6KNME0\/example_dhcp_packet_trace.sh\/edit",
                "preview": "drp@pixie:~$ sudo tcpdump -i eth1 -n port 67 and port 68\r\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\nlistening on eth1, link-type EN10MB (Ethernet), capture size 262144 bytes\r\n11:29:18.727435 IP 0.0.0.0.68 > 255.255.255.255.67: BOOTP\/DHCP, Request from 08:00:27:cd:7e:db, length 380\r\n11:29:18.729484 IP 192.168.8.1.67 > 255.255.255.255.68: BOOTP\/DHCP, Reply, length 296\r",
                "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>drp@pixie:~<span class=\"cm-def\">$ sudo<\/span> tcpdump <span class=\"cm-attribute\">-i<\/span> eth1 <span class=\"cm-attribute\">-n<\/span> port <span class=\"cm-number\">67<\/span> and port <span class=\"cm-number\">68<\/span><\/pre><\/div>\n<div><pre>tcpdump: verbose output suppressed, use <span class=\"cm-attribute\">-v<\/span> or <span class=\"cm-attribute\">-vv<\/span> <span class=\"cm-keyword\">for<\/span> full protocol decode<\/pre><\/div>\n<div><pre>listening on eth1, link-type EN10MB (Ethernet), capture size <span class=\"cm-number\">262144<\/span> bytes<\/pre><\/div>\n<div><pre><span class=\"cm-number\">11<\/span>:29:18.727435 IP <span class=\"cm-number\">0<\/span>.0.0.0.68 &gt; <span class=\"cm-number\">255<\/span>.255.255.255.67: BOOTP\/DHCP, Request from <span class=\"cm-number\">08<\/span>:00:27:cd:7e:db, length <span class=\"cm-number\">380<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-number\">11<\/span>:29:18.729484 IP <span class=\"cm-number\">192<\/span>.168.8.1.67 &gt; <span class=\"cm-number\">255<\/span>.255.255.255.68: BOOTP\/DHCP, Reply, length <span class=\"cm-number\">296<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n",
                "lines": 9,
                "lines_more": 4,
                "preview_is_truncated": false
            }
        ],
        "upload": true,
        "user": "U6QFVRJNB",
        "display_as_bot": false,
        "ts": "1539282653.000100"
    },
    {
        "client_msg_id": "93f04b2d-a821-4e32-a306-abbe7800a7a7",
        "type": "message",
        "text": "# tcpdump -i eth0 -n port 67 and port 68\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\nlistening on eth0, link-type EN10MB (Ethernet), capture size 262144 bytes\n11:33:52.931000 IP 0.0.0.0.bootpc &gt; 255.255.255.255.bootps: BOOTP\/DHCP, Request from 00:50:56:9a:07:ff, length 548\n11:33:54.963827 IP 0.0.0.0.bootpc &gt; 255.255.255.255.bootps: BOOTP\/DHCP, Request from 00:50:56:9a:07:ff, length 548\n11:33:58.974252 IP 0.0.0.0.bootpc &gt; 255.255.255.255.bootps: BOOTP\/DHCP, Request from 00:50:56:9a:07:ff, length 548\n11:34:06.994824 IP 0.0.0.0.bootpc &gt; 255.255.255.255.bootps: BOOTP\/DHCP, Request from 00:50:56:9a:07:ff, length 548",
        "user": "UANLCF8QP",
        "ts": "1539283000.000100"
    },
    {
        "client_msg_id": "de8bd7f4-ed9a-4550-a1f4-ebd5f9249a32",
        "type": "message",
        "text": "the MAC address come from the testing client VM, but i don’t see the bare metal’s MAC address",
        "user": "UANLCF8QP",
        "ts": "1539283069.000100"
    },
    {
        "client_msg_id": "ecc29425-8e25-40a9-8a34-b4d804ae1170",
        "type": "message",
        "text": "what's the underlying hypervisor ?  is this a Mac w\/ VirtualBox ... Linux with KVM ... ESXi ?",
        "user": "U6QFVRJNB",
        "ts": "1539283399.000100"
    },
    {
        "client_msg_id": "81eb3da7-53be-4cd6-af4c-19969bbcddcb",
        "type": "message",
        "text": "VMware ESXi",
        "user": "UANLCF8QP",
        "ts": "1539283431.000100"
    },
    {
        "client_msg_id": "3ee4fb27-da4f-43dc-ba56-784273aa1e20",
        "type": "message",
        "text": "Ok - you're seeing the DHCP client request - but no DHCP server response - are you sure the Client IP address\/subnet is a subnet that has been defined on the DRP Endpoint ?   We do not respond to DHCP packets if we do not have a Subnet defined that matches the client request.",
        "user": "U6QFVRJNB",
        "ts": "1539283531.000100"
    },
    {
        "client_msg_id": "bb4d7faf-81b2-4f31-8ed2-aee16d8cc1e1",
        "type": "message",
        "text": "all the VMs are on the same subnet (10.29.123.0\/24)",
        "user": "UANLCF8QP",
        "ts": "1539283690.000100"
    },
    {
        "client_msg_id": "6367097f-6e96-45ae-9bd3-d770cbb136ed",
        "type": "message",
        "text": "},\n  “DHCP”: {\n    “Alive”: true,\n    “Enabled”: true,\n    “Port”: 67",
        "user": "UANLCF8QP",
        "ts": "1539283789.000100"
    },
    {
        "client_msg_id": "052040fc-f241-49ac-8129-c2b2a783dc5c",
        "type": "message",
        "text": "# drpcli subnets show local_subnet\n{\n  “ActiveEnd”: “10.29.123.70\",\n  “ActiveLeaseTime”: 60,\n  “ActiveStart”: “10.29.123.50”,\n  “Available”: true,\n  “Description”: “”,\n  “Documentation”: “”,\n  “Enabled”: true,\n  “Errors”: [],\n  “Meta”: {},\n  “Name”: “local_subnet”,\n  “NextServer”: “”,\n  “OnlyReservations”: false,\n  “Options”: [\n    {\n      “Code”: 3,\n      “Value”: “10.29.123.254\"\n    },\n    {\n      “Code”: 6,\n      “Value”: “10.29.200.30”\n    },\n    {\n      “Code”: 15,\n      “Value”: “<http:\/\/cso.fireeye.com|cso.fireeye.com>”\n    },\n    {\n      “Code”: 1,\n      “Value”: “255.255.255.0”\n    },\n    {\n      “Code”: 28,\n      “Value”: “10.29.123.255\"\n    }\n  ],\n  “Pickers”: [\n    “hint”,\n    “nextFree”,\n    “mostExpired”\n  ],\n  “Proxy”: false,\n  “ReadOnly”: false,\n  “ReservedLeaseTime”: 7200,\n  “Strategy”: “MAC”,\n  “Subnet”: “10.29.123.0\/24”,\n  “Unmanaged”: false,\n  “Validated”: true\n}",
        "user": "UANLCF8QP",
        "ts": "1539283806.000100"
    },
    {
        "client_msg_id": "580ee998-5d37-48e0-893b-9b121d377cf5",
        "type": "message",
        "text": "I had the same type of issue, but with Vbox, the solution was to switch the virtual NIC card... I do remember having to do something with VMWare (switching NIC to make DHCP function) but that was at least 3 years ago",
        "user": "UDB2L53GT",
        "ts": "1539290243.000100"
    },
    {
        "client_msg_id": "bfcd1590-5306-47b1-8138-0fc846e0c228",
        "type": "message",
        "text": "It was also on VMWare Fusion",
        "user": "UDB2L53GT",
        "ts": "1539290300.000100"
    },
    {
        "client_msg_id": "4c6a2701-2da7-42e0-a498-b1864fa64742",
        "type": "message",
        "text": "thanks <@UDB2L53GT>, i will try it and see how that works",
        "user": "UANLCF8QP",
        "ts": "1539291839.000100"
    },
    {
        "client_msg_id": "de49fd3f-1df3-4338-8cc4-89a9e3c3fb86",
        "type": "message",
        "text": "... I think <https:\/\/communities.vmware.com\/thread\/518642>",
        "user": "UDB2L53GT",
        "ts": "1539296348.000100",
        "attachments": [
            {
                "title": "DHCP in Bridged Mode not Working |VMware Communities",
                "title_link": "https:\/\/communities.vmware.com\/thread\/518642",
                "text": "Wondering if anyone else is having this issue. My Setup: MacBook Pro (Retina, 15-inch, Late 2013) OSX Yosemite v10.10.5 VMware Fusion Version 8.0.0",
                "fallback": "DHCP in Bridged Mode not Working |VMware Communities",
                "from_url": "https:\/\/communities.vmware.com\/thread\/518642",
                "service_icon": "https:\/\/communities.vmware.com\/favicon.ico",
                "service_name": "communities.vmware.com",
                "id": 1,
                "original_url": "https:\/\/communities.vmware.com\/thread\/518642"
            }
        ]
    },
    {
        "client_msg_id": "56f0328d-d967-4b0b-8cf1-7353936ab5b7",
        "type": "message",
        "text": "video tour of the new MACHINE POOL plugin &gt; <https:\/\/youtu.be\/UPawotXB_Qs>",
        "user": "U02DHRR2L",
        "ts": "1539312998.000100",
        "attachments": [
            {
                "service_name": "YouTube",
                "service_url": "https:\/\/www.youtube.com\/",
                "title": "Digital Rebar Machine Pools via RackN Plugin",
                "title_link": "https:\/\/youtu.be\/UPawotXB_Qs",
                "author_name": "RackN & Digital Rebar",
                "author_link": "https:\/\/www.youtube.com\/channel\/UCr3bBtP-pMsDQ5c0IDjt_LQ",
                "thumb_url": "https:\/\/i.ytimg.com\/vi\/UPawotXB_Qs\/hqdefault.jpg",
                "thumb_width": 480,
                "thumb_height": 360,
                "fallback": "YouTube Video: Digital Rebar Machine Pools via RackN Plugin",
                "video_html": "<iframe width=\"400\" height=\"225\" src=\"https:\/\/www.youtube.com\/embed\/UPawotXB_Qs?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen><\/iframe>",
                "video_html_width": 400,
                "video_html_height": 225,
                "from_url": "https:\/\/youtu.be\/UPawotXB_Qs",
                "service_icon": "https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png",
                "id": 1,
                "original_url": "https:\/\/youtu.be\/UPawotXB_Qs"
            }
        ]
    },
    {
        "client_msg_id": "7f8a7869-44ef-460d-987e-e79bdcf86676",
        "type": "message",
        "text": "this is beta functionality... but OMG it's cool",
        "user": "U02DHRR2L",
        "ts": "1539313012.000100"
    }
]