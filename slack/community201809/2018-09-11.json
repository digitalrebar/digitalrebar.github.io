[
    {
        "client_msg_id": "7243530e-3197-4033-b5c0-feb3921e99fa",
        "type": "message",
        "text": "Just installed a new dr-provision with production mode and run into these error",
        "user": "UANLCF8QP",
        "ts": "1536681793.000100"
    },
    {
        "client_msg_id": "667ae13a-abfc-49a2-b06a-63d924cd494b",
        "type": "message",
        "text": "drpcli bootenvs list |jq ‘.[].Name’\nError: Error creating session: CLIENT_ERROR\n  Cannot handle content-type text\/plain; charset=utf-8\n  No decoder for content-type text\/plain; charset=utf-8",
        "user": "UANLCF8QP",
        "ts": "1536681810.000100"
    },
    {
        "client_msg_id": "79d3d21f-8f5d-444d-8ece-3a4498c99bae",
        "type": "message",
        "text": "make sure you are going to the right endpoint with the correct password\/token.  That is what looks like an auth error, <@UANLCF8QP>",
        "user": "U02DGQYK1",
        "ts": "1536683970.000100"
    },
    {
        "client_msg_id": "6b8e769a-fac2-46a9-b455-515ff8308cc2",
        "type": "message",
        "text": "<!channel> Meetup today at 11am PST (in an hour) - details:\n<https:\/\/www.meetup.com\/digitalrebar\/events\/254177250>",
        "user": "U6QFVRJNB",
        "ts": "1536684809.000100",
        "attachments": [
            {
                "service_name": "Meetup",
                "title": "v025: KRIB Helm Advanced (demo Istio), bug scrub, community",
                "title_link": "https:\/\/www.meetup.com\/digitalrebar\/events\/254177250",
                "text": "Tue, Sep 11, 2018, 11:00 AM: Start Time is 11:00 am PST (12:00 pm MST, 1:00 pm CST, 2:00 pm EST ... )Welcome to the Digital Rebar online meetup. Please note we'll be using <http:\/\/Zoom.us|Zoom.us> for our meeting; so",
                "fallback": "Meetup: v025: KRIB Helm Advanced (demo Istio), bug scrub, community",
                "image_url": "https:\/\/secure.meetupstatic.com\/photos\/event\/d\/1\/b\/1\/600_467453681.jpeg",
                "fields": [
                    {
                        "title": "Where",
                        "value": "Online <https:\/\/zoom.us\/j\/3403934274> Mountain View, CA",
                        "short": true
                    },
                    {
                        "title": "When",
                        "value": "Tue, Sep 11, 2018, 11:00 AM",
                        "short": true
                    }
                ],
                "from_url": "https:\/\/www.meetup.com\/digitalrebar\/events\/254177250",
                "image_width": 472,
                "image_height": 250,
                "image_bytes": 69998,
                "service_icon": "https:\/\/www.meetup.com\/mu_static\/en-US\/4f86abc993eecccc33a115d00b405ced.png",
                "id": 1,
                "original_url": "https:\/\/www.meetup.com\/digitalrebar\/events\/254177250"
            }
        ],
        "reactions": [
            {
                "name": "sunglasses",
                "users": [
                    "U02DHRR2L"
                ],
                "count": 1
            }
        ]
    },
    {
        "client_msg_id": "54aefb52-5782-42c7-93be-d5791c6c9106",
        "type": "message",
        "text": "Are these the 'top of rack' DRP ARM things your looking to validate on ?",
        "user": "U62R1805P",
        "ts": "1536694564.000200"
    },
    {
        "client_msg_id": "70474261-f2c7-4a4e-bdda-ef0ddd25e7d1",
        "type": "message",
        "text": "<https:\/\/system76.com\/servers>",
        "user": "U62R1805P",
        "ts": "1536694565.000100",
        "attachments": [
            {
                "title": "Servers - System76",
                "title_link": "https:\/\/system76.com\/servers",
                "text": "System76 servers are custom built to run Linux and are designed for easy maintenance and expansion. Design the perfect server for your needs.",
                "fallback": "Servers - System76",
                "from_url": "https:\/\/system76.com\/servers",
                "service_icon": "https:\/\/d1vhcvzji58n1j.cloudfront.net\/touch-icon-iphone-retina-51b991bc3a.png",
                "service_name": "system76.com",
                "id": 1,
                "original_url": "https:\/\/system76.com\/servers"
            }
        ]
    },
    {
        "user": "UCRE3L46P",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1536698973.000200",
        "text": "<@UCRE3L46P> has joined the channel"
    },
    {
        "client_msg_id": "b725539e-d5f1-4fcb-9c54-e5209de60da2",
        "type": "message",
        "text": "<@UCRE3L46P> $welcome",
        "user": "U02DGQYK1",
        "ts": "1536699331.000100"
    },
    {
        "type": "message",
        "subtype": "slackbot_response",
        "text": "Digital Rebar welcome information is here &gt; <http:\/\/rebar.digital\/community\/welcome.html>",
        "user": "USLACKBOT",
        "ts": "1536699331.000200"
    },
    {
        "client_msg_id": "5854ad2b-e37c-4c49-be5b-2f7fe82e4fa4",
        "type": "message",
        "text": "Thanks!",
        "user": "UCRE3L46P",
        "ts": "1536699338.000100"
    },
    {
        "client_msg_id": "014d00d4-1e63-48ee-b48d-89c7db822468",
        "type": "message",
        "text": "I was curious about how you guys handle image creation",
        "user": "UCRE3L46P",
        "ts": "1536699349.000100"
    },
    {
        "client_msg_id": "550fed3d-4654-4ac4-87d3-b3d7491817c8",
        "type": "message",
        "text": "Are you running some kind of builder\/imaging on bare metal?",
        "user": "UCRE3L46P",
        "ts": "1536699363.000100"
    },
    {
        "client_msg_id": "321159f2-69c5-4fd1-b47d-3febfb24a696",
        "type": "message",
        "text": "I see sledgehammer-builder in docs but not much info there",
        "user": "UCRE3L46P",
        "ts": "1536699374.000100"
    },
    {
        "client_msg_id": "cfaf313f-1cbe-421d-a1aa-7fcb3144d9d4",
        "type": "message",
        "text": "A couple of ways.  One is to leverage something like packer to collect a raw image or rootfs.",
        "user": "U02DGQYK1",
        "ts": "1536699388.000100"
    },
    {
        "client_msg_id": "f0d01548-e04a-494f-a1fd-6b7be1cce920",
        "type": "message",
        "text": "Another is that we have an alpha image builder that uses the kickstart\/preseed + tasks to build a system and then record it.",
        "user": "U02DGQYK1",
        "ts": "1536699430.000100"
    },
    {
        "client_msg_id": "a16c9d17-12d0-41f4-b703-dc4acedaa074",
        "type": "message",
        "text": "Then we can deploy it.",
        "user": "U02DGQYK1",
        "ts": "1536699435.000100"
    },
    {
        "client_msg_id": "1c6e7416-3ba5-48f4-8f14-033f826eb0d2",
        "type": "message",
        "text": "This works well for linux.  Windows less so - that needs raw image right now.",
        "user": "U02DGQYK1",
        "ts": "1536699450.000100"
    },
    {
        "client_msg_id": "7a8e50ff-af97-4cbe-9056-a6b67ccce9aa",
        "type": "message",
        "text": "So for windows you just do like a packer -&gt; qemu image and deploy",
        "user": "UCRE3L46P",
        "ts": "1536699470.000100"
    },
    {
        "client_msg_id": "a9287593-5c31-4df0-b564-1ee99945af40",
        "type": "message",
        "text": "<@U6QFVRJNB> has been playing with the image-builder stuff.  We haven’t put it out there because we start still vetting it.",
        "user": "U02DGQYK1",
        "ts": "1536699473.000100"
    },
    {
        "client_msg_id": "8b8dd60e-0ac3-4128-9826-785ed7609133",
        "type": "message",
        "text": "Yes",
        "user": "U02DGQYK1",
        "ts": "1536699484.000100"
    },
    {
        "client_msg_id": "72264135-08c5-4dd4-a929-cc71ba2378c6",
        "type": "message",
        "text": "That is how a couple of people do it.  That allows for windows updates in that env so they can be skipped once installed.",
        "user": "U02DGQYK1",
        "ts": "1536699523.000100"
    },
    {
        "client_msg_id": "5a2ca1ea-b650-41d3-8db6-aa3db8e554c6",
        "type": "message",
        "text": "Noice",
        "user": "UCRE3L46P",
        "ts": "1536699537.000100"
    },
    {
        "client_msg_id": "a3e30b2c-f7c0-483a-8d48-1f8a69d90a71",
        "type": "message",
        "text": "One other thing - with params etc, you had mentioned there was https communication back to the rebar server based on some token",
        "user": "UCRE3L46P",
        "ts": "1536699572.000200"
    },
    {
        "client_msg_id": "ffa43c78-4272-4363-97aa-a0dd0eab7712",
        "type": "message",
        "text": "does that mean there's a metadata api of some sort available to machines? a la amazon metadata api",
        "user": "UCRE3L46P",
        "ts": "1536699585.000100"
    },
    {
        "client_msg_id": "3ff3b38d-281d-4da1-b127-33a9331cf1f0",
        "type": "message",
        "text": "kinda … there is a whole story around that, but let me answer a little.",
        "user": "U02DGQYK1",
        "ts": "1536699629.000100"
    },
    {
        "client_msg_id": "b11b7108-8a2b-4d40-9c03-aa95d58a37d5",
        "type": "message",
        "text": "okay - so there are a couple of ways things are rendered.",
        "user": "U02DGQYK1",
        "ts": "1536699692.000100"
    },
    {
        "client_msg_id": "9e88c340-fada-43c4-a4e6-04c2ee3be372",
        "type": "message",
        "text": "There are the boot templates (pxe files and kickstarts).  These are served through the http\/tftp service and handle basic booting.",
        "user": "U02DGQYK1",
        "ts": "1536699726.000100"
    },
    {
        "client_msg_id": "672c8722-1694-42fc-9cab-46a3ea0c6f55",
        "type": "message",
        "text": "Once the system is booted into an install image or sledgehammer (the discovery image), the runner (drpcli in a specific mode) will establish a secure https connection back to the API with an injected token that only works for the machine with limited RBAC actions.",
        "user": "U02DGQYK1",
        "ts": "1536699778.000100"
    },
    {
        "client_msg_id": "9845683e-5d32-4a45-8225-0877543710f2",
        "type": "message",
        "text": "The actual tasks from the stages and workflows are sent over that communication path with rendered data for that system.",
        "user": "U02DGQYK1",
        "ts": "1536699816.000100"
    },
    {
        "client_msg_id": "3524b649-db38-47a0-b4eb-61ae7ddd70b0",
        "type": "message",
        "text": "These files are dynamically rendered and only through the API.  No Filesystem representation on the DRP endpoint.",
        "user": "U02DGQYK1",
        "ts": "1536699856.000100"
    },
    {
        "client_msg_id": "176723d4-4822-4ec3-927d-e9018fb40e89",
        "type": "message",
        "text": "<@UCRE3L46P> - make sense?",
        "user": "U02DGQYK1",
        "ts": "1536699894.000100"
    },
    {
        "client_msg_id": "d0763633-4dde-4bc0-9d05-b95c91807793",
        "type": "message",
        "text": "Yea I think so. Does that mean that the agent is more or less handling the secure communication?",
        "user": "UCRE3L46P",
        "ts": "1536699963.000100"
    },
    {
        "client_msg_id": "54a8dd1f-2e3d-493b-a3c7-b4091762367f",
        "type": "message",
        "text": "The jobs\/task APIs are complex and really need to be controlled through the agent, but you could do some of it through curl, I guess.  I don’t recommend it.",
        "user": "U02DGQYK1",
        "ts": "1536699998.000100"
    },
    {
        "client_msg_id": "fbfeb315-f1a0-49d4-b5a9-0ac302fa7b1d",
        "type": "message",
        "text": ":thumbsup:",
        "user": "UCRE3L46P",
        "ts": "1536700013.000100"
    },
    {
        "client_msg_id": "222aac75-23fd-44c4-969d-b91d2d9f4512",
        "type": "message",
        "text": "It is possible to generate client\/server certs and do SSL cert-based auth, but we haven’t taken that path yet.  The main issue is with that initial client cert on an ephemeral OS.   Doable, but not something we’ve built yet.  There is a long-term idea for really really secure systems to use TPMs to generate real certs to identify the clients and go that path, but again.  It would be a special customer driving that path.",
        "user": "U02DGQYK1",
        "ts": "1536700153.000100"
    },
    {
        "client_msg_id": "866423f6-9cb7-48e5-ae86-3ee68097c5c1",
        "type": "message",
        "text": "<@UCRE3L46P> - We’ve kinda chosen enough for now.",
        "user": "U02DGQYK1",
        "ts": "1536700173.000100"
    },
    {
        "client_msg_id": "2926a908-ce3a-46bb-b128-0f0ca762e81c",
        "type": "message",
        "text": "Cool thanks for the info",
        "user": "UCRE3L46P",
        "ts": "1536700204.000100"
    },
    {
        "client_msg_id": "d47b65ba-1d9d-476f-9b24-c3c2373f1e54",
        "type": "message",
        "text": "np - let me know if you have other questions",
        "user": "U02DGQYK1",
        "ts": "1536700217.000100"
    },
    {
        "client_msg_id": "5e6a4fde-c6f0-49ba-b530-61d44ab5b626",
        "type": "message",
        "text": "Last one - where can I find the code backing plugins\/content like this - &gt; <https:\/\/provision.readthedocs.io\/en\/tip\/doc\/content-packages\/kubespray.html>",
        "user": "UCRE3L46P",
        "ts": "1536700351.000100"
    },
    {
        "client_msg_id": "665ca776-a210-4b2e-bf3e-3c23f2bbb93e",
        "type": "message",
        "text": "Curious to give it a shot with openshift this weekend",
        "user": "UCRE3L46P",
        "ts": "1536700362.000100"
    },
    {
        "client_msg_id": "e61184b6-223b-43ad-9d55-1aed30cc0d2e",
        "type": "message",
        "text": "That is RackN licensed.  You can access it through the portal with a trial license.  Or you can look at the krib stuff in the open.  It is the better maintained k8s deployment.",
        "user": "U02DGQYK1",
        "ts": "1536700828.000100"
    },
    {
        "client_msg_id": "14f6bd6f-3085-4d75-89bf-d62891bce2ba",
        "type": "message",
        "text": "Ah gotcha. Thanks!",
        "user": "UCRE3L46P",
        "ts": "1536700872.000100"
    },
    {
        "client_msg_id": "b924cbaa-5ee0-4ede-9099-3dad8e2ae6a2",
        "type": "message",
        "text": "<@U62R1805P> - we haven't looked in to those - look interesting, though :slightly_smiling_face:",
        "user": "U6QFVRJNB",
        "ts": "1536703254.000100"
    },
    {
        "client_msg_id": "ccc18120-4f83-468d-a2e7-e98f40291a79",
        "type": "message",
        "text": "ICYMI: Recording from Today's community meetup talking about advanced Helm, Istio, Rook and other dev patterns.  Also bug scrub started.\n<https:\/\/www.youtube.com\/watch?v=MVaWS5ibjws&amp;t=0s&amp;index=2&amp;list=PLXPBeIrpXjfjsiMkDn2SJuTPYTotESpL2>",
        "user": "U02DHRR2L",
        "ts": "1536710308.000100",
        "attachments": [
            {
                "service_name": "YouTube",
                "service_url": "https:\/\/www.youtube.com\/",
                "title": "Digital Rebar Meetup #25 - Istio, Advanced Helm, Bug Scrub",
                "title_link": "https:\/\/www.youtube.com\/watch?v=MVaWS5ibjws&amp;t=0s&amp;index=2",
                "author_name": "RackN & Digital Rebar",
                "author_link": "https:\/\/www.youtube.com\/channel\/UCr3bBtP-pMsDQ5c0IDjt_LQ",
                "thumb_url": "https:\/\/i.ytimg.com\/vi\/MVaWS5ibjws\/hqdefault.jpg",
                "thumb_width": 480,
                "thumb_height": 360,
                "fallback": "YouTube Video: Digital Rebar Meetup #25 - Istio, Advanced Helm, Bug Scrub",
                "video_html": "<iframe width=\"400\" height=\"225\" src=\"https:\/\/www.youtube.com\/embed\/MVaWS5ibjws?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen><\/iframe>",
                "video_html_width": 400,
                "video_html_height": 225,
                "from_url": "https:\/\/www.youtube.com\/watch?v=MVaWS5ibjws&amp;t=0s&amp;index=2",
                "service_icon": "https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png",
                "id": 1,
                "original_url": "https:\/\/www.youtube.com\/watch?v=MVaWS5ibjws&amp;t=0s&amp;index=2&amp;list=PLXPBeIrpXjfjsiMkDn2SJuTPYTotESpL2"
            }
        ]
    }
]