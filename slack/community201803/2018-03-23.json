[
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Hey guys, I’m trying to create a task and drp is hanging after it :confused:",
        "ts": "1521806089.000209"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "`drpcli tasks create - &lt; bsdinstall_task.json`",
        "ts": "1521806097.000413"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "```\n{\n  \"Available\": true,\n  \"Description\": \"Install FreeBSD\",\n  \"Documentation\": \"\",\n  \"Errors\": [],\n  \"Meta\": {\n    \"color\": \"blue\",\n    \"feature-flags\": \"sane-exit-codes\",\n    \"icon\": \"key\",\n    \"title\": \"Digital Rebar Community Content\"\n  },\n  \"Name\": \"bsdinstall\",\n  \"OptionalParams\": [],\n  \"ReadOnly\": true,\n  \"RequiredParams\": [],\n  \"Templates\": [\n    {\n      \"Contents\": \"\",\n      \"ID\": \"bsdinstall.tmpl\",\n      \"Name\": \"FreeBSD install\",\n      \"Path\": \"\"\n    }\n  ],\n  \"Validated\": true\n}\n```",
        "ts": "1521806118.000165"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "That command just hangs and after it I can’t execute any other command, I have to kill drp process so it’s working again",
        "ts": "1521806164.000282"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "```\nroot@ubuntu-xenial:~\/test# drpcli version\nVersion: v3.7.3-0-5b1774b63a9abce5c7ae43d5dbd901b7b1439c68\n```",
        "ts": "1521806193.000227"
    },
    {
        "type": "message",
        "user": "U9TPYH6JE",
        "text": "Is there any way to get the UI downloaded locally (maybe periodically through a pull request) ?     We can't afford working with the UI from the Internet because of corporate security restrictions, but the UI is still interesting from time to time, even if most of our work with be handled through API calls",
        "ts": "1521807648.000526"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U8YJ0FW9Y> - I’ll check.  There was an issue, but I think you have that fix.  Do you have the `bsdinstall.tmpl` already as a template.",
        "ts": "1521807712.000260"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Yep",
        "ts": "1521807741.000435"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "```\nAvailable: true\nContents: |\n  PARTITIONS=ada0\n  DISTRIBUTIONS=\"kernel.txz base.txz\"\n  BSDINSTALL_DISTDIR=\/tmp\n  BSDINSTALL_DISTSITE=<http:\/\/192.168.1.9:8000>\n\n  #!\/bin\/sh\n  echo \"Installation complete, running in host system\"\n  echo dumb-password|pw usermod root -h 0\n  echo \"hostname=\\\"CACHO\\\"\" &gt;&gt; \/etc\/rc.conf\n  echo \"autoboot_delay=\\\"-1\\\"\" &gt;&gt; \/boot\/loader.conf\n  echo \"sshd_enable=YES\" &gt;&gt; \/etc\/rc.conf\n  echo \"Setup done.\"\n  reboot\nDescription: \"\"\nErrors: []\nID: bsdinstall.tmpl\nMeta: {}\nReadOnly: true\nValidated: true```",
        "ts": "1521807756.000178"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U9TPYH6JE> - Yes - there is a way to do that, but we usually restrict it to corporate clients.",
        "ts": "1521807764.000231"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U8YJ0FW9Y> - let me try it.",
        "ts": "1521807819.000293"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "<@U02DGQYK1> Thanks :+1:",
        "ts": "1521807831.000203"
    },
    {
        "type": "message",
        "user": "U9TPYH6JE",
        "text": "<@U02DGQYK1> Do you consider a 65K+ employees company big enough to be seen as a corporate client?  :wink:",
        "ts": "1521807909.000376"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "That would be nice.  Maybe we should chat offline.",
        "ts": "1521807966.000201"
    },
    {
        "type": "message",
        "user": "U9TPYH6JE",
        "text": "Yes, sure !",
        "ts": "1521807985.000096"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U8YJ0FW9Y> - it works for on tip +.  I’m trying now on v3.7.3.",
        "ts": "1521808241.000327"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U8YJ0FW9Y> - can you tell me what you hope to do with this task?  It seems like it might be better for a bootenv, but I’m not sure yet.",
        "ts": "1521808266.000159"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "To be honest, I was using bootenvs before but seems that stages is now the way to go?",
        "ts": "1521808305.000151"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "(Or at least that is what I understand about it)",
        "ts": "1521808322.000255"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Well, all objects have there places.  :slightly_smiling_face:",
        "ts": "1521808539.000444"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "In the doc I see",
        "ts": "1521808589.000258"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "`drpcli machines stage b5a14aa7-49f5-45c2-92f6-a3173b87e94d ubuntu-16.04-install`",
        "ts": "1521808591.000209"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "So I’m trying to mimic that",
        "ts": "1521808598.000362"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Creating a stage and bootenv",
        "ts": "1521808604.000337"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "okay - so - one thing at time here.",
        "ts": "1521808618.000279"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "I just tried this one a stable (v3.7.3 - fresh install).",
        "ts": "1521808632.000325"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "```\ndrpcli templates upload bsdinstall.tmpl as bsdinstall.tmpl \ndrpcli tasks create - &lt; bsdinstall_task.json\n```",
        "ts": "1521808650.000299"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "With these two files.",
        "ts": "1521808657.000332"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U02DGQYK1> uploaded a file: <https:\/\/rackn.slack.com\/files\/U02DGQYK1\/F9V15LYHG\/bsdinstall_task.json|bsdinstall_task.json>",
        "file": {
            "id": "F9V15LYHG",
            "created": 1521808681,
            "timestamp": 1521808681,
            "name": "bsdinstall_task.json",
            "title": "bsdinstall_task.json",
            "mimetype": "text\/plain",
            "filetype": "javascript",
            "pretty_type": "JavaScript\/JSON",
            "user": "U02DGQYK1",
            "editable": true,
            "size": 493,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F9V15LYHG\/bsdinstall_task.json?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F9V15LYHG\/download\/bsdinstall_task.json?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "permalink": "https:\/\/rackn.slack.com\/files\/U02DGQYK1\/F9V15LYHG\/bsdinstall_task.json",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F9V15LYHG-adb0f5cc33",
            "edit_link": "https:\/\/rackn.slack.com\/files\/U02DGQYK1\/F9V15LYHG\/bsdinstall_task.json\/edit",
            "preview": "{\n  \"Available\": true,\n  \"Description\": \"Install FreeBSD\",\n  \"Documentation\": \"\",\n  \"Errors\": [],",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>{<\/pre><\/div>\n<div><pre>  <span class=\"cm-string\">&quot;Available&quot;<\/span>: <span class=\"cm-atom\">true<\/span>,<\/pre><\/div>\n<div><pre>  <span class=\"cm-string\">&quot;Description&quot;<\/span>: <span class=\"cm-string\">&quot;Install FreeBSD&quot;<\/span>,<\/pre><\/div>\n<div><pre>  <span class=\"cm-string\">&quot;Documentation&quot;<\/span>: <span class=\"cm-string\">&quot;&quot;<\/span>,<\/pre><\/div>\n<div><pre>  <span class=\"cm-string\">&quot;Errors&quot;<\/span>: [],<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 26,
            "lines_more": 21,
            "preview_is_truncated": false,
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U02DGQYK1",
        "upload": true,
        "display_as_bot": false,
        "username": "greg",
        "bot_id": null,
        "ts": "1521808682.000249"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U02DGQYK1> uploaded a file: <https:\/\/rackn.slack.com\/files\/U02DGQYK1\/F9UUUD12Q\/bsdinstall.tmpl|bsdinstall.tmpl>",
        "file": {
            "id": "F9UUUD12Q",
            "created": 1521808702,
            "timestamp": 1521808702,
            "name": "bsdinstall.tmpl",
            "title": "bsdinstall.tmpl",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U02DGQYK1",
            "editable": true,
            "size": 381,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F9UUUD12Q\/bsdinstall.tmpl?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F9UUUD12Q\/download\/bsdinstall.tmpl?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "permalink": "https:\/\/rackn.slack.com\/files\/U02DGQYK1\/F9UUUD12Q\/bsdinstall.tmpl",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F9UUUD12Q-d842e860a8",
            "edit_link": "https:\/\/rackn.slack.com\/files\/U02DGQYK1\/F9UUUD12Q\/bsdinstall.tmpl\/edit",
            "preview": "PARTITIONS=ada0\nDISTRIBUTIONS=\"kernel.txz base.txz\"\nBSDINSTALL_DISTDIR=\/tmp\nBSDINSTALL_DISTSITE=http:\/\/192.168.1.9:8000\n",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>PARTITIONS=ada0<\/pre><\/div>\n<div><pre>DISTRIBUTIONS=&quot;kernel.txz base.txz&quot;<\/pre><\/div>\n<div><pre>BSDINSTALL_DISTDIR=\/tmp<\/pre><\/div>\n<div><pre>BSDINSTALL_DISTSITE=http:\/\/192.168.1.9:8000<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 14,
            "lines_more": 9,
            "preview_is_truncated": false,
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U02DGQYK1",
        "upload": true,
        "display_as_bot": false,
        "username": "greg",
        "bot_id": null,
        "ts": "1521808702.000398"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Did you have a UX open when you did it?",
        "ts": "1521808748.000256"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Had you added any plug-ins or content packs?",
        "ts": "1521808825.000047"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Nope, I just did an install today :confused:",
        "ts": "1521808955.000497"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Never used the UX either",
        "ts": "1521808966.000284"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Just CLI",
        "ts": "1521808968.000192"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "okay - hmm",
        "ts": "1521808985.000441"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Did dr-provision dump any interesting logs?",
        "ts": "1521809001.000541"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "interesting to me.  :slightly_smiling_face:",
        "ts": "1521809012.000038"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Nothing I tried with this:",
        "ts": "1521809015.000499"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "```\n.\/dr-provision --base-root=\/root\/drp\/drp-data --local-content= --default-content= --log-level=debug --debug-bootenv=debug --debug-dhcp=debug --debug-renderer=debug --debug-frontend=debug --debug-plugins=debug```",
        "ts": "1521809017.000485"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "okay - just a second.",
        "ts": "1521809049.000341"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "All I can see is:",
        "ts": "1521809061.000119"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "```\ndr-provision2018\/03\/23 12:43:03.230676 [30:48]frontend [audit]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/frontend\/frontend.go:642\n[30:48]Authenticated rocketskates - users token rocketskates - 127.0.0.1```",
        "ts": "1521809062.000477"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "And then hangs",
        "ts": "1521809065.000362"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "If you restart it does it still hang?",
        "ts": "1521809174.000005"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Aslo had you started the service without the debug flags first?",
        "ts": "1521809224.000140"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Yes - you had.",
        "ts": "1521809260.000550"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Yes I had",
        "ts": "1521809361.000223"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "I tried to kill the process and start again same thing :disappointed:",
        "ts": "1521809370.000072"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "hang without the command adding task command?",
        "edited": {
            "user": "U02DGQYK1",
            "ts": "1521809395.000000"
        },
        "ts": "1521809384.000443"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "This is what I used to install:",
        "ts": "1521809384.000493"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "curl -fsSL get.rebar.digital\/stable | bash -s -- --isolated install",
        "ts": "1521809394.000321"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "It works great with any other command, but when I do `drpcli tasks create` hungs",
        "ts": "1521809417.000018"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "okay - just a second.  Let me send you a command.",
        "ts": "1521809430.000381"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "```drpcli prefs set debugFrontend debug debugDhcp debug debugBootEnv debug debugRenderer debug debugPlugins debug logLevel debug```",
        "ts": "1521809465.000105"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "The --debugXXX flags are only used for the first start.  Once set in the “database”, the cli\/ux is used to change them.",
        "ts": "1521809497.000008"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Then start and add the task?",
        "ts": "1521809535.000115"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "You should see something like:\n```\ndr-provision2018\/03\/23 12:52:45.550182 [21:69]frontend [debug]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/backend\/conncache.go:63\n[21:69]addrCache: Renewing local 147.75.73.159 -&gt; remote 97.105.224.114\ndr-provision2018\/03\/23 12:52:45.682945 [22:70]frontend [audit]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/frontend\/frontend.go:642\n[22:70]Authenticated rocketskates - users token rocketskates - 97.105.224.114\ndr-provision2018\/03\/23 12:52:45.683144 [22:71]frontend [debug]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/backend\/conncache.go:88\n[22:71]addrCache: Remote 97.105.224.114 talks through local 147.75.73.159\ndr-provision2018\/03\/23 12:52:45.683251 [22:72]frontend [debug]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/frontend\/frontend.go:436\n[22:72]API: st: 200 lt:  132.969118ms ip:  97.105.224.114 m: GET \/api\/v3\/users\/rocketskates\/token\ndr-provision2018\/03\/23 12:52:45.746115 [23:73]frontend [debug]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/backend\/conncache.go:63\n[23:73]addrCache: Renewing local 147.75.73.159 -&gt; remote 97.105.224.114\ndr-provision2018\/03\/23 12:52:45.746997 [24:74]frontend [debug]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/frontend\/frontend.go:436\n[24:74]API: st: 201 lt:     778.675µs ip:  97.105.224.114 m: POST \/api\/v3\/tasks\n```",
        "ts": "1521809593.000229"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Ok checking",
        "ts": "1521809627.000194"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "```\nroot@ubuntu-xenial:~\/test# drpcli prefs set debugFrontend debug debugDhcp debug debugBootEnv debug debugRenderer debug debugPlugins debug logLevel debug\n{\n  \"baseTokenSecret\": \"6v78Q3Wg_472J-iWDalFgjPgKoxNX07I\",\n  \"debugBootEnv\": \"debug\",\n  \"debugDhcp\": \"debug\",\n  \"debugFrontend\": \"debug\",\n  \"debugPlugins\": \"debug\",\n  \"debugRenderer\": \"debug\",\n  \"defaultBootEnv\": \"sledgehammer\",\n  \"defaultStage\": \"discover\",\n  \"knownTokenTimeout\": \"3600\",\n  \"logLevel\": \"debug\",\n  \"systemGrantorSecret\": \"slvJmljmIN5CSeRWhqq18iK_cQZB85I9\",\n  \"unknownBootEnv\": \"discovery\",\n  \"unknownTokenTimeout\": \"600\"\n}\n```",
        "ts": "1521809701.000298"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "that looks good",
        "ts": "1521809721.000226"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "You should be getting more log messages now",
        "ts": "1521809728.000215"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "This is all I see:",
        "ts": "1521809733.000426"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "```\ndr-provision2018\/03\/23 12:54:13.639573 [9:56]frontend [debug]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/backend\/conncache.go:63\n[9:56]addrCache: Renewing local 127.0.0.1 -&gt; remote 127.0.0.1\ndr-provision2018\/03\/23 12:54:13.688788 [10:57]frontend [audit]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/frontend\/frontend.go:642\n[10:57]Authenticated rocketskates - users token rocketskates - 127.0.0.1\ndr-provision2018\/03\/23 12:54:13.688972 [10:58]frontend [debug]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/backend\/conncache.go:88\n[10:58]addrCache: Remote 127.0.0.1 talks through local 127.0.0.1\ndr-provision2018\/03\/23 12:54:13.689091 [10:59]frontend [debug]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/frontend\/frontend.go:436\n[10:59]API: st: 200 lt:   49.457893ms ip:       127.0.0.1 m: GET \/api\/v3\/users\/rocketskates\/token\ndr-provision2018\/03\/23 12:54:13.690236 [11:60]frontend [debug]: \/home\/travis\/gopath\/src\/github.com\/digitalrebar\/provision\/backend\/conncache.go:63\n[11:60]addrCache: Renewing local 127.0.0.1 -&gt; remote 127.0.0.1\n```",
        "ts": "1521809736.000457"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": ":disappointed:",
        "ts": "1521809738.000405"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "hmmm",
        "ts": "1521809786.000465"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "you are running this locally.",
        "ts": "1521809807.000107"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Okay- more tests.",
        "ts": "1521809813.000043"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Do this:\n```\ndrpcli -E <https:\/\/147.75.73.159:8092> tasks create - &lt; bsdinstall_task.json\n```",
        "ts": "1521809876.000642"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Also this should work now too:\n```drpcli -E <https:\/\/147.75.73.159:8092> tasks create bsdinstall_task.json```",
        "ts": "1521809990.000605"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Ok",
        "ts": "1521810424.000293"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "That worked",
        "ts": "1521810441.000141"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "```\nroot@ubuntu-xenial:~\/test# drpcli -E <https:\/\/147.75.73.159:8092> tasks create - &lt; bsdinstall_task.json\n{\n  \"Available\": true,\n  \"Description\": \"Install FreeBSD\",\n  \"Documentation\": \"\",\n  \"Errors\": [],\n  \"Meta\": {\n    \"color\": \"blue\",\n    \"feature-flags\": \"sane-exit-codes\",\n    \"icon\": \"key\",\n    \"title\": \"Digital Rebar Community Content\"\n  },\n  \"Name\": \"bsdinstall\",\n  \"OptionalParams\": [],\n  \"ReadOnly\": true,\n  \"RequiredParams\": [],\n  \"Templates\": [\n    {\n      \"Contents\": \"\",\n      \"ID\": \"bsdinstall.tmpl\",\n      \"Name\": \"FreeBSD install\",\n      \"Path\": \"\"\n    }\n  ],\n  \"Validated\": true\n}\n```",
        "ts": "1521810443.000008"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": ":confused:",
        "ts": "1521810444.000055"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "okay - closer to more details.",
        "ts": "1521810474.000250"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "can you check the \/var\/log\/messages and see if apparmor or something is messing with us?",
        "ts": "1521810495.000491"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Does anything reference you task yet?  Like a bootenv?",
        "ts": "1521810531.000430"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "or a stage?",
        "ts": "1521810535.000404"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Let me check disabling apparmor",
        "ts": "1521810721.000082"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Yes, a stage",
        "ts": "1521810801.000397"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "```\nroot@ubuntu-xenial:~\/test# drpcli stages show freebsd-10.3-amd64-install\n{\n  \"Available\": false,\n  \"BootEnv\": \"freebsd-10.3-amd64-install\",\n  \"Description\": \"FreeBSD 10.3 AMD64 installation stage.  References latest release\",\n  \"Errors\": [\n    \"Task bsdinstall does not exist\",\n    \"Stage freebsd-10.3-amd64-install wants BootEnv freebsd-10.3-amd64-install, which is not available\"\n  ],\n  \"Meta\": {\n    \"color\": \"yellow\",\n    \"icon\": \"download\",\n    \"title\": \"Digital Rebar Community Content\"\n  },\n  \"Name\": \"freebsd-10.3-amd64-install\",\n  \"OptionalParams\": [],\n  \"Profiles\": [],\n  \"ReadOnly\": false,\n  \"Reboot\": false,\n  \"RequiredParams\": [],\n  \"RunnerWait\": true,\n  \"Tasks\": [\n    \"bsdinstall\"\n  ],\n  \"Templates\": [],\n  \"Validated\": true\n}\n```",
        "ts": "1521810870.000611"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "ah - okay - that could cause it.",
        "ts": "1521810897.000625"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Let me add that and see.",
        "ts": "1521810903.000052"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Ok",
        "ts": "1521810907.000034"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "I have to go for now, but will be back in couple of hours",
        "ts": "1521810923.000554"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Thanks for all your help!",
        "ts": "1521810927.000128"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "np - ping me when you can.",
        "ts": "1521810950.000488"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U8YJ0FW9Y> - recreated your issue.  Thanks!  I’ll look into it.",
        "ts": "1521811026.000378"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "It is the stage referencing the task that causes the create issues.",
        "ts": "1521811038.000235"
    },
    {
        "type": "message",
        "user": "U8YJ0FW9Y",
        "text": "Nice :+1:",
        "ts": "1521811084.000289"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U8YJ0FW9Y> _ I have a fix for you.  tip is rebuilding.  You will want `v3.7.3-tip-84`.",
        "ts": "1521819375.000062"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "It is still building right now.",
        "ts": "1521819380.000714"
    },
    {
        "type": "message",
        "user": "U9R87AWKE",
        "text": "I have two questions 1) Is there a way to programmatically transfer a plugin 2) Is there a way yet to programmatically add a workflow? The reason for this is I have a self-container simulator environment with DRP and Infrasim and want my peers to be able to stand this up in an automated way",
        "ts": "1521819488.000855"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Yes to all of that.",
        "ts": "1521819513.000380"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "1. `drpcli plugin_providers upload &lt;name&gt; from &lt;file&gt;`",
        "ts": "1521819539.000291"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "You will need to get the file.  We don’t have a clear way to do that in the SaaS yet.  <@U6QFVRJNB> has some examples.",
        "ts": "1521819570.000394"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "2. Workflows are actually parameters in profiles or on machines.  The `change-stage\/map` attribute.  those can be updated and set in profiles or on machines.",
        "ts": "1521819611.000336"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U9R87AWKE> - I wrote a (simple bash script) automation that deploys DRP to a <http:\/\/packet.net|packet.net> server, sets it up, and provisions a machine against that newly build DRP endpoint - the Example is available to review how I did it ...",
        "ts": "1521819611.000518"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<https:\/\/github.com\/digitalrebar\/provision\/tree\/master\/examples\/pkt-demo>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "digitalrebar\/provision",
                "title_link": "https:\/\/github.com\/digitalrebar\/provision\/tree\/master\/examples\/pkt-demo",
                "text": "Digital Rebar Provision is a simple but powerful Golang executable that provides a complete API-driven DHCP\/PXE\/TFTP provisioning system.",
                "fallback": "GitHub: digitalrebar\/provision",
                "from_url": "https:\/\/github.com\/digitalrebar\/provision\/tree\/master\/examples\/pkt-demo",
                "thumb_url": "https:\/\/avatars1.githubusercontent.com\/u\/13814120?s=400&v=4",
                "thumb_width": 250,
                "thumb_height": 250,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1
            }
        ],
        "ts": "1521819612.000702"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "examples in the `bin\/control.sh` shows how to add content, stages, and plugins",
        "ts": "1521819642.000657"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Singe workflows are just parts of profiles, they can be wrapped into a customer generated content pack and uploaded directly.",
        "ts": "1521819670.000527"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "Once you set things up in the UX - you can use the CLI (`drpcli`) to examine the JSON configuration output ... for example, `drpcli profiles show my-fancy-profile` (also can output to YAML w\/ `--format=yaml` at end of command)",
        "ts": "1521819716.000044"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "the resulting JSON or YAML can be used to create as well - for example `drpcli profiles create -&lt; my-fancy-profile.yaml`",
        "ts": "1521819743.000460"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "this pattern exists in all Resource types ...",
        "ts": "1521819764.000794"
    },
    {
        "type": "message",
        "user": "U9R87AWKE",
        "text": "ok great thats what I was looking for!",
        "ts": "1521819882.000785"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "also - once you figure out the CLI syntax, the API resources exactly match\/mimc the CLI (technically ... the CLI is generated from the API ... so the CLI mimcs the API ... but ... ).  you can also use the Swagger UI to learn the API if you want to go the full API route for automation ...",
        "ts": "1521820025.000740"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "to view the Swagger UI \/ API documentation point your browser at your Endpoint, like:\n<https:\/\/10.10.10.10:8092\/swagger-ui\/>  \n(substitute IP or name and Port if you changed the API port number; for your DRP endpoint appropriately)",
        "edited": {
            "user": "U6QFVRJNB",
            "ts": "1521820104.000000"
        },
        "ts": "1521820088.000763"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U8YJ0FW9Y> - Updating to tip should fix your issue.",
        "ts": "1521820456.000787"
    },
    {
        "user": "U9W6VGD47",
        "text": "<@U9W6VGD47> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1521822488.000321"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U9W6VGD47> $welcome",
        "ts": "1521822497.000584"
    },
    {
        "text": "Digital Rebar welcome information is here &gt; <http:\/\/rebar.digital\/community\/welcome.html>",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1521822497.000666"
    },
    {
        "type": "message",
        "user": "U9TPYH6JE",
        "text": "Have a dumb question....   I have managed to setup dr-provision to a point where I can set a machine to install ubuntu (for example). But then, as the machine pxeboots, it tries to reach the internet for installation. I&lt;d rather want the machine to install from the CD (as I could do manually) with the help of a preseed file so it does not prompt for anything....    I don&lt;t find out in the docs how to do that....  :confused:",
        "ts": "1521824144.000397"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U9TPYH6JE> - that's easy :slightly_smiling_face:",
        "ts": "1521824218.000748"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "set a Parameter (either directly on the machine, or in another Profile applied to the Machine) as:\n`\"local-repo\": true`",
        "ts": "1521824253.000617"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "this will set the install to use the locally exploded ISO image contents for the install",
        "ts": "1521824271.000414"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "also - we have other Params you can set, to use an alternate Repo, if you have a local\/internally Repo mirroring the public repos",
        "ts": "1521824296.000219"
    },
    {
        "type": "message",
        "user": "U9TPYH6JE",
        "text": "Oh OK, this points to something.....   Tks !",
        "ts": "1521824328.000549"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "this tip is buried in the Doc in the Architecture pages, at:\n<http:\/\/provision.readthedocs.io\/en\/tip\/doc\/arch\/data.html?highlight=local-repo>",
        "ts": "1521824377.000801"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "the `package-repositories` info is right after the `local-repo` info there",
        "ts": "1521824431.000384"
    },
    {
        "user": "U9V58722G",
        "text": "<@U9V58722G> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1521824758.000663"
    },
    {
        "type": "message",
        "user": "U9R87AWKE",
        "text": "Something is wrong with the `provision:latest` on DockerHub, it never goes into the job queue and machines aren't registered.",
        "ts": "1521825597.000274"
    },
    {
        "type": "message",
        "user": "U32PZNCP5",
        "text": "<@U9V58722G> $Welcome",
        "ts": "1521825923.000774"
    },
    {
        "text": "Digital Rebar welcome information is here &gt; <http:\/\/rebar.digital\/community\/welcome.html>",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1521825924.000463"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U9R87AWKE> what are your port mappings from the host in to the container ?",
        "ts": "1521826212.000025"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U9R87AWKE> uploaded a file: <https:\/\/rackn.slack.com\/files\/U9R87AWKE\/F9VB146GM\/image.png|drp-infrasim>",
        "file": {
            "id": "F9VB146GM",
            "created": 1521826308,
            "timestamp": 1521826308,
            "name": "image.png",
            "title": "drp-infrasim",
            "mimetype": "image\/png",
            "filetype": "png",
            "pretty_type": "PNG",
            "user": "U9R87AWKE",
            "editable": false,
            "size": 43673,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F9VB146GM\/image.png?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F9VB146GM\/download\/image.png?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F9VB146GM-d6bc7d0eb1\/image_64.png?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F9VB146GM-d6bc7d0eb1\/image_80.png?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F9VB146GM-d6bc7d0eb1\/image_360.png?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "thumb_360_w": 360,
            "thumb_360_h": 210,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F9VB146GM-d6bc7d0eb1\/image_480.png?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "thumb_480_w": 480,
            "thumb_480_h": 280,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F9VB146GM-d6bc7d0eb1\/image_160.png?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F9VB146GM-d6bc7d0eb1\/image_720.png?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "thumb_720_w": 720,
            "thumb_720_h": 419,
            "thumb_800": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F9VB146GM-d6bc7d0eb1\/image_800.png?t=xoxe-2458848645-343586471015-342305248436-7b33f258deefd71ebc0e029ead8a362f",
            "thumb_800_w": 800,
            "thumb_800_h": 466,
            "image_exif_rotation": 1,
            "original_w": 819,
            "original_h": 477,
            "permalink": "https:\/\/rackn.slack.com\/files\/U9R87AWKE\/F9VB146GM\/image.png",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F9VB146GM-c71e50c6ce",
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U9R87AWKE",
        "upload": true,
        "display_as_bot": false,
        "username": "gary.berger",
        "bot_id": null,
        "ts": "1521826310.000496"
    },
    {
        "type": "message",
        "user": "U9R87AWKE",
        "text": "<@U6QFVRJNB> note that it works with `stable`",
        "ts": "1521826332.000700"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "Port mappings you need in to the container are 67, 69, 8091, and 8092",
        "ts": "1521826347.000312"
    },
    {
        "type": "message",
        "user": "U9R87AWKE",
        "text": "Like I said, all of that is in place and works with `stable`",
        "ts": "1521826408.000071"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "can you plz provide the process listing of the `dr-provision` service in the container",
        "ts": "1521826434.000730"
    },
    {
        "type": "message",
        "user": "U9R87AWKE",
        "text": "not at the moment <@U6QFVRJNB> will try and circle back to debug it after I finish my automation..",
        "ts": "1521826471.000007"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "ok - let me know what version of \"latest\" you have - I'll see if I can replicate",
        "ts": "1521826513.000354"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "`drpcli info get | jq '.version'`",
        "ts": "1521826589.000691"
    },
    {
        "type": "message",
        "user": "U9R87AWKE",
        "text": "right now I am using `\"v3.7.3-0-5b1774b63a9abce5c7ae43d5dbd901b7b1439c68\"`",
        "ts": "1521826671.000690"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "ok - I'll give it a test - but v3.7.3 is Stable ... (production release)",
        "ts": "1521826702.000174"
    },
    {
        "user": "U9V8B7268",
        "text": "<@U9V8B7268> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1521833919.000419"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<!here> - here is a teaser video of the RackN (commercial) Immutable Image deployment capabilities - including the ability to use DRP to author a Gold Image, and then use that Gold Image to deploy to 20 bare metal nodes ... We'll be working on polishing up these features over the next few weeks and some better videos...\n<https:\/\/youtu.be\/K3P9rFyZSNs>",
        "attachments": [
            {
                "service_name": "YouTube",
                "service_url": "https:\/\/www.youtube.com\/",
                "title": "Digital Rebar: Immutable Image Deployment Demo",
                "title_link": "https:\/\/youtu.be\/K3P9rFyZSNs",
                "author_name": "Shane Gibson",
                "author_link": "https:\/\/www.youtube.com\/channel\/UChVtSNcvMSUDI8t9AXc08SA",
                "thumb_url": "https:\/\/i.ytimg.com\/vi\/K3P9rFyZSNs\/hqdefault.jpg",
                "thumb_width": 480,
                "thumb_height": 360,
                "fallback": "YouTube Video: Digital Rebar: Immutable Image Deployment Demo",
                "video_html": "<iframe width=\"400\" height=\"225\" src=\"https:\/\/www.youtube.com\/embed\/K3P9rFyZSNs?feature=oembed&autoplay=1&iv_load_policy=3\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen><\/iframe>",
                "video_html_width": 400,
                "video_html_height": 225,
                "from_url": "https:\/\/youtu.be\/K3P9rFyZSNs",
                "service_icon": "https:\/\/a.slack-edge.com\/2089\/img\/unfurl_icons\/youtube.png",
                "id": 1
            }
        ],
        "ts": "1521840211.000509",
        "reactions": [
            {
                "name": "face_with_cowboy_hat",
                "users": [
                    "U02DHRR2L"
                ],
                "count": 1
            },
            {
                "name": "100",
                "users": [
                    "U9R87AWKE"
                ],
                "count": 1
            },
            {
                "name": "+1",
                "users": [
                    "U8RFVLLG1"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "That approach could archive machines for later use or migration to new locations too.",
        "client_msg_id": "7227609a-cb21-4331-8bf2-5888947bbccd",
        "ts": "1521858752.000030"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "docs about WIP workflow top level model <https:\/\/github.com\/digitalrebar\/provision\/blob\/d80f7b6bbacc7d7dc05dff09731e5d1de0deecf0\/doc\/arch\/workflow.rst>",
        "edited": {
            "user": "U02DHRR2L",
            "ts": "1521862884.000000"
        },
        "ts": "1521862881.000059"
    },
    {
        "type": "message",
        "user": "U9V58722G",
        "text": "Thank you!",
        "attachments": [
            {
                "fallback": "[March 23rd, 2018 6:25 PM] spector: <@U9V58722G> $Welcome",
                "ts": "1521825923.000774",
                "author_id": "U32PZNCP5",
                "author_subname": "Stephen Spector",
                "channel_id": "C02L9P26Q",
                "channel_name": "community",
                "is_msg_unfurl": true,
                "text": "<@U9V58722G> $Welcome",
                "author_name": "Stephen Spector",
                "author_link": "https:\/\/rackn.slack.com\/team\/U32PZNCP5",
                "author_icon": "https:\/\/avatars.slack-edge.com\/2016-11-15\/104181243072_307b971367a7363128bf_48.jpg",
                "mrkdwn_in": [
                    "text"
                ],
                "color": "D0D0D0",
                "from_url": "https:\/\/rackn.slack.com\/archives\/C02L9P26Q\/p1521825923000774",
                "is_share": true,
                "footer": "Posted in #community"
            }
        ],
        "ts": "1521871617.000031"
    }
]