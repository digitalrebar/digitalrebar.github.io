<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:12</div><div class="msg">Hello, how can I run the vagrant/compose setup with DHCP? </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:27</div><div class="msg">vagrant as the admin or nodes?  I could never figure out how to make the vagrant respect DHCP boot</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:28</div><div class="msg">@chilicat what are you trying to do w/ Vagrant?  We don't use it that much</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:28</div><div class="msg">not sure what you mean with admin or nodes...  DR runs on the base node as docker container</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:28</div><div class="msg">are you running the base via Vagrant?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:28</div><div class="msg">yes</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:29</div><div class="msg">(btw: your admin password issue may just be complexity requirements - the password must be alpha and numeric)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:29</div><div class="msg">yes the password must be "non-simple" just wanted to report that the ui doesn't seem to tell you :)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:30</div><div class="msg">ah, will add some guideance</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:30</div><div class="msg">I could never find a way for a Vagrant node to DHCP boot - it seems like there's a very strong assumption that you start with a working image.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:31</div><div class="msg">so, you'd have to mix and match VirtualBox VMs &amp; Vagrant to simulate boot.  In that case, I'd recommend using 100% virtual box.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:31</div><div class="msg">in vagrant there is a docker setup - maybe my question is not vagrant specific. I want to add the dhcp service to my setup (its off by default)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:31</div><div class="msg">do I use ./init_files.sh ?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:31</div><div class="msg">if you use run-in-server.sh then add --con-dhcp --con-provisioner</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:33</div><div class="msg">the recommended approach is to rerun run-in-server with the added commands and it will update the configs.  </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:33</div><div class="msg">I will try that. </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:33</div><div class="msg">does it also use the docker compose files? or is that a different setup?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:33</div><div class="msg">digitalrebar/deploy/compose</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:35</div><div class="msg">run-in-system runs the Ansible digitalrebar.yml file</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:35</div><div class="msg">that file then runs the command: "./setup.sh --tag {{ dr_tag }} {{ dr_workloads | default([]) | join(" ") }}" to correctly configure docker-compose config
</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:36</div><div class="msg">then rebar runs with docker-compose -up</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:36</div><div class="msg">obviously, there's a lot of other setup steps, but that's the key elements of the DR config</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:37</div><div class="msg">I see, yea it all runs to the setup.sh. I try my luc</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:37</div><div class="msg">thanks</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:37</div><div class="msg">So, YES.  Everything ultimately runs to docker-compose.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:38</div><div class="msg">even the core/tools/docker-admin.sh scripts are doing the same thing.  They just assume that you've already got the pre-reqs.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:39</div><div class="msg">we</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:40</div><div class="msg">if all you need is DHCP/Provision.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:40</div><div class="msg">preview github.com/rackn/rocket-skates</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:41</div><div class="msg">I also need the deployment mechanisms put  a slim DHCP/PXE/TFTP in go sounds good</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:42</div><div class="msg">is there any content management for DR?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:46</div><div class="msg">We use deployments to manage parallel application deployments and then track the state of them using the roles system.   Not exactly what I'd consider content management.  Do you have a specific use case or platform in mind?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:48</div><div class="msg">In a on-premise deployment we must deliver all our software packages (rpm, zip, docker containers, isos). I was just wondering if there was something where you manage the content and associate content with a deployment.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:48</div><div class="msg">I little like Katello </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:49</div><div class="msg">Ok was able to add the dhcp service... vagrant uses quickstart.sh which also accepts the parameter you gave me.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:50</div><div class="msg">glad the vagrant is working!  it's been a while since I was testing it</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:50</div><div class="msg">I had some issue with the swapfile... I was switching back to a older ubuntu - but else it works</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:51</div><div class="msg">got it, there are a few ways to handle that, yes.   we've done  "air gap" deploys where there's no external connectivity.  Your request is a variant.  takes some twiddling.  @galthaus would be a better person to answer.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:51</div><div class="msg">I saw the issue, thanks for opening it - that helps me know what to check'</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:53</div><div class="msg">since you can add your own roles, you could just inject a few bash or ansible commands that would pre/set the environment.  also, the proxy &amp; mirrors are configurable so you can point those to internal resources</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:53</div><div class="msg">One more question, is it possible to use DR when you have absolutly no control over DNS and DHCP. I know the functionality is very limited in this case but it would be still possible to deploy software on existing machines,</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:55</div><div class="msg">100% yes.  that's pretty normal scenario.  We would just need forward or next boot configured for DHCP (e.g.: we work w/ infoblox).  For DNS, that's configurable too.  Can an own, delegate, drive or ignore DNS.  Pretty flexible about that.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:57</div><div class="msg">this is old, but mostly right &gt; http://digital-rebar.readthedocs.io/en/latest/deployment/old/external-services.html?highlight=dns</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:58</div><div class="msg">I found an out of date page about DHCP that I'll fix.  please disregard &gt; http://digital-rebar.readthedocs.io/en/latest/faq/dedicated_dhcp.html?highlight=dhcp</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:58</div><div class="msg">thanks. </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:58</div><div class="msg">call my vms pxe request works... just TFTP times out :)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:59</div><div class="msg">ah... that's sadly common.  TFTP and Docker port mapping are not friends.  </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-01 23:59</div><div class="msg">that's a primary reason why we're doing Rocket Skates as a stand alone binary</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 00:00</div><div class="msg">the last line is: "TFTP..." </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 00:00</div><div class="msg">maybe it is doing something?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 00:00</div><div class="msg">it's going to be inconsistent because the TFTP ports are being assigned into ranges that Docker is unhappy about</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 00:00</div><div class="msg">if you scroll back in this chat history, you'll see dicussions about this.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 00:02</div><div class="msg">which container has the TFTP server?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 00:03</div><div class="msg">provisioner?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 00:03</div><div class="msg">yes</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 00:05</div><div class="msg">sorry, gtr...  the TFTP discussion from earlier was on 2/16 w/ mech422 and @galthaus </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 00:07</div><div class="msg">but dns is also in a the low range... that is not a problem for docker?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-02 01:08</div><div class="msg">It is really a protocol problem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-02 01:09</div><div class="msg">Make sure you have tftp nat modules loaded into your kernel.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 01:20</div><div class="msg">I guess that would be "modprobe nf_nat_tftp"</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 01:20</div><div class="msg">have to try that tomorrow.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 01:20</div><div class="msg">thanks for your heklp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-02 01:20</div><div class="msg">yeah</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-02 03:46</div><div class="msg">Figured out what the problem was. The vagrant box has two interfaces where the eth1 is in the shared network. But "Next Server" option is set to the ip address of the eth0. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-02 13:23</div><div class="msg">Awesome </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-03 17:42</div><div class="msg">What would y'all use for a bunch of metal other than OpenStack?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-04 00:42</div><div class="msg">Kubernetes</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-04 00:43</div><div class="msg">Or just Ansible if you had a app already</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-04 15:02</div><div class="msg">I mean to provide VMs.  I need a whole bunch of discrete network stacks to prove out architectures.  Can kvm-slave.sh work across metal?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-04 15:06</div><div class="msg">currently - no.  Do the VM sets need to have isolated networks?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-04 15:27</div><div class="msg">Nope. </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-04 15:27</div><div class="msg">A "nice to have" option.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-04 15:28</div><div class="msg">hmm - okay - I don't have a good option for any answer currently.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-04 15:30</div><div class="msg">One is to do the k8s/flat hack.  Take a set of machines, run docker on them with sub ranges and a super net.  Than use tools/kvm-slave to start vms on that docker bridge, but that is ugly and fraught with peril.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-04-04 16:12</div><div class="msg">there was one request that would treat each node as a dedicated cloud (and this isolated).  You could use Rebar to build a node islands that would then be isolated.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-04-04 16:13</div><div class="msg">cross node networking is always intersting - that's why SDN layers get involved</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-06 20:05</div><div class="msg">"interesting" as in, omg, encapsulation. :)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 02:38</div><div class="msg">Is this no longer kosher?  How to get more detailed debug info?

rebar --debug nodes create '{"name"; "os1.newgoliath.com", "bootenv": "local"}'
2017/04/06 22:36:01 Talking to Rebar with https://127.0.0.1 (rebar:reebaar)
2017/04/06 22:36:01 Unable to create new node: Expected status in the 200 range, got 400 Bad Request</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 02:42</div><div class="msg">Rebar nodes update name json</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 02:42</div><div class="msg">Assuming os1 exists</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 02:43</div><div class="msg">fresh install. no nodes</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 02:44</div><div class="msg">rebar whoami
2017/04/06 22:37:44 Cannot determine what node this is: Expected status in the 200 range, got 404 Not Found</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 02:45</div><div class="msg">just he phantom</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 02:46</div><div class="msg">hostname -f
os1.newgoliath.com</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 02:48</div><div class="msg">duh, I see it.   semicolon</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 02:51</div><div class="msg">Thank you, Greg!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 02:52</div><div class="msg">:slightly_smiling_face: no problem, Judd!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 02:52</div><div class="msg">Glad to see you back hanging around</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 02:53</div><div class="msg">I've gotta do SOMETHING with all this gear I have laying around.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 02:53</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 14:43</div><div class="msg">By default there's a router defined at 192.168.124.11, but I don't see any interfaces with that address.  Can I ignore?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 14:59</div><div class="msg">That is the Forwarder container's IP on the docker bridge.  It allows you to use the tools/kvm-slave script.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:00</div><div class="msg">In forwarder mode, you can bridge a second interface into the docker bridge to use the 124 network with external hosts.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:01</div><div class="msg">You could reinstall with HOST mode (--access HOST)  That will use the machine host networking for accessing out to machines.  You would then create an admin network for what you already have with the external routers.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:02</div><div class="msg">what I already have?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:07</div><div class="msg">I suspect that you took the defaults which is FORWARDER mode.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:08</div><div class="msg">We are right now contemplating getting rid of this confusion, but that isn't ready yet.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:09</div><div class="msg">That's correct.  I'm trying to plan a new install.  I have 4 R410s.  They have 2 nics, publically routable.  I'm considering running one as the Rebar admin + whatever workloads.  Is that doable?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:09</div><div class="msg">Or is there a happier path?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:10</div><div class="msg">Well, 1 nic on each is publically routed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:10</div><div class="msg">Yes - You probably want HOST mode with the internal nic as your internal pxe network.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:11</div><div class="msg">Seems like it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:11</div><div class="msg">You want to set the external IP to your node's intenral IP.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:11</div><div class="msg">Just a second - Let me find an example.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:12</div><div class="msg">```curl -fsSL <a href="https://raw.githubusercontent.com/digitalrebar/digitalrebar/master/deploy/quickstart.sh">https://raw.githubusercontent.com/digitalrebar/digitalrebar/master/deploy/quickstart.sh</a> | bash -s -- --con-provisioner --con-dhcp --admin-ip=1.1.2.3/24 --access=HOST```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:12</div><div class="msg">Make 1.1.2.3/24 the CIDR IP form of your internal network.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:13</div><div class="msg">The API/UI will listen on all  by default interfaces so you can have external inet access.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:13</div><div class="msg">That is the quickstart form.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:13</div><div class="msg">I tried to get all fancy, and confused myself.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:13</div><div class="msg">off to try the quickstart.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:13</div><div class="msg">See what happens . :slightly_smiling_face: I'll be here</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:13</div><div class="msg">&lt;3</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:14</div><div class="msg">I love the working name "Rocket Skates," btw.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:14</div><div class="msg">Very Wile E. Coyote.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:15</div><div class="msg">That is Victor.  I just renamed it last night to be more aligned.  :disappointed:  still hidden in places though</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:34</div><div class="msg">If all my hosts already have public and private networks, then DHCP is for networks that DR will create?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:35</div><div class="msg">--con-dhcp ^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:35</div><div class="msg">well - in this case, more thought is required.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:35</div><div class="msg">To provision the machines, you would need to PXE somehow.  Is there a DHCP server already on the internal net.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:36</div><div class="msg">None that I cant switch off.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:36</div><div class="msg">Nope, none.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:36</div><div class="msg">Do the machines PXE on that net?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:36</div><div class="msg">Nope.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:36</div><div class="msg">hmm</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:37</div><div class="msg">I already have them all setup with Centos7, networked, all manual.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:37</div><div class="msg">Well, I setup pxe for a little bit, but shut it all down.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:37</div><div class="msg">Soooo - you could set up like a cloud</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:38</div><div class="msg">They're fat boxes.  Lots of cores, ram, disk.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:38</div><div class="msg">Yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:39</div><div class="msg">Ok- so if you look at deploy/add-from-ssh.sh</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:40</div><div class="msg">yes</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:40</div><div class="msg">I've read through it all.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:41</div><div class="msg">okay the scripts/join_rebar.sh has what you want to do, but it hasn't been used for a while.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:41</div><div class="msg">so it is stale.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:42</div><div class="msg">I see.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:42</div><div class="msg">A freshening would be work.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:42</div><div class="msg">First obvious thing is remove :3000 from everything.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:43</div><div class="msg">Oy, it assumes rebar1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:43</div><div class="msg">well - yeah.  -- sorry.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:44</div><div class="msg">:shipit: </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:44</div><div class="msg">the quickstart was upset that my internal network is 192.168.1.0  it really wants 99</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:45</div><div class="msg">yeah - though it turns out you don't need it because you don't need DHCP</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:46</div><div class="msg">What's the "passed in IP?"  the node to be added?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:47</div><div class="msg">The IP of the machine itself.  This is for multihomed hosts or cloud hosts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:47</div><div class="msg">cloud hosts don't know their public ips in all cases, but need to be registered with it.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:47</div><div class="msg">Ah, where the proper IP cannot be assumed.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:48</div><div class="msg">behind, NAT</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:48</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:48</div><div class="msg">or for AWS they don't know their public ip, but it is the only path in.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:49</div><div class="msg">Sure.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:49</div><div class="msg">I killed all the containers and re-ran the quickstart.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:49</div><div class="msg">Now it's upset that I changed code in the repo. :-)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:50</div><div class="msg">holy cow, SMB is installed?!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:51</div><div class="msg">windows install support.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:51</div><div class="msg">Seems kinda the wrong thing to expose on every interface by default.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 15:52</div><div class="msg">probably a good request.  We are mostly ending up at most places a single interface box that handles this stuff with forwarders to it.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:52</div><div class="msg">understood</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 15:52</div><div class="msg">I'll roll with it for now. :-)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 16:03</div><div class="msg">running ./join_rebar.sh 192.168.1.10  192.168.1.10   fails</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-07 16:03</div><div class="msg">I wanna add the admin node as a workload destination.  But it seems like a dumb idea, because rebar's taking up so many ports.  Should prolly be a VM.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-07 16:04</div><div class="msg">yeah</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-08 12:42</div><div class="msg">I'm trying to make a nice VM for dainty little rebar, but I'm having trouble routing out from the VM.  HALP, my head is getting bloody from banging:  http://stackoverflow.com/questions/43294216/bridged-libvirt-vms-cannot-route-out</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-08 14:21</div><div class="msg">Nevermind - seems like I do need the NAT.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-09 21:41</div><div class="msg">If I don't see and DHCP subnets in my GUI, did install fail or something?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-09 22:01</div><div class="msg">how do I run the role to install raid-tools?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-09 22:05</div><div class="msg">Oh, nevermind. :-)  I guess I need some nodes first.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-09 22:58</div><div class="msg">The hint at the quickstart should probably say if my_key.key should be the public or private key.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-09 22:59</div><div class="msg">If I mkdir -p the director path to the keyfile to pre-seed, then quickstart fails on "directory detected"</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-09 23:16</div><div class="msg">during install, rule-engine:master goes up and down a lot... expected?
a793838d8e11        digitalrebar/rule-engine:master      "/sbin/docker-entr..."   2 minutes ago       Restarting (1) 12 seconds ago
                                    compose_rule-engine_1
</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 01:35</div><div class="msg">:-)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 01:36</div><div class="msg">I've got VMs and Metal all booting off my Rebar on a VM. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-10 02:08</div><div class="msg">Nice!</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:09</div><div class="msg">Yes, happy dance.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:10</div><div class="msg">But I don't have any BMC ports on my metal plugged in.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:10</div><div class="msg">no ipmi.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:10</div><div class="msg">Will rebar fail over to logging into sledgehammer and rebooting?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-10 02:15</div><div class="msg">Hmmm - I'm not sure.  I think it will attempt to talk.  Did you create a BMC network?  It may not because there isn't a network to use.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:27</div><div class="msg">Good work @newgoliath !</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:29</div><div class="msg">Thanks, @zehicle .</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:30</div><div class="msg">@galthaus - I didn't create a BMC network.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:36</div><div class="msg">doing an 'Install OS' just gives a false positive in the Deployment.  Sledgehammer never reboots.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:37</div><div class="msg">does it think the machine if off?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:37</div><div class="msg">nope</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:38</div><div class="msg">On ready</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:38</div><div class="msg">I suspect it's trying to use the BMC to reboot and fails.  so it knows the machine is not off</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:39</div><div class="msg">I'm not sure where hammer errors would get surfaced.   I suspect if you try to power off from the UX or API then you'll get an error message</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:40</div><div class="msg">the reinstall combines a few steps together.  it's possbile that we're eating the error </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:43</div><div class="msg">No response to a "cycle" click.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:45</div><div class="msg">rebooting the sledgehammer via ssh</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:46</div><div class="msg">I've got a serial console on it, watching it boot.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:46</div><div class="msg">for your configuration you may need to manually set the nodes to use the SSH hammer.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:47</div><div class="msg">or mess w/ the hardware profiles so that they do not recognize your gear as a known type</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:52</div><div class="msg">too bad sledgehammer doesn't send output to the serial console by default.  I'd love to watch it boot.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:55</div><div class="msg">rebooting sledgehammer via ssh returns the node up, but no ssh.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:56</div><div class="msg">there's interaction between the provisioner &amp; hammer so that it knows that you've started a reboot cyckle</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:56</div><div class="msg">unless nextboot changes, you'll keep going back to sledgehammer</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:57</div><div class="msg">sledgehammer is up - but ssh port is closed.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 02:57</div><div class="msg">host pings ok</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 03:00</div><div class="msg">If I destroy the deployment and send it back to system, you think it will open up ssh?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 03:00</div><div class="msg">I have no idea - very strange for the image to have ssh</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 03:01</div><div class="msg">It's always reaching back to rebar for instructions, right?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 03:15</div><div class="msg">@zehicle how do I change to the SSH hammer?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 03:16</div><div class="msg">I think you can nodes update X set {"hammer":"ssh"} or similar.... checking</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 03:22</div><div class="msg">@zehicle interestingly, it's got "quirks ipmi-dell-dedicated-nic and ipmi-nodelay"</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 03:29</div><div class="msg">hammer is not an attrib.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 04:17</div><div class="msg">sorry, it's actually a subtype nodes/#/hammers</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 04:17</div><div class="msg">or just api/v2/hammers</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 04:17</div><div class="msg">I think you can delete the offending hammer(s)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 04:18</div><div class="msg">leave SSH in place (assuming it's there) - @VictorLowther will have better suggestions</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 04:19</div><div class="msg">I seem to have changed it, because there's a whole new complaint:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-10 04:20</div><div class="msg">rebar-access role:  RuntimeError: Did not create remote_tmpdir on da4-ba-db-3e-93-ac.local.neode.org for some reason! (ssh: connect to host 192.168.1.110 port 22: Connection refused
) </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-04-10 04:22</div><div class="msg">could be a template generation problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-04-10 04:23</div><div class="msg">from the provisioner - these things are all connected together</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-11 17:46</div><div class="msg">All, we've got the Digital Rebar Provision code ready for community feedback!  We'd love for you all to take a look and give it a try.  It's just DHCP/PXE intended as a cobbler replacement that will be the v3 DR provisioner.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-11 17:46</div><div class="msg">https://robhirschfeld.com/2017/04/11/provision-preview/</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-12 22:06</div><div class="msg">Hey @zehicle - what needs to be done with Provision to get it to use an outboard DHCP server? Same stuff as Cobbler (set relevant next host etc?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-12 22:30</div><div class="msg">Yes - You need to have your DHCP point to the IP of provision as the next server.  Specify option 67 as lpxelinux.0 (bootfile)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-12 22:31</div><div class="msg">You cna then use --disable-dhcp on the command line when you run dr-provision</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-12 23:09</div><div class="msg">http://digital-rebar.readthedocs.io/en/latest/deployment/old/external-services.html ctrl+f pxelinux</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-12 23:09</div><div class="msg">Should that be lpxelinux.0?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-12 23:10</div><div class="msg">since I don't see pxelinux.0 in `./.cache/digitalrebar/tftpboot/` and nothing in digitalrebar/digitalrebar that indicates it's used</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-12 23:11</div><div class="msg">I do notice that discovery is just a symlink to its parent directory though, does it matter if it's specified in the dhcp server's config?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-12 23:16</div><div class="msg">difference between dr-provision and digitalrebar.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-12 23:17</div><div class="msg">dr-provision's tftpboot directory has it all in the top directory.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-12 23:18</div><div class="msg">those are the digitalrebar docs aren't they? I'm using digitalrebar/digitalrebar, not digitalrebar/provision</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-12 23:19</div><div class="msg">Sorry - Thought you were referring to @wdennis above.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-12 23:20</div><div class="msg">@Iae - it does not matter, I think.  They both reference the same layout.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-12 23:20</div><div class="msg">The main thing is that lpxelinux.0 can get to the pxelinux.cfg/default file or appropriate per node config files</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-12 23:21</div><div class="msg">ok, but lpxelinux.0 has to be specified in the dhcp server config and not pxelinux.0</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-12 23:29</div><div class="msg">Yes - the DHCP server needs to have the EXTERNAL_IP of DigitalRebar as the next server in the DHCP response and option 67 (bootfile) needs to be lpxelinux.0 (for legacy BIOS boots).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-12 23:30</div><div class="msg">The digitalrebar dhcp server and dr-provision use go template expansion to inspect the incoming packet to determine what file should be sent.  This can be seen in the UI if you configure an admin network.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-12 23:30</div><div class="msg">Anyway, dinner and soccer for a few hours.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 16:41</div><div class="msg">So, looking to trial Provision on the same server that I have full DR running on -- I've downed DR by running 'docker-compose stop' in the deploy/compose dir - that's all that's needed to bring DR down, correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:46</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 16:50</div><div class="msg">Cool. Now I can curlbash the Provision into the  same 'digitalrebar' directory, or should I use another dir above that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:51</div><div class="msg">different dir</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:52</div><div class="msg">use the --isolated flag.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:52</div><div class="msg">it will keep everything in that directory for now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 16:52</div><div class="msg">Cool, thx</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:53</div><div class="msg">np</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 16:55</div><div class="msg">Getting a 'No package p7zip-full available' error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:55</div><div class="msg">what OS?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 16:55</div><div class="msg">This on CentOS 7.x</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:55</div><div class="msg">try: yum install -y p7zip</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 16:56</div><div class="msg">Yup, that worked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:56</div><div class="msg">sigh - it is p7zip-full on ubuntu/debian</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:56</div><div class="msg">just p7zip on centos</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:56</div><div class="msg">fixing now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 16:57</div><div class="msg">Love this differing pkg names across distros thing :-/</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:58</div><div class="msg">yeah- I did a replace and was too aggressive.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:59</div><div class="msg">in about 15 minutes, all the packages and tree will be updated.  It will work.  Since you already have it installed now, it should be fine to continue.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 16:59</div><div class="msg">How to continue?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:59</div><div class="msg">Rerun</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 16:59</div><div class="msg">Ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:59</div><div class="msg">It tests for the package and skips if already there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 16:59</div><div class="msg">the binary that is.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:04</div><div class="msg">Is the '--data-root=' line in readthedocs QuickStart incorrect now?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:05</div><div class="msg">It should be.  The install script should have kicked out an example.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:05</div><div class="msg">References "discovery-load.sh" instead of "digitalrebar"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:05</div><div class="msg">Line right above it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:06</div><div class="msg">It did, and I went with the outputted example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:06</div><div class="msg">okay so is it running? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:06</div><div class="msg">export RS_KEY=rocketskates:r0cketsk8ts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:06</div><div class="msg">./drpcli users list</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:07</div><div class="msg">./drcpli prefs list</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:07</div><div class="msg">Yes running</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:07</div><div class="msg">Should be able to do:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:07</div><div class="msg">in browser</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:08</div><div class="msg">https://&lt;ip&gt;:8092/ui/?token=rocketskates:r0cketsk8ts</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:08</div><div class="msg">Yup dricli cmds work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:08</div><div class="msg">*drpcli</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:08</div><div class="msg">then run: tools/discovery-load.sh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:09</div><div class="msg">That will put the pieces in place to do discovery.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:09</div><div class="msg">Cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:09</div><div class="msg">Did the browser thingee work?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:10</div><div class="msg">Hold on, let me try</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:12</div><div class="msg">No, URL not working</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:13</div><div class="msg">I do see ports 8091/8092 listening on server </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:13</div><div class="msg">https://&lt;ip&gt;:8092/swagger-ui</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:14</div><div class="msg">Nope</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:15</div><div class="msg">Firewall maybe? Will nmap DR server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:15</div><div class="msg">Yup, only SSH port open...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:16</div><div class="msg">okay -  are these local firewall rules on your box?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:16</div><div class="msg">Err - dr server?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:17</div><div class="msg">Yup - firewalld </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:17</div><div class="msg">okay - Note to self update docs to talk about open port reqs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:17</div><div class="msg">I indirectly list them in the docs, but ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:17</div><div class="msg">Stopped that, will try again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:18</div><div class="msg">you will need to open ports, udp 67, udp 69, tcp 8091, tcp 8092</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:18</div><div class="msg">The last two are configurable (well all are configurable, but tftp and dhcp WIGGGGG OUTTTTT if you change then from 69 and 67 respectively).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:19</div><div class="msg">Ok, tried swagger, got UI but error on screen "Can't read from server. It may not have the appropriate access-control-origin settings."</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:19</div><div class="msg">sigh - need to adjust that.  The text box has a URL it defaults to localhost or something like.  Put the IP of the Host in that field instead.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:20</div><div class="msg">Regular (?) UI page working</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:20</div><div class="msg">be sure to add ?token=rocketskates:r0cketsk8ts</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:21</div><div class="msg">Ok, in</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:21</div><div class="msg">There should have been a little dialog for you to enter your username/password or token.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:21</div><div class="msg">It is small.  This is working in progress.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:22</div><div class="msg">Do I have to declare a subnet if not doing DHCP thru Provision?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:22</div><div class="msg">oh -- yeah.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:22</div><div class="msg">you should be okay.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:22</div><div class="msg">Make sure preferences are set to sledgehammer for default and discovery for unknown.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:22</div><div class="msg">So, don't have to, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:23</div><div class="msg">correct.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:23</div><div class="msg">You need to have next server point to your IP and bootfile should be lpxelinux.0</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:23</div><div class="msg">Yup, SH in defaultBootEnv</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:24</div><div class="msg">in the bootenvs section discovery, local, and sledgehammer should be available.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:24</div><div class="msg">Let me mod my routers DHCP settings</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:24</div><div class="msg">Does your DHCP server respond with DNS settings like Domain Name and DNS server?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:25</div><div class="msg">Nothing in 'local' showing...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:25</div><div class="msg">Yeah - it should be just available.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:26</div><div class="msg">Yes, DHCP server does provide those (it's a pfSense box.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:26</div><div class="msg">okay - then you are even betterer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:26</div><div class="msg">Another note to self - document external DHCP server case.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:26</div><div class="msg">We need DNS domain name when we make up a name.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:30</div><div class="msg">so - I'm walking you through discovery, but you can also add machine directly as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:30</div><div class="msg">If you know that a machine is coming in as an IP.  You can create a machine by IP and tell it the bootenv to run when contacted.  That works as well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:32</div><div class="msg">Ok, time to boot some bare metal and see what happens :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:33</div><div class="msg">okay then  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:33</div><div class="msg">When sledgehammer runs, where does it store the discovery info?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:34</div><div class="msg">Okay - so dr-provision is much slimmer.  Its purpose is just provisioning and installing OS.  It is not meant to inventory and so forth.  That is the next step in our integration path.  Provision will hook into DigitalRebar for that path.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:35</div><div class="msg">It will create a machine in dr-provision, but it won't have the full inventory data like DR does.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:35</div><div class="msg">Ah, I see</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:37</div><div class="msg">So am waiting on PXE boot now... Dell PE R510 boot is sloooooow</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-13 17:37</div><div class="msg">Time to feed the :bear:!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:39</div><div class="msg">Loading sledgehammer/.... :)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:40</div><div class="msg">Hmmm... failed on loading second-stage initramfs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:41</div><div class="msg">wget: can't connect to remote host (IP): connection refused</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:41</div><div class="msg">Does it say what ip?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:41</div><div class="msg">Also need another param</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:42</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F4Z1WQDA8/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F4Z1WQDA8/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:42</div><div class="msg">Did you start drprovison with static ip param</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:43</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:43</div><div class="msg">Is 1.148 the drop</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:43</div><div class="msg">Yes, that's the Provision svr </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:44</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:44</div><div class="msg">why :80?  hmm</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:45</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F4Z3FSHGD/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F4Z3FSHGD/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:48</div><div class="msg">okay in can you cat the tftpboot/pxelinux.cfg/default file</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:50</div><div class="msg">Does not exist</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:50</div><div class="msg">okay - we should have default.  That is what is being strange, I think.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:51</div><div class="msg">looking at it now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:51</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F4ZLZFH54/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F4ZLZFH54/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:52</div><div class="msg">yeah - I recreated it here.  I guess we just broke something.  Recently - More unit tests to add.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 17:52</div><div class="msg">Always more tests :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:57</div><div class="msg">try this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:57</div><div class="msg">./drpcli prefs set unknownBootEnv ignore</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:57</div><div class="msg">./drpcli prefs set unknownBootEnv discovery</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 17:58</div><div class="msg">See if that creates the file.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 18:00</div><div class="msg">Nope</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:00</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 18:00</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F4Z28FHCL/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F4Z28FHCL/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:18</div><div class="msg">I'm silly - it isn't rendered that way anymore .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:18</div><div class="msg">sigh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:19</div><div class="msg">curl <a href="http://127.0.0.1:8091/pxelinux.cfg/default">http://127.0.0.1:8091/pxelinux.cfg/default</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:24</div><div class="msg">It think I see the busted-ness.  We switched to inline rendering and it isn't working on a shift.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:24</div><div class="msg">We don't use the filesystem for content anymore.  Should add preview for bootenvs and templates.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:26</div><div class="msg">NOtes So far:
1. Document Port requirements for DRP
2. Document DHCP requirements when not using DRP as DHCP (option 15 (discovery), bootfile, nextserver).
3. Bug in changing unknown bootenv and rendering content.  Changed ignore to discovery and ignore is still being served.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 18:30</div><div class="msg">So, at this moment, busted &amp; cant continue?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:32</div><div class="msg">hmm - try this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:33</div><div class="msg">``` 
   ./drpcli prefs list
   ./drpcli prefs set unknownBootEnv ignore
   curl <a href="http://127.0.0.1:8091/pxelinux.cfg/default">http://127.0.0.1:8091/pxelinux.cfg/default</a>
   ./drpcli prefs list
   ./drpcli prefs set unknownBootEnv discovery
   curl <a href="http://127.0.0.1:8091/pxelinux.cfg/default">http://127.0.0.1:8091/pxelinux.cfg/default</a>```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:44</div><div class="msg">The discovery file should look like this:
```
DEFAULT discovery
PROMPT 0
TIMEOUT 10
LABEL discovery
  KERNEL sledgehammer/708de8b878e3818b1c1bb598a56de968939f9d4b/vmlinuz0
  INITRD sledgehammer/708de8b878e3818b1c1bb598a56de968939f9d4b/stage1.img
  APPEND rootflags=loop root=live:/sledgehammer.iso rootfstype=auto ro liveimg rd_NO_LUKS rd_NO_MD rd_NO_DM provisioner.web=<a href="http://127.0.0.1:8091">http://127.0.0.1:8091</a> rs.api=<a href="https://127.0.0.1:8092">https://127.0.0.1:8092</a>
  IPAPPEND 2
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 18:45</div><div class="msg">The 127.0.0.1 is because my request came from 127.0.0.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 19:00</div><div class="msg">I'm now wondering if the tftp error was an issue.  You could also make sure that your pref is discovery and reboot.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 19:00</div><div class="msg">See if we hit the tftp error again.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 19:33</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F4ZP4RLRM/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F4ZP4RLRM/image_uploaded_from_ios.jpg</a> and commented: Looks good?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 19:35</div><div class="msg">yeah if provisioner.web=<a href="http://127.0.0.1:8091">http://127.0.0.1:8091</a> on the second to last line</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 19:36</div><div class="msg">Should that not be the public IP?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 19:36</div><div class="msg">We build the reply based upon the dest IP.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 19:36</div><div class="msg">run it with your node's iP.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 19:36</div><div class="msg">curl <a href="http://node">http://node</a>'s IP:8091/pxelinux.cfg/default</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 19:37</div><div class="msg">it should pop out with a different IP.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 19:40</div><div class="msg">Node being the Provision server, or the client server?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 19:40</div><div class="msg">provisioner server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 19:41</div><div class="msg">Ok, did change the URL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 19:42</div><div class="msg">Reboot the node and look for the tftp error in the drp log</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 20:07</div><div class="msg">The PXE client boot did fail again in the same way- that was expected?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 20:29</div><div class="msg">hmm - I guess it is good, but was hoping not.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 20:34</div><div class="msg">sorry for the delay.  @wdennis - can you run a command on the system stuck in ash</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 20:34</div><div class="msg">cat /proc/cmdline</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 20:34</div><div class="msg">grep -o 'provisioner.web=[^ ]*' /proc/cmdline</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-13 20:36</div><div class="msg">Will do when I can in a bit - taking kidddo to karate :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-13 20:36</div><div class="msg">np</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 00:31</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F4ZSJ01JS/console-1.jpg">https://rackn.slack.com/files/U416T0AAX/F4ZSJ01JS/console-1.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 00:32</div><div class="msg">here you go, @greg</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 00:35</div><div class="msg">Thx. If you added /24 to the command line of drprovison please stop the server remove it and restart.  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 00:38</div><div class="msg">I did? will do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 00:42</div><div class="msg">Another thing to add to the checks on start up :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 00:46</div><div class="msg">did the curlbash output say to put ?/24? at the end of the IP, or did I just goof?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 00:46</div><div class="msg">readthedocs site does not have that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 00:59</div><div class="msg">It should not.  The readthedocs should not have it either. I bet it might have.  My bad.  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 01:03</div><div class="msg">Unfortunately, I typed in something in ash that caused it to coredump? And I don?t have remote power control on that server I was using :disappointed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 01:04</div><div class="msg">hangs head in shame</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 01:14</div><div class="msg">This look like the problematic bit in `install.sh`:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 01:14</div><div class="msg">```[dradmin@dr-admin ~]$ /sbin/ip -o -4 addr show scope global |head -1 |awk '{print $4}'
192.168.1.148/24```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:14</div><div class="msg">Yeah I lifted to much code. Argh.  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 01:15</div><div class="msg">That?s why the community needs to test :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:16</div><div class="msg">Well thanks and sorry. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 01:16</div><div class="msg">np</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 01:17</div><div class="msg">Unfortunately unless I run into work (~15 min drive) the game?s over until Mon? We?ll see what the wife thinks?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 01:18</div><div class="msg">There?s a bit of other work (wiring work) I could stand to do there?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:18</div><div class="msg">I'm in no hurry.  Marital harmony is important.   </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 01:19</div><div class="msg">yes it is :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 01:20</div><div class="msg">So may I ask what?s involved with installing a distro image and doing kickstart/preeseed?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:20</div><div class="msg">Cd assets </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:21</div><div class="msg">Drpcli bootenvs install bootenvs/ubuntu16.04.yml </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:21</div><div class="msg">Wait awhile </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:22</div><div class="msg">Then change machines bootenv to Ubuntu.    And then reboot node </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:22</div><div class="msg">Wait Awhile. When machine bootenv goes to local done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:22</div><div class="msg">The yemplates and bootenvs work mostly like DR </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:23</div><div class="msg">Please forgive phone typing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 01:24</div><div class="msg">Examples in assets dir</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 13:46</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F4YLHN82C/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F4YLHN82C/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 13:47</div><div class="msg">And I see the machine in the UI</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 13:50</div><div class="msg">API Help links in the UI are broken...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 13:52</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F4ZEJ0FT7/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F4ZEJ0FT7/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 13:54</div><div class="msg">Yeah!!!!!</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 13:55</div><div class="msg">I'll fix those links!  Thanks.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:14</div><div class="msg">Now into the Ubuntu 16.04 install...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:19</div><div class="msg">Looks like we have a successful installation :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:19</div><div class="msg">Nice!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:20</div><div class="msg">When the machine boots post-install, does it communicate back to Provision and set BootEnv to be 'local'?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:20</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:21</div><div class="msg">no - local is set as last step of install in ks or preseed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:21</div><div class="msg">ignore the yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:22</div><div class="msg">Yup, I see local now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:23</div><div class="msg">Cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:23</div><div class="msg">I think for ubuntu - rocketskates/r0cketsk8ts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:23</div><div class="msg">default login.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:23</div><div class="msg">Not the 'rebar' one?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:24</div><div class="msg">I think I changed it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:24</div><div class="msg">You can change it by add params (either to the machine or globally).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:24</div><div class="msg">Each bootenv defines a set of parameters that can be injected.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:24</div><div class="msg">some are required and some are optional.  These are optional (with defaults).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:25</div><div class="msg">You can specify the user (for ubuntu) and the password hash.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:25</div><div class="msg">Those are next on my doc list.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:25</div><div class="msg">Where to set param's?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:25</div><div class="msg">drpcli params list</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:25</div><div class="msg">those are global (it is empty by default).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:26</div><div class="msg">drpcli machines update &lt;uuid&gt; &lt;json blob of parameters&gt;</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:26</div><div class="msg">I should make that better one day soon.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:26</div><div class="msg">Cannot seem to log in with the rocketskates user/passwd (or the rebar one)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:27</div><div class="msg">rebar/rebar1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:27</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:27</div><div class="msg">I don't remember - I'll have to check.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:28</div><div class="msg">Nope :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:28</div><div class="msg">What stupid thing did I do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:29</div><div class="msg">rocketskates is the user</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:29</div><div class="msg">rocketskates</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:30</div><div class="msg">r0cketsk8ts</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:31</div><div class="msg">Does not work...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:31</div><div class="msg">okay sigh arg</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:32</div><div class="msg">Time to fix it and put it in the docs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:37</div><div class="msg">Just a second</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:37</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F5035AVB9/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F5035AVB9/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:37</div><div class="msg">Where do I see the .Param 's used?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:39</div><div class="msg">in this case, it is unset and uses the default in the file.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:40</div><div class="msg">```./drpcli params create '{ "Name": "provisioner-default-password-hash", "Value": "$6$5trJ0SAGobo9YE1X$r31iOEokINeaYTCbtyfpCZU6wgKoK7Tr3mc7CIFl7hDPP6LNPkUveg3hB2vasE.H5IBwvW5qBK8aQz5imnp8J0" }'```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:40</div><div class="msg">That will create a new global parameter which represents r0cketsk8ts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:40</div><div class="msg">You could try: R0cketSk8ts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:41</div><div class="msg">Anyway, the parameter call will set the global.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:41</div><div class="msg">Nada</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:42</div><div class="msg">then do: drpcli machines update &lt;uuid&gt; '{ "BootEnv": "ubuntu-16.04-install" }'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:42</div><div class="msg">reboot the node and then log in when it is done.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:43</div><div class="msg">Wait</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:43</div><div class="msg">Oh that'll make the node do a reinstall?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:43</div><div class="msg">RocketSkates is the passsword</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:43</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:43</div><div class="msg">Yuuuuup :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:43</div><div class="msg">Okay - I'm gonna doc that - it was in our git commit log history.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:44</div><div class="msg">Lol</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:46</div><div class="msg">OK, this is good... Now, how to spec differing preseed templates for different nodes?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:47</div><div class="msg">We have groups that want specific disk partitioning, etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:48</div><div class="msg">YOu need custom bootenvs for each one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:48</div><div class="msg">So you would create template for each type/group - then a bootenv the refs that template.  Then set node's bootenv to that bootenv.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:49</div><div class="msg">I try to do as little as possible in kickstart/preseed, and really config node via Ansible, but disk partitioning isn't something that can. E done that way :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:49</div><div class="msg">Yep - our philosophy as well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:50</div><div class="msg">Any ideas about pulling in config blocks within templates?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:50</div><div class="msg">Well , two thoughts.  One is parameters with inject.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:50</div><div class="msg">Like you can still use the same basic template, but the disk partitioning can be a sub-template if you will...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:51</div><div class="msg">In theory, the templates can contain other templates (from a golang template spec perspective, but I don't think we've hooked that together).  So one day that way.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:51</div><div class="msg">Also would handle multi-disk setups</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:51</div><div class="msg">Today, you could build a bootenv with a big string explosion and put that as a parameter.  The parameter could then be injected by node type.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:53</div><div class="msg">Define "big string explosion" please :)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:54</div><div class="msg">I'd hate to have to make/maintain 'n' templates that are basically 90%+ same, with just minor changes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:55</div><div class="msg">give me a second</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 14:55</div><div class="msg">Cobbler has the concept of 'snippets' that are config blobs that can be put into a static template kickstart </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:56</div><div class="msg">Yeah - template in template will be the way of that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:56</div><div class="msg">We just aren't quite there yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:57</div><div class="msg">Instead you would need this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:58</div><div class="msg">Say I had this in my preseed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:58</div><div class="msg">```d-i clock-setup/ntp boolean false
{{end}}
{{if .ParamExists "operating-system-disk"}}
d-i partman-auto/disk string {{ .Param "operating-system-disk" }}
{{else}}
d-i partman-auto/disk string /dev/sda
{{end}}
d-i partman-auto/method string lvm
d-i partman-lvm/device_remove_lvm boolean true
d-i partman-lvm/device_remove_lvm_span boolean true
d-i partman-auto/purge_lvm_from_device boolean true
d-i partman-md/device_remove_md boolean true
d-i partman-lvm/confirm boolean true
d-i partman-lvm/confirm_nochanges boolean true
d-i partman-lvm/confirm_nooverwrite boolean true
d-i partman-auto-lvm/guided_size string max
d-i partman-auto-lvm/new_vg_name string {{ .Machine.ShortName }}
d-i partman-auto/choose_recipe select custom_lvm
d-i partman/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true
d-i partman/auto expert_recipe string \
    custom_lvm::  \
      500 50 1024 free $iflabel{ gpt } $reusemethod{ } method{ efi } format{ } . \
      128 50 256  ext2 $defaultignore{ } method{ format } format{ } use_filesystem{ } filesystem{ ext2 } mountpoint{ /boot } . \
      10240 20 10240 ext4 $lvmok{ } mountpoint{ / } lv_name{ root } in_vg{ {{ .Machine.ShortName }} } method{ format } format{ } use_filesystem{ } filesystem{ ext4 } . \
      50% 20 100% linux-swap $lvmok{ } lv_name{ swap } in_vg{ {{ .Machine.ShortName }} } method{ swap } format{ } .
{{if (and (eq "ubuntu" .Env.OS.Family)  (lt "12.10" .Env.OS.Version))}}
d-i live-installer/net-image string {{.Env.InstallUrl}}/install/filesystem.squashfs```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 14:58</div><div class="msg">I could replace it with this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:00</div><div class="msg">```d-i clock-setup/ntp boolean false
{{end}}
{{ .Param "my-disk-layout-string" }}
{{if (and (eq "ubuntu" .Env.OS.Family)  (lt "12.10" .Env.OS.Version))}}
d-i live-installer/net-image string {{.Env.InstallUrl}}/install/filesystem.squashfs```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:00</div><div class="msg">Then do:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:01</div><div class="msg">./drpcli params create '{ "Name": "my-disk-layout-string", "Value": "custom stuff here - no params though" }'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:01</div><div class="msg">That would be the default</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:01</div><div class="msg">Then for each machine that needed custom from default.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:02</div><div class="msg">./drpcli machines update &lt;uuid&gt; '{ "Params": { "my-disk-layout-string": "other custom form" } }'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:02</div><div class="msg">This is giving me some good ideas.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:02</div><div class="msg">for some features.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:03</div><div class="msg">make those commands easier</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:03</div><div class="msg">template in template</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:03</div><div class="msg">docs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 15:07</div><div class="msg">Totally should work on that Tmpl-in-tmpl stuff :)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 15:08</div><div class="msg">And all this work will port into future DR?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:09</div><div class="msg">Yeah - eventually, the plan is to have this replace the DHCP/Provisioner in DR with a real provider.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:09</div><div class="msg">The hope is to start with this to get moving - it should be simpler to start using and it will work on multiple sites without the back haul inet perf/bandwidth hit.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:10</div><div class="msg">Local control and all that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 15:10</div><div class="msg">It's the gateway drug for full-on DR ;)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:11</div><div class="msg">well - we dream</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 15:32</div><div class="msg">So the templates are Golang "text/template" ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:39</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:43</div><div class="msg">@wdennis - you want something like:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:44</div><div class="msg">{{ .Template (.Param "disk-template") }}</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:44</div><div class="msg">Where .Param would be a string parameter that is the name of a template to include in this template.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 15:45</div><div class="msg">Can the resulting master template be rendered to see what it will produce? (Not a Go dev...)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:45</div><div class="msg">Yeah - that was another idea that I was thinking about.  A template preview option.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:46</div><div class="msg">bootenv preview option as well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 15:46</div><div class="msg">Great idea </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 15:50</div><div class="msg">You can open issues in github for things you see as enhancements as well.  I'm doing these now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-14 15:50</div><div class="msg">Yup, will do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 16:04</div><div class="msg">okay - I think I created the ones that we talked about.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 18:57</div><div class="msg">Is there public documentation for connecting the docker dhcp container to the "Real" network so it can get and response to helper requests hitting the routable ip already? Easy as just making docker bridge in to "eth0" on the host?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:00</div><div class="msg">If you are using FORWARDER mode, yes, you can bridge the eth1 into docker0.  Then the 192.168.124.0/24 network will be served on that interface as well.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:01</div><div class="msg">Running host mode in theory. forwarder simpler?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:01</div><div class="msg">If you are using HOST mode, the DHCP server is already listening on the interfaces.  You may need to create a specific admin network for that interface.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:01</div><div class="msg">I see the host binds on the host</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:01</div><div class="msg">udp        0      0 192.168.122.1:53        0.0.0.0:_                           1400/dnsmasq    
udp        0      0 0.0.0.0:67              0.0.0.0:_                           1400/dnsmasq    </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:01</div><div class="msg">k</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:01</div><div class="msg">specifically bind it to "ens3" ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:02</div><div class="msg">Actually, you just have to create the network in the UI or CLI.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:03</div><div class="msg">with the proper ranges and it will just start listening on that interface.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:03</div><div class="msg">That may not make complete sense.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:03</div><div class="msg">What does DR consider proper ranges? maybe thats the issue</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:03</div><div class="msg">does it support dhcp-relay with "External" ranges?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:03</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:04</div><div class="msg">It will handle both.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:04</div><div class="msg">hm. the default admin-internal scope is there, I'll fix it up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:04</div><div class="msg">OR create a new one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:04</div><div class="msg">either way.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:04</div><div class="msg">make sure to get the router at the bottom of the page</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:05</div><div class="msg">Is "conduit" the key field that matters</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:05</div><div class="msg">not really clear </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:06</div><div class="msg">or enable bridge/put in ens3</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:07</div><div class="msg">conduit is an abstraction for that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:07</div><div class="msg">and it is for the client (not the server).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:07</div><div class="msg">So, it is used to force the network to a specific interface on the client.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:07</div><div class="msg">For admin, you can use the dhcp conduit.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:08</div><div class="msg">it will put the network on the interface that dhcp booted/</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:08</div><div class="msg">k</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:08</div><div class="msg">You can also specify 1g0 or 10g2 or ...  a speed and an index.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:08</div><div class="msg">1g0 = first 1g capable interface.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:11</div><div class="msg">Is there something to tickle to make the new network show up in dhcp subnets</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:12</div><div class="msg">refresh the UI. that page doesn't always reload.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:12</div><div class="msg">Also. make sure you gave the category in the network as admin.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:12</div><div class="msg">group should be something else.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:12</div><div class="msg">didn't :) changing</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:13</div><div class="msg">shows now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:13</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:14</div><div class="msg">would the dhcp container be the appropriate place to do a tcpdump</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:15</div><div class="msg">in host mode, no.  The dhcp container is a host networking container.  So the host is sufficient.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:15</div><div class="msg">you can also so the DHCP logs</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:15</div><div class="msg">yea, those are clean/quiet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:15</div><div class="msg">cd digitalrebar/deploy/compose</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:16</div><div class="msg">docker-compose logs -f dhcp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:16</div><div class="msg">okay</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:16</div><div class="msg">Looks like all api requets</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:16</div><div class="msg">requests*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:17</div><div class="msg">okay - so - we aren't seeing the DHCP requests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:17</div><div class="msg">hmm</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:17</div><div class="msg">how do I verify this is host mode</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:17</div><div class="msg">tcpdump or the log</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:17</div><div class="msg">this was my deploy cli ./run-in-system.sh --deploy-admin=local --access=host --admin-ip=10.62.7.140/26 --con-dhcp --con-provisioner</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:17</div><div class="msg">but it still sat forever on the ansible forwarder task</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:18</div><div class="msg">skipped host</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:18</div><div class="msg">host should be HOST</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:18</div><div class="msg">you are in forwarder mode.  We have silly args.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:18</div><div class="msg">case check?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:18</div><div class="msg">lol k</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:18</div><div class="msg">rerolling, that makes sense for what I'm seeing then :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:19</div><div class="msg">Yes, please.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:19</div><div class="msg">tx rob, will bbiab</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:19</div><div class="msg">really - this is Greg.  :slightly_smiling_face: our slack to gitter app bounces through rob.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:20</div><div class="msg">AH woops lol</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:20</div><div class="msg">np - all good.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:29</div><div class="msg">dhcp_1         | 2017/04/14 19:28:47 Recieved DHCP packet: type Discover xid 0x8 ciaddr 0.0.0.0 yiaddr 0.0.0.0 giaddr 10.62.0.1 chaddr 70:10:6f:bc:4f:4c much bettah</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:29</div><div class="msg">tx again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-14 19:29</div><div class="msg">cool</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 19:39</div><div class="msg">cool @crafty_house_twitter </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 22:21</div><div class="msg">newly deployed digitalrebar system, working with crafty. we are not seeing the nodes added via pxe after dhcp subnet was created. any ideas. nothing in the logs but this: </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 22:21</div><div class="msg">dhcp_1         | 2017/04/14 19:25:30 Recieved DHCP packet: type Discover xid 0xa1be8f5e ciaddr 0.0.0.0 yiaddr 0.0.0.0 giaddr 10.62.16.1 chaddr 9c:dc:71:4a:fa:c0
dhcp_1         | 2017/04/14 19:25:30 xid 0xa1be8f5e: Starting processing: 2017-04-14 19:25:30.948700271 +0000 UTC
dhcp_1         | 2017/04/14 19:25:30 xid 0xa1be8f5e: Config lock acquired: 2017-04-14 19:25:30.948703801 +0000 UTC
dhcp_1         | 2017/04/14 19:25:30 xid 0xa1be8f5e: relay from 10.62.16.1 (hops 1)
dhcp_1         | 2017/04/14 19:25:30 Discover xid 0xa1be8f5e: No subnet for leases</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-14 22:22</div><div class="msg">any ideas... </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-15 03:59</div><div class="msg">Is your admin network ranges include in 10.62.16.1?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-15 03:59</div><div class="msg">@csayler</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-15 22:11</div><div class="msg">Just try out the standalone Provision. Looks great. </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-15 22:12</div><div class="msg">I was able to pxe boot a machine, now I was wondering if the machine should appear in machines list (drpcli machines list) ?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-16 08:29</div><div class="msg">@zehicle I'm trying to test drp and i blocked, when i try to write the user and passwd. i put rocketskates:RocketSkates And nothing happens. No more login.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-16 08:44</div><div class="msg">Sorry, it works with https://&lt;ip&gt;:8092/ui/?token=rocketskates:r0cketsk8ts .merci</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-16 11:52</div><div class="msg">@chilicat - what did you boot?  Did you boot ignore? or Discovery?  If discovery, then yes.  If ignore, then no.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-16 11:52</div><div class="msg">@moula - yeah - one is for dr-provision and one is for the machines that dr-provision installs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-16 11:53</div><div class="msg">More docs to come on how to change both of those.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-16 15:43</div><div class="msg">Thanks, go it working. Is it actually possible to trigger a reboot via cli of the machine?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-16 17:11</div><div class="msg">@zehicle Thank's . </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-04-16 18:36</div><div class="msg"> @chillicat, in full DR yes.  There is a node X reboot option.   In DRP, no.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-16 20:59</div><div class="msg">@chilicat  specially from the rebar cli -&gt; "rebar nodes poweractions [node]" will give you the options</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-16 20:59</div><div class="msg">then "rebar nodes power [node] [action]" will take that action.  e.g.: reboot is the most common because it works even if we don't have OOB control.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-16 21:00</div><div class="msg">if you are looking to wipe and reconfigure the node, that's "rebar nodes redeploy [node]" or you can do a match of them using the deployment redeploy.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-17 14:01</div><div class="msg">@zehicle it's not possible to reboot a physical node after detect it, to do install system!!! i do it with maas and cloudinit. </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-17 14:03</div><div class="msg">@zehicle  another thing, if i shutdown my drp server, how i can be enable it automatically? thank you.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:48</div><div class="msg">@moula - this is @galthaus - That is the point of dr-provision.  It is simple and quick.  DigitalRebar provides that level of integration today.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:48</div><div class="msg">@moula - run the install.sh without the isolated flag and it will place start up scripts in place, put binaries in place, and show you the service commands to enable and start dr-provision to survive reboots.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 14:49</div><div class="msg">DR team: in DRP, where can I set params for a host? I see there's a "OptionalParams" section in a given bootenv, but can these be set on a per-host basis?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:49</div><div class="msg">@wdennis - they are only set on a per host or global level.  I feel another helper coming on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:49</div><div class="msg">drpcli params is for manipulating global parameters</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:50</div><div class="msg">drpcli machines update &lt;uuid&gt; '{ json blob of params}'   is for machine specific params</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 14:50</div><div class="msg">Thought so - if I do 'drpcli params list' I get empty set</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:51</div><div class="msg">Yes - params are free form.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:51</div><div class="msg">They are deep dictionaries.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:51</div><div class="msg">string -&gt; Struct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:51</div><div class="msg">where struct can be a json object, string, int, bool, ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 14:52</div><div class="msg">I think that params should be perhaps site-specific, apply to a group of hosts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:52</div><div class="msg">For example, you can inject ssh keys by params.  They need to be an array of objects.  I'll be documenting this.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 14:52</div><div class="msg">Like ntp_servers for example</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:52</div><div class="msg">@wdennis - that is where DR comes in.  We are trying to give some function but level grouping and higher order ops to DR.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:53</div><div class="msg">Well - long term vision is many dr-provision units local to regions to handle bandwidth and locality issues with a central DR driving them.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 14:53</div><div class="msg">Ah</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 14:55</div><div class="msg">Any docs yet on providing params on a per-host basis?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:56</div><div class="msg">of course not- I think we may be exposing a little too fast, but that is next on my plate.  I have an internal thing I'm working on, but those docs and flows are next.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:56</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 14:56</div><div class="msg">Trying to get to a point where I can substitute DRP for Cobbler in my environment, but missing some functionality (like profiles for groups of servers)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:57</div><div class="msg">that is what we want and I need to help with that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 14:57</div><div class="msg">I could live with per-host for now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:58</div><div class="msg">how do you specify the group membership and group scope?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 14:59</div><div class="msg">need to drive for a bit.  Back in a little while.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 15:01</div><div class="msg">There would have to be something like profiles in DRP that combine a bootenv, and associated templates, and then instead of defining bootenv per host, can specify a template </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 15:03</div><div class="msg">Like for instance in my environment, I have many Ubuntu 16.04 profiles that only differ in things like disk partitioning, root user enabled or not, default user + passwd</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 15:03</div><div class="msg">95%+ of the OS install is the same, but these are crucial differences</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 15:05</div><div class="msg">(Maybe wrong here) in DRP, a bootenv is a single OS flavor installer map - don't want to have to have many of these to handle the &gt;5% differences</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 15:06</div><div class="msg">Sorry for the tidal wave of txt here - do concentrate on driving :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-04-17 15:26</div><div class="msg">@wdennis the advanced workflow and system profiles are already in full DR.  DRP is intended to be narrrowly scoped and then driven by higher level services.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:32</div><div class="msg">Acutally, I think we need to document bootenvs better.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:32</div><div class="msg">If we add template in template (with parameter drivers and examples), I think you have everything you need and more.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 15:32</div><div class="msg">@zehicle It seems to me the value in full-on DR is to take advantage of the DR-provided orchestration of the full OS + software stack (which in something like K8s or OpenStack is quite complex.) What about use case of just install OS + use existing automation developed by end-user to get machines ready for further use (much simpler use case?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:32</div><div class="msg">The variable expansion into something more than just string replacement is pretty powerful.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 15:34</div><div class="msg">Are bootenvs supposed to be like profiles?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:36</div><div class="msg">bootenvs are intended to be a bootable environment that can be customized per machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:37</div><div class="msg">This includes local disks, discovery, installation, coreos diskless, burn-in testing, whatever.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:37</div><div class="msg">We intend the bootenvs to be customizable through parameters.  The complexity of the templates contained in the bootenv and how they are tied to the parameters drive the complexity and the mutability of the bootenv.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:38</div><div class="msg">Like you could have no params and hardcode an install.  This would generate nxN bootenvs for your description.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:39</div><div class="msg">Another level is to create a bootenv that takes a param that defines user info.  The user info is an array of user data objects (object is uname, passhash, groups, ... whatever).  Use golang template expanders to parse that list into user names.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:39</div><div class="msg">The next level up is to put that into a template that preseed/kickstart template references.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:40</div><div class="msg">At that point, you can set a variable on the machine that says complex_users= true and user_table=[ {}, {}, ... ]</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:40</div><div class="msg">This is what I need to spend time documenting.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-17 15:55</div><div class="msg">@zehicle  I will try it, Merci beaucoup.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-17 15:57</div><div class="msg">@galthaus  sorry . merci.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 15:57</div><div class="msg">@moula - np.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 20:13</div><div class="msg">Some DRP questions relating to host config:
- How to spec initial user/passwd other than default "rocketskates" one
- How to set static IP / mask / gateway
- How to insert desired pubkey in root's .ssh/authorized_keys
- If desired, how to set root password, and allow root access via SSH</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 20:13</div><div class="msg">Can these sorts of things be done?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 20:15</div><div class="msg">well - yes.  Some require more work than others.  For example, static IP.  dr-provision isn't managing address spaces beyond simple DHCP (and in your case not at all).  The machine has an address field that can be referenced in a template to then set a static IP.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 20:15</div><div class="msg">that way.  You would have to specify the gateway and mask as new parameters.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-17 20:47</div><div class="msg">@greg Are any of these handled thru just setting properties (params), or all take template changes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 20:48</div><div class="msg">most are already handled with parameters today</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 20:49</div><div class="msg">everything but static ip config is handled through parameters today.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-17 20:49</div><div class="msg">and maybe root access via ssh.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-18 01:09</div><div class="msg">@greg, any docs on setting the above params? (sorry, haven?t looked - point me to the URL if they exist plz)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-18 01:19</div><div class="msg">I'm writing them tonight</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-18 01:24</div><div class="msg">Thanks - looking forward to implementing them :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-18 06:25</div><div class="msg">@wdennis - check readthedocs with the latest (tip isn't working right).  Sigh.  <a href="http://provision.readthedocs.io/en/latest/doc/arch/data.html#template">http://provision.readthedocs.io/en/latest/doc/arch/data.html#template</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-18 06:26</div><div class="msg">More to come.  Sorry.  Hopefully tomorrow.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-18 17:11</div><div class="msg">Don't be sorry - this looks great. Good docs take time (but do take the time! ;)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-18 17:12</div><div class="msg">Time to get the lab together &amp; start playing :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-18 17:27</div><div class="msg">More coming - objects mostly complete.  Next up is operations and cli examples.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-04-19 02:32</div><div class="msg">@wdennis templates including templates probably works now. Still need to write unit tests for it. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-04-19 02:33</div><div class="msg">{{template "other" .}} Is the standard go text/template tag to use. <a href="https://golang.org/pkg/text/template/#pkg-overview">https://golang.org/pkg/text/template/#pkg-overview</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-19 02:46</div><div class="msg">:slightly_smiling_face: And I need to remove the explicit line in our docs saying don't do it.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-19 23:01</div><div class="msg">```
labs-rebar:~/digitalrebar/deploy$ docker pull digitalrebar/logging:production
Error response from daemon: manifest for digitalrebar/logging:production not found
```
I'm not seeing this tag on docker hub, and it looks like `run-in-system.sh` is failing when it tries to pull this</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-19 23:06</div><div class="msg">never mind this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-04-20 00:01</div><div class="msg">glad you got past it - let us know if you have other questions</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 00:36</div><div class="msg">`Error: assignment to undeclared variable raw
$scope.rawProfiles@https://labs-rebar.###/ux/bundle.min.js:39:8253
this.showEditNodeDialog@https://labs-rebar.###/ux/bundle.min.js:39:9149
anonymous/fn@https://labs-rebar.###/ux/bundle.min.js line 4 &gt; Function:2:471
b@https://labs-rebar.###/ux/bundle.min.js:2:27522
Ic[b]&lt;/&lt;.compile/&lt;/&lt;/e@https://labs-rebar.###/ux/bundle.min.js:5:4794
sf/this.$get&lt;/n.prototype.$eval@https://labs-rebar.###/ux/bundle.min.js:3:5260
sf/this.$get&lt;/n.prototype.$apply@https://labs-rebar.###/ux/bundle.min.js:3:5492
Ic[b]&lt;/&lt;.compile/&lt;/&lt;@https://labs-rebar.###/ux/bundle.min.js:5:4844
Pf@https://labs-rebar.###/ux/bundle.min.js:1:18758
Of/d@https://labs-rebar.###/ux/bundle.min.js:1:18707`
I'm actually getting this error when I try to go edit a node</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 00:38</div><div class="msg">as well as HSTS warnings but I don't think those are relevant</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 00:53</div><div class="msg">I guess this is happening in firefox only</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 00:53</div><div class="msg">surf/webkit seemed fine</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 00:55</div><div class="msg">nvm, it's happening in other browsers, too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 02:21</div><div class="msg">yes - we need a container rebuild for that.  I think.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 02:21</div><div class="msg">You can change ux to ux-dev and it will work around it, I believe.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 02:26</div><div class="msg">Yeah, I tried ux-dev and was still running into the same issue</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 02:27</div><div class="msg">but also, question, does sledgehammer/the discovery image wipe out disks?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 02:27</div><div class="msg">or partition tables at least</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 02:35</div><div class="msg">yes as part of the OS provisioning step</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 14:28</div><div class="msg">welp</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 14:28</div><div class="msg">that makes it harder to introduce in existing environments</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 14:29</div><div class="msg">(we used to just wipe partition tables during preseed/kickstart)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 14:44</div><div class="msg">Only as part of a os install request</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 14:45</div><div class="msg">It is part of a role that runs in sledgehammer   Sledgehammer itself doesn't </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 14:49</div><div class="msg">hm, this is weird then</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 14:51</div><div class="msg">what are you seeing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 14:54</div><div class="msg">It is part of the provisioner-os-install role - see core/script/roles/provisioner-os-install/01-install-os.sh</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 14:55</div><div class="msg">```[root@d00-25-90-59-d5-62 ~]# parted -s /dev/sda print
Error: /dev/sda: unrecognised disk label
Model: LSI Logical Volume (scsi)
Disk /dev/sda: 2396GB
Sector size (logical/physical): 512B/512B
Partition Table: unknown
Disk Flags:
```
two servers that I guess their owner rebooted for whatever reason look like this after booting up the discovery image - but I do see other servers that booted up into discovery that still have their partition tables intact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 14:57</div><div class="msg">Does it have a LSI raid controller? Do you have any raid configured?  Did you drive that system to any state other than just being discovered?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 14:57</div><div class="msg">yes, it does have an LSI raid controller - and no, I just let it be discovered</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 14:57</div><div class="msg">so - it should have touched anything.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 14:58</div><div class="msg">should not</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 14:58</div><div class="msg">I'm going to try to see if I can reproduce it somehow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 14:59</div><div class="msg">oh - does the system have multiple disks?  Could they be enumerating differently?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 15:00</div><div class="msg">the ones that are affected only have one disk configured on the RAID controller</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:03</div><div class="msg">@greg - why does DRP control the Ubuntu apt sources instead of using std upstream Ubuntu ones?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:04</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F521KD44T/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F521KD44T/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 16:06</div><div class="msg">that's the repo extracted from ubuntu ISOs isn't it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:07</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:07</div><div class="msg">It tries to keep traffic local to the ISO if possible.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:26</div><div class="msg">What about after install? Shouldn't there be a switch to std Ubuntu repos?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:27</div><div class="msg">The ISO one doesn't have security updates, or universe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:27</div><div class="msg">Interesting.  I thought we left them in post install.  It is easy enough to change.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:28</div><div class="msg">Found this out when I went to install some sw tools I usually put in right after install (ethtool, tree) and they weren't available </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:30</div><div class="msg">yeah - okay - so you probably want to delete lines 55-61 in the net-post-install.sh.tmpl</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:30</div><div class="msg">That will make the default sources.list file not get overwritten.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:30</div><div class="msg">OK</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:31</div><div class="msg">Another alternative that might work is to change the /etc/apt/sources.list reference to /etc/apt/sources.d/drp.repo</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:31</div><div class="msg">Maybe that should be standard, or at least selectable via a property</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:32</div><div class="msg">Yes - issue please.  Interestingly enough - since you got us off our rears to add template in template support.  I'll be reworking these quite a bit to add those actions.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:32</div><div class="msg">Yes, agree, that would be better</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:33</div><div class="msg">Will do </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:36</div><div class="msg">In other matters, any DR folk planning on going to USENIX LISA'17?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:36</div><div class="msg">maybe - that is sooooooooo far away.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:37</div><div class="msg"><a href="https://www.usenix.org/conference/lisa17">https://www.usenix.org/conference/lisa17</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:37</div><div class="msg">It would be a good place to demo your wares or give a talk at</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:38</div><div class="msg">good to know.  Rob may have gone to the 16</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-04-20 16:39</div><div class="msg">I may (or may not) be submitting a talk (on Logstash improvements our lab has developed)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:41</div><div class="msg">cool</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 16:54</div><div class="msg">hm, I couldn't reproduce the wiped partition table issue from what I thought might have been a catalyst</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:55</div><div class="msg">ok - cool - i guess.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 16:56</div><div class="msg"><!channel> - PSA - I've updated the k8s workload to the latest kargo tree.  It now defaults to v1.6.1</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 17:25</div><div class="msg">@zehicle is this something I can do about now? edit/redeploy/reboot buttons still don't seem to be functional</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:27</div><div class="msg">@lae - switch to cli.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:27</div><div class="msg">to make sure it works.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:27</div><div class="msg">on the admin node, I usually do this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:27</div><div class="msg">docker cp compose_rebar_api_1:/usr/local/bin/rebar /usr/local/bin/rebar</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:27</div><div class="msg">chmod +x /usr/local/bin/rebar</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:27</div><div class="msg">export REBAR_KEY=u:p</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:28</div><div class="msg">rebar nodes list</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:28</div><div class="msg">rebar nodes redeploy &lt;id of node in question&gt;</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:29</div><div class="msg">Are the errors in the console of the browser? or in the rebar_api container log?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:29</div><div class="msg">Get some of that would be good.  All of that in an issue would be better. :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 17:30</div><div class="msg">console of the browser, I wasn't seeing anything while watching `docker-compose logs`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:30</div><div class="msg">okay - still the raw error?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 17:30</div><div class="msg">raw error occurs for edit, but there are different errors for redeploy/reboot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:31</div><div class="msg">awesome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 17:32</div><div class="msg">so I'm not too familiar with the cli - how do I change a node to change to `local` for redeployment?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:32</div><div class="msg">```rebar nodes redeploy &lt;id&gt;```</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 17:33</div><div class="msg">right, I did that - but does that change it to local? I still see bootenv: sledgehammer in the output</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:33</div><div class="msg">Will set the bootenv to discovery/sledgehammer, update the node roles run counts to 0</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:33</div><div class="msg">and reboot the node if possible.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:34</div><div class="msg">You should be able to reboot the node now and it should go into sledgehammer.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:35</div><div class="msg">redeploy in the DR sense means to redo discovery and reapply the current config</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 17:35</div><div class="msg">ah ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:35</div><div class="msg">You may need to manually reboot the node if IPMI is NOT configured and the node is not SSH able.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 17:36</div><div class="msg">in the UI there's a dropdown when clicking the redeploy icon so I assumed something different</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 17:36</div><div class="msg">ipmi's usable, I have a small tool for that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 17:36</div><div class="msg">ah - the dropdown lets you reset the OS you want to provision.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 22:12</div><div class="msg">```
rebar nodes propose 2
rebar nodes update 2 '{"bootenv": "ubuntu-16.04-install"}'
rebar nodes commit 2
rebar nodes power 2 reboot
```
is this the proper workflow or am I missing a step?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 22:18</div><div class="msg">hm, so if I run `nodes update` with either `local` or `sledgehammer` bootenv it'll change the pxelinux config file fine, but `ubuntu-16.04-install` and `centos-7.3.1611-install` don't change it at all</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 22:37</div><div class="msg">Hey folks,  if I run "join_rebar.sh" I authenticate OK, but get a * Connection #0 to host 192.168.1.63 left intact
curl: (22) The requested URL returned error: 502 Bad Gateway
We could not create a node for ourself!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 22:45</div><div class="msg">@Iae - do ```rebar provisioner machines list``` and see if there are errors there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 22:46</div><div class="msg">@newgoliath - that script is old and fragile.  It check to make sure it is NOT using 3000 as its port to connect to the admin node.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 22:46</div><div class="msg">It auths to rebar OK.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-20 22:47</div><div class="msg">the ansible installer isn't done yet.  Maybe I'm being to eager. :-)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-20 22:50</div><div class="msg">oh - patience</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-21 00:41</div><div class="msg">```
root@labs-rebar:~/digitalrebar/deploy# rebar provisioner machines list
2017/04/21 00:41:31 Error listing provisioner machines: Expected status in the 200 range, got 404 Not Found
```</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-21 00:42</div><div class="msg">hm :|</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-21 00:43</div><div class="msg">```
provisioner_1  | [GIN] 2017/04/21 - 00:39:56 | 200 |     548.631s | 172.17.0.11 |   GET     /bootenvs/ubuntu-16.04-install
provisioner_1  | [GIN] 2017/04/21 - 00:40:27 | 200 |     530.185s | 172.17.0.11 |   GET     /bootenvs/local
provisioner_1  | provisioner-mgmt2017/04/21 00:40:27.680734 backend: Updating bd71b2b6-6687-4b33-9861-1148c6fc2a63 1
provisioner_1  | provisioner-mgmt2017/04/21 00:40:27.680743 backend: Updating new bd71b2b6-6687-4b33-9861-1148c6fc2a63 1
provisioner_1  | machines:bd71b2b6-6687-4b33-9861-1148c6fc2a63 is a ChangeHooker
provisioner_1  | [GIN] 2017/04/21 - 00:40:27 | 202 |  138.131765ms | 172.17.0.11 |   POST    /machines
```
I see this behaviour in provisioner logs</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-24 16:56</div><div class="msg">are profiles not usable in rebar, yet?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-24 16:56</div><div class="msg">(I don't see any results when I search for "profile" in the docs, and the parameters I'm setting in profiles aren't being inserted in the pxelinux configuration files)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:04</div><div class="msg">Two different profiles.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:04</div><div class="msg">Profiles described in digitalrebar provision are not in digitalrebar.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:04</div><div class="msg">There are profiles in digitalrebar, but they are for node/deployment attribute overrides</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:05</div><div class="msg">They are not available to the provisioner.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:05</div><div class="msg">This is a disconnect that will be remedied in the coming months.  We are inbetween.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:06</div><div class="msg">@Iae - Do you need the orchestration/hardware pieces (IPMI, BIOS, RAID) for what you are doing?  If not, you may want to try digitalrebar provision.  It may be more immediately applicable.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-24 17:15</div><div class="msg">They're not necessarily needed since I already have tools/processes for that. So I was attempting to use dr-provision earlier this morning, but it seems I'm having trouble possibly having it integrate with our current Infoblox setup?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-24 17:16</div><div class="msg">I could configure a subnet in dr-provision but it'd then allocate IPs itself, but if I leave subnets out, machines don't seem to boot:
```
PXELINUX 6.03 lwIP 2014-10-06 Copyright (C) 1994-2014 H. Peter Anvin et al
Unable to locate configuration file
```</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-24 17:16</div><div class="msg">```
dr-provision2017/04/24 17:12:26.849155 Recieved DHCP packet: type Discover xid 0x6b6d145f ciaddr 0.0.0.0 yiaddr 0.0.0.0 giaddr 0.0.0.0 chaddr 00:16:3e:07:33:21
dr-provision2017/04/24 17:12:27.829885 Recieved DHCP packet: type Discover xid 0x6b6d145f ciaddr 0.0.0.0 yiaddr 0.0.0.0 giaddr 0.0.0.0 chaddr 00:16:3e:07:33:21
dr-provision2017/04/24 17:12:29.807194 Recieved DHCP packet: type Request xid 0x6b6d145f ciaddr 0.0.0.0 yiaddr 0.0.0.0 giaddr 0.0.0.0 chaddr 00:16:3e:07:33:21
dr-provision2017/04/24 17:12:29.807382 xid 0x6b6d145f: Ignoring request for DHCP server 10.13.2.24
dr-provision2017/04/24 17:12:36.196744 sending block 0: code=0, error: TFTP Aborted
```</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-24 17:18</div><div class="msg">also I guess I should probably repull dr-provision since I see that PR on profiles was just merged</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:25</div><div class="msg">well - you can turn off dhcp in dr-provision.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:25</div><div class="msg">okay - a couple of things.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:26</div><div class="msg">I've updated tip with all the stuff fomr this morning - should be out there in about 10minutes.  You will need to get the tarball from the tip or use --rs-version=tip in the curl bash install command.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:27</div><div class="msg">Second, you can use DR-provision with DHCP off and let infoblox drive IP assignment. You will need to set nextboot server to dr-provision and set a bootfile to lpxelinux.0 (assuming legacy intel bios machines).  If you are going to do discovery, you will need to also set option 15 (domainname to something).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:29</div><div class="msg">This is documented at: <a href="http://provision.readthedocs.io/en/latest/doc/deployment.html">http://provision.readthedocs.io/en/latest/doc/deployment.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:29</div><div class="msg">I need to merge configure server and deployment.  They are similar but different.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-24 17:32</div><div class="msg">my Infoblox as far as I know is configured correctly for both legacy/uefi systems at the moment (well, the bootfiles are prefixed with discovery/ still, but I created a symlink in drp-data/tftpboot)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:33</div><div class="msg">won't work.  The filesystem isn't live like that.  The non-static files are generated on the fly when requested.  This allows for parameters from profiles and other things to be inject as needed and things aren't out of date..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:34</div><div class="msg">I have some docs in about that, but it is still coalescing.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-24 17:35</div><div class="msg">is that a difference between DR and dr-provision? PXE boot was working correctly on DR with this configuration - I can have it modified but since I don't admin the infoblox instance, I've gotta wait until a change gets implemented before I can test things again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:35</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:36</div><div class="msg">We are attempting to handle more dynamic and richer bootenvs/templates with dr-provision.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-24 17:38</div><div class="msg">Alright, just to confirm - based on what you said this config should be fine, right?
```
subnet 10.11.110.0 netmask 255.255.255.128 {
    option domain-name "eng.fireeye.com";
    option domain-name-servers 10.11.10.12, 10.11.10.140;
    option routers 10.11.110.1;
    server-name "10.11.110.50";
    next-server 10.11.110.50;
    filename "lpxelinux.0";
            
    if (substring(option vendor-class-identifier,0,9)="PXEClient:Arch:00006") {
        # Option filter "UEFI-BOOTIA32.efi"
        server-name "10.11.110.50";
        next-server 10.11.110.50;
        filename "bootia32.efi";
    }
    elsif (substring(option vendor-class-identifier,0,9)="PXEClient:Arch:00007") {
        # Option filter "UEFI-BOOTX64.efi"
        server-name "10.11.110.50";
        next-server 10.11.110.50;
        filename "bootx64.efi";
    }
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 17:42</div><div class="msg">I think so.  The substring options look okay.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-24 22:04</div><div class="msg">Alright, sledgehammer booted! :ok_hand: </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 22:08</div><div class="msg">:slightly_smiling_face: Cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 22:09</div><div class="msg">I'll be on phone but driving.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 22:09</div><div class="msg">in 10 minutes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-24 22:15</div><div class="msg">on phone</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-04-25 01:15</div><div class="msg">@greg wrong channel :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 12:30</div><div class="msg">question, is it possible to provision bare-metal from the ground up (configure RAID, install OS, etc.) with DRB and DRB-Provision? I work at Cisco and (obviously) we use Cisco equipment. I have been playing with DRB and DRBP, so far every thing works fine. Now I'm looking for guidance on how to go from metal-to-running_app using DRB.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 13:03</div><div class="msg">Hi @vjcubas.  It probably is.  We haven't done much with Cisco gear.  We usually have success with discovery and OS install and beyond.  There is sometime some issues with IPMI. Raid will be dependent upon what raid controller is in the gear.  BIOS configuration and setting is unlikely without some additional coding.  It is the most hardware specific thing.  It can be added but it takes some time and direct access to a box.  (vendor tools help as well).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 13:05</div><div class="msg">With regard to DRB (DR) vs DRB-Provision (DRP).  Currently, DRP is just about OS installation and discovery.  It is not currently integrated with DR.  So, if you are looking for Orchestration or hw manipulation, then you will want to focus on DR.    If you have DR working, then you are doing well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 13:06</div><div class="msg">We may need to have a discussion around what you are trying to do, where you are, and end states.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 13:07</div><div class="msg">If you want, we can talk off-line (email me at <mailto:greg@rackn.com|greg@rackn.com>)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 13:10</div><div class="msg">Also, what do you have running? DRP vs DR or both</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 17:20</div><div class="msg">right now I have DRP - and I was wondering if we could run DR and DRP on the same server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:20</div><div class="msg">They will fight currently.  with port contentions.  well - let me think a moment.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:21</div><div class="msg">okay - you kinda can, but the integration would be pretty light and may not be what you want.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:22</div><div class="msg">Partially, why I asked what your end goal is.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:24</div><div class="msg">You could run DRP with DR on the same system if you turn off the DHCP and Provisioner server in DR.  To hook, DRP to DR you would need to create a script to "join" installed nodes into DR after it was done.  The machines would show up (you probably couldn't manage lifecycle directly from DR, but it would be something).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:24</div><div class="msg">Acutally, this is interesting quick integration path for the short term.  Hmmm .. not what I want medium to long term.  Need to think.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:25</div><div class="msg">The intent is DR for more full featured environments (hardware settings, workload orchestration, ...).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:25</div><div class="msg">Back to your end state goals.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 17:42</div><div class="msg">Getting errors on "logging-client" complaining about system clock "INFO: HTTP Request Returned 401 Unauthorized: Authentication failed. Please check your system's clock". Is there a set to run ntpdate that is missing in deployment?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:43</div><div class="msg">Yes - it should run ntpdate as part of sledgehammer.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:43</div><div class="msg">As part of common.env, you can set an upstream ntp server.  by default it will make the dr master node the time server.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:44</div><div class="msg">You can check the sledgehammer log by logging into the node in question: root/rebar1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:44</div><div class="msg">Then: journalctl -u sledgehammer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:44</div><div class="msg">Look for ntp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:44</div><div class="msg">it may give a hint at what is going on.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 17:46</div><div class="msg">Added 4 hosts to deployment. Only 1 worked. The date on the working system, the time is 10:30 UTC. The date on the provisioner is 3:30 PDT. The command journalctl -u sledgehammer returns "-- No Entries --"</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 17:49</div><div class="msg">The contents of /var/chef/cache/chef-stacktrace.out starts with Net::HTTPServerException: 401 "Unauthorized"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:50</div><div class="msg">I've seen that sometime the ntp server on the node can get out of sync with it self or take a long time to stablize.  I'm not sure what is causing this.  Sometime restarting the ntp container. will "fix" it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:50</div><div class="msg">Is this post OS install or during discovery?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 17:51</div><div class="msg">How do I get in docker to set the date? It is post OS install. I cannot run ntpdate on the provisioner and get an error of "25 Apr 03:49:47 ntpdate[19206]: the NTP socket is in use, exiting"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:52</div><div class="msg">```ntpq -p``` to check the state of ntp on the admin node</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:52</div><div class="msg">The docker container should be using the host's clock</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 17:53</div><div class="msg">ntpq -p returns "localhost: timed out, nothing received"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:53</div><div class="msg">okay - docker ps | grep ntp</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 17:54</div><div class="msg">c492475e0902        digitalrebar/dr_ntp:master           "/sbin/docker-entr..."   4 days ago          Up 4 days           0.0.0.0:123-&gt;123/tcp, 0.0.0.0:123-&gt;123/udp                           compose_ntp_1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:55</div><div class="msg">What install mode did you use for DR?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 17:56</div><div class="msg">host</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:56</div><div class="msg">okay - cool - hmmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:56</div><div class="msg">ntpstat</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:56</div><div class="msg">Post Install on all 3 of the failing nodes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:57</div><div class="msg">That service is different.  I think it is rebar</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 17:57</div><div class="msg">Yes, but one post install succeeded</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:57</div><div class="msg">Yes - if clock was close it would be fine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:57</div><div class="msg">chef is very very time sensitive in its cert management.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:58</div><div class="msg">So - my guess is that the 3 nodes didn't time sync for some reason and didn't join correctly.  The logging-client role is the first chef role encountered.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:58</div><div class="msg">What os?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 17:59</div><div class="msg">rhel 7, do I need to start ntpd on provisioner or just run ntpdate to set the time correctly for docker ntp?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:59</div><div class="msg">is the provisioner time's off?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 17:59</div><div class="msg">ntpdate -q on the admin node hsould adjust it on the docker container.  The problem is it might wig out ntp for a bit.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:01</div><div class="msg">on centos7/rhel7 systems, you should have a rebar service</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:01</div><div class="msg">systemctl status rebar</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:01</div><div class="msg">journctl -u rebar</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 18:02</div><div class="msg">systemctl status rebar
Unit rebar.service could not be found.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:03</div><div class="msg">hmmm - did you use the centos7 ks script?  it should have created:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:04</div><div class="msg">/usr/sbin/rebar_join</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 18:04</div><div class="msg">We worked last friday on the phone and setup rhel-7.3-server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:04</div><div class="msg">oh - Darren.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 18:04</div><div class="msg">Yes</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 18:05</div><div class="msg">/usr/sbin/rebar_join
-bash: /usr/sbin/rebar_join: No such file or directory</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:07</div><div class="msg">okay - checking files.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 18:09</div><div class="msg">rebar_join on box being install returns
...
/usr/sbin/rebar_join@48(): [[ -x /bin/rebar ]]
/usr/sbin/rebar_join@53(): export REBAR_ENDPOINT=https://192.168.128.10
/usr/sbin/rebar_join@53(): REBAR_ENDPOINT=https://192.168.128.10
/usr/sbin/rebar_join@65(): ntpdate 192.168.128.10
/usr/sbin/rebar_join@67(): case $1 in
/usr/sbin/rebar_join@71(): echo 'Unknown action to rebar_join.sh.'
Unknown action to rebar_join.sh.
/usr/sbin/rebar_join@72(): exit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:09</div><div class="msg">rebar_join start</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:11</div><div class="msg">in fact, that run successfully on machine startup because you got the logging_client error.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:13</div><div class="msg">You could try ntpdate -q and the retry the node role.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 18:19</div><div class="msg">The rebar_join start worked - now they are all finishing the install correctly. Thanks</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 18:20</div><div class="msg">Still had problem with bios-discover step - had to "retry" on every system and it then passed that step. The ntp problem is new</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 18:24</div><div class="msg">hmm - seems like we still have some networking communication issue.  Things are consistently talking it seems.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 18:30</div><div class="msg">Is this because we are running "tools/docker-admin-up --access HOST --no-pull" instead of "tools/docker-admin-up --access HOST"?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 18:32</div><div class="msg">I remember now, the --no-pull option just was used to not download images from the Internet, correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 19:45</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 19:45</div><div class="msg">@intendo - yes</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 20:53</div><div class="msg">I restarted digital rebar with:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 20:53</div><div class="msg">cd ~/digitalrebar/core; tools/docker-admin-down ; sleep 10 ; EXTERNAL_IP=192.168.128.10/24 tools/docker-admin-up --access HOST --no-pull</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 20:54</div><div class="msg">None of my nodes, templates, etc. are showing up from the rebar api or GUI. What did I forget to do?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 21:10</div><div class="msg">ohh - that is destructive install.  You need to reboot the nodes for them to be rediscovered and await in sledgehammer for an OS to install.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 21:10</div><div class="msg">If you are just wanting to restart containers, ```docker-compose restart``` from the deploy/compose directory will work.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-04-25 21:42</div><div class="msg">Gitter/IRC users &gt; we can get you invites directly into this slack channel is you prefer Slack.  They are all synchronized, so there's no need to switch if you are happy where you are</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 22:06</div><div class="msg">I have resisted the slack, but... I am in so many slack channels now might as well go slack native.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 22:07</div><div class="msg">If you can shoot invites to mike, ben, jordan @supergiant.io</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 22:10</div><div class="msg">@zehicle - how do I get my templates back into digital rebar? 
Do I have to rerun all the commands ?:
rebar provisioner files upload chef-12.18.31-1.el6.x86_64.rpm to chef/chef-12.18.31-1.el6.x86_64.rpm
rebar provisioner templates upload rhel-7.3-server.ks.tmpl as rhel-7.3-server.ks.tmpl
rebar provisioner bootenvs create - &lt; rhel-7.3-server.json</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 22:11</div><div class="msg">The chef should still be there in the cache directory if you used the same user.  The other two commands are correct and this is @greg.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 22:31</div><div class="msg">@galthaus, Just FYI, everything you type shows up as "Rob Hirshfeld @zehicle\n [Greg Althaus, RackN]" and then your message.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 22:32</div><div class="msg">Yeah - it is the side effect of the slack to gitter integration we are using.  </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 22:32</div><div class="msg">I use the slack side - all my groups are in there.  It is easier for me to watch that one place.  </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 22:32</div><div class="msg">Thanks though for pointing it out.  :-)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 22:33</div><div class="msg">@galthaus will pop a notification in gitter for me.  @greg will pop up the notification in slack.  Now you all can hound me everywhere.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-25 23:21</div><div class="msg">@greg where is the official slack, or can I get some invites sent?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 23:21</div><div class="msg">working on it.  Have to remember.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 23:26</div><div class="msg">@jordan - done, I think.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/125b5afe57a69a6adeed5a8fa2b153a7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">jordan</div><div class="time">2017-04-25 23:28</div><div class="msg">has joined #community201704</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/125b5afe57a69a6adeed5a8fa2b153a7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">jordan</div><div class="time">2017-04-25 23:28</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 23:28</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/125b5afe57a69a6adeed5a8fa2b153a7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">jordan</div><div class="time">2017-04-25 23:30</div><div class="msg">Mike is going to start working on <a href="http://packet.net">http://packet.net</a> integration for SuperGiant tomorrow, and likely at the same time by extension digital rebar, so you will probably see him around these parts for a while as we work through that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/125b5afe57a69a6adeed5a8fa2b153a7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">jordan</div><div class="time">2017-04-25 23:31</div><div class="msg">You know anyone else doing anything like packet? Other than softlayer - sort of - I don't know anywhere else one can pop raw hardware?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 23:32</div><div class="msg">yeah - not sure either.  We were playing with Nobis/Ubiquity at one point, but I think they got acquired. Not sure the state of their universe.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/125b5afe57a69a6adeed5a8fa2b153a7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">jordan</div><div class="time">2017-04-25 23:36</div><div class="msg">Have you worked with softlayers bare metal offerings at all?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-25 23:37</div><div class="msg">nope - haven't looked.  Was/Is on a One Day provider thing, but not recently</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/125b5afe57a69a6adeed5a8fa2b153a7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">jordan</div><div class="time">2017-04-25 23:37</div><div class="msg">or well, bluemix technically I guess</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 00:00</div><div class="msg">@galthaus, I have rerun the provisioner and I am trying to create a workload -&gt; Install O/S but I can't see a list of the systems. How do I put the systems back in the pool? I am still logged into two of the systems. I turned off 4 systems and then turned them back on but nothing is showing up in the ux.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:01</div><div class="msg">Nodes once discovered should show up in the system deployment the first time and under the nodes nav tree item.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:01</div><div class="msg">If the nodes don't show up there, then they haven't been discovered (or discovered successfully).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:02</div><div class="msg">Are your nodes configured to PXE boot by default?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 00:09</div><div class="msg">@galthaus How do you configure them to PXE boot by default? Is that set in the BIOS? The first time I turned them on, they were visible by the UX. After the install, I did the "destructive teardown" and now none of the systems are visible. Did the install change the PXE boot to default to local disk?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:21</div><div class="msg">Well - if I recall, you told me that the nodes were wiped.  If the disks were wiped, they'd fall back to PXE most likely.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:21</div><div class="msg">You can try the IPMI tool to force a pxe boot.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:22</div><div class="msg">You may have one of the command history with the power status</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:24</div><div class="msg">ipmitool -U &lt;username&gt; -P &lt;password&gt; -H &lt;ip address&gt; chassis bootdev pxe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:26</div><div class="msg">In theory, this will make it consistently pxe boot.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:26</div><div class="msg">```ipmitool -U &lt;username&gt; -P &lt;password&gt; -H &lt;ip address&gt; chassis bootdev pxe options=persistent```</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 00:32</div><div class="msg">@galthaus how do I get the IP addresses?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 00:33</div><div class="msg">I can ssh to the bmc IP address but I get the SMASH console</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:34</div><div class="msg">Well - will need to find them, probably since the nodes are deleted.  You have the bmc network.  The addresses were assigned from there.  They start with the start address.  The networks nav in the UI should get you to the bmc network definition to see the starting address.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 00:57</div><div class="msg">@galthaus here is what I did to get _most_ of them set to bootdev pxe:
# for ip in 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215; do echo $ip; ipmitool -H 192.168.128.$ip -U root -P rebar1 chassis bootdev pxe options=persistent; done
200
Error: Unable to establish LAN session
201
Set Boot Device to pxe
202
Set Boot Device to pxe
203
Set Boot Device to pxe
204
Set Boot Device to pxe
205
Set Boot Device to pxe
206
Set Boot Device to pxe
207
Set Boot Device to pxe
208
Set Boot Device to pxe
209
Set Boot Device to pxe
210
Set Boot Device to pxe
211
Set Boot Device to pxe
212
Set Boot Device to pxe
213
Error: Unable to establish LAN session
214
Error: Unable to establish LAN session
215
Error: Unable to establish LAN session</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:59</div><div class="msg">Cool - now reboot them.  You can use the ipmitool chassis power cycle</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 00:59</div><div class="msg">like above but different. :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 01:30</div><div class="msg">@galthaus rebooted them but no new nodes showing up in list</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 01:31</div><div class="msg">do you see DHCP leases for the nodes in the DHCP nav section.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 01:34</div><div class="msg">@galthaus yes, but only 4 nodes are binding</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 01:36</div><div class="msg">hmmm - so nothing in the nodes list.  hmm</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 01:37</div><div class="msg">@galthaus there are 4 nodes in the nodes list but there should be 16</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 01:37</div><div class="msg">ah - okay.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 01:37</div><div class="msg">or at least 12</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 01:37</div><div class="msg">@galthaus - would this be easier to skype?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 01:39</div><div class="msg">probably - can we try tomorrow morning?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 01:41</div><div class="msg">@galthaus yes, I will try to call you but I have meetings up the wazzu :-)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 01:41</div><div class="msg">okay - sorry I'm fading is the problem and I need to finish some doc work I'm doing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 05:15</div><div class="msg">A new release of Digital Rebar Provision is out, v3.0.1 and stable has been updated.

<a href="https://github.com/digitalrebar/provision/releases/tag/v3.0.1">https://github.com/digitalrebar/provision/releases/tag/v3.0.1</a></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 15:01</div><div class="msg">@galthaus Ready whenever you are to Skype.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 15:01</div><div class="msg">there</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 18:16</div><div class="msg">You guys ever test DR on Centos 6.9?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 18:47</div><div class="msg">not specifically.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-26 21:08</div><div class="msg">can I get a slack invite? lae@lae.is</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-26 21:21</div><div class="msg">Done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-04-26 21:41</div><div class="msg">has joined #community201704</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-27 14:22</div><div class="msg">I've been looking at the DRP docs - trying to add custom ISO image - I'm not clear on the process, does anyone here have suggestions on this topic. I apologize if this is not the proper channel for posting DRP questions - Thanks in advance:)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-27 14:39</div><div class="msg">I'm working on docs now.  Check operations section about bootenvs.  What are trying to do?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/85a49ef393b1625397ab873667848218.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gopherstein</div><div class="time">2017-04-27 14:57</div><div class="msg">has joined #community201704</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-27 15:01</div><div class="msg">we have a custom CentOS-7 iso that we'd like to deploy to the targeted hosts - also, once this image has been installed on those hosts, I'd like to be able to reboot them without re-imaging them through the PXE boot - I know changing the boot order in the bios would accomplish this, but perhaps there is a better/easier way to do so - thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-04-27 15:02</div><div class="msg">you'd set bootenv to local as part of %post in your centos kickstart file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-27 15:28</div><div class="msg">Thanks, @lae !  Exactly.  I'm in the process of documing and templatizing this so that you can include it in any custom kickstart.  something like this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-27 15:29</div><div class="msg">```
{{ template "update-drp-local" . }}
```</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-27 18:14</div><div class="msg">thanks, another question: is there a way to install ssh key during the deployment, or to set user/password - BTW, what is the default user/pass for the centos-7-3.1611 image after deployment?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-27 19:25</div><div class="msg">Yes and yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-27 19:25</div><div class="msg">root/RocketSkates</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-27 19:27</div><div class="msg">@vjcubas - <a href="http://provision.readthedocs.io/en/latest/doc/install.html#default-template-identity">http://provision.readthedocs.io/en/latest/doc/install.html#default-template-identity</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-27 19:28</div><div class="msg"><a href="http://provision.readthedocs.io/en/latest/doc/arch/data.html#template">http://provision.readthedocs.io/en/latest/doc/arch/data.html#template</a> - the parameter section</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-27 19:28</div><div class="msg">There are some more docs and examples coming describing just those issues.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 19:58</div><div class="msg">@galthaus Our reinstall (ll41) is "stuck" in the provisioner-os-install mode where it keeps repeating the output:
2017/04/28 19:44:15 Could not connect to Rebar: Head https://127.0.0.1:3000/api/v2/digest: dial tcp 127.0.0.1:3000: getsockopt: connection refused
//tmp/scriptjig-Dkrnn4/provisioner-os-install/01-install-os.sh@51(): sleep 1
//tmp/scriptjig-Dkrnn4/provisioner-os-install/01-install-os.sh@50(): rebar nodes get d71485f0-5c26-4438-8b9c-9648c8b2b4b5 attrib provisioner-active-bootstate
//tmp/scriptjig-Dkrnn4/provisioner-os-install/01-install-os.sh@50(): grep -q -- -install
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:01</div><div class="msg">rebar nodes update d71485f0-5c26-4438-8b9c-9648c8b2b4b5 '{ "bootenv": "local" }'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:01</div><div class="msg">rebar nodes update d71485f0-5c26-4438-8b9c-9648c8b2b4b5 '{ "bootenv": "rhel-7.3-server-install" }'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:02</div><div class="msg">See if that clears it.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 20:04</div><div class="msg">@galthaus Nope, gets stuck in same loop</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:05</div><div class="msg">hmm - bigger hammer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:05</div><div class="msg">rebar nodes redeploy d71485f0-5c26-4438-8b9c-9648c8b2b4b5</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 20:09</div><div class="msg">@galthaus Nope, is is still stuck in that loop. Got a biggerer hammer?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:09</div><div class="msg">The redeploy should have rebooted the node.  If it didn't then try and reboot the node.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:10</div><div class="msg">rebar nodes power d71485f0-5c26-4438-8b9c-9648c8b2b4b5 reboot</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 20:11</div><div class="msg">@galthaus That forced the reboot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:13</div><div class="msg">what is the node's bootenv?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 20:17</div><div class="msg">sledgehammer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:17</div><div class="msg">okay that is good.  Let's see what happens.  It should  redo the whole process.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 20:19</div><div class="msg">I will let you know if it works. Going to put all the missing drives into the hardware to add another 24 nodes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:20</div><div class="msg">cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-04-28 20:30</div><div class="msg">note: edits do NOT make it into the gitter channel...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 20:31</div><div class="msg">yes - I know.  Teach them to join slack.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 21:22</div><div class="msg">Probably a silly question, but I'm brand new to rebar and trying to setup a bare metal environment. I've run the  "run-in-system" script with provisioner and dhcp containers and then I found out that I need to get the RAID and BIOS tools :-P So I did that but I'm not totally sure how to re-run just raid-tools-install role.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 21:25</div><div class="msg">There is a retry button in the ux.  The annealer view top right spiral looking icon.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 21:25</div><div class="msg">Select that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-28 21:25</div><div class="msg">The errors will be at the top.  On the right, there should be a retry all button.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 21:26</div><div class="msg">hmmm.. no errors listed.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 21:33</div><div class="msg">here is what I have done so far:
- pulled digital rebar
- ran sudo ./run-in-system.sh --deploy-admin=local --access=host --con-provisioner --con-dhcp --admin-ip=&lt;ip/subnet&gt;
- downloaded and copied RAID and bios tools into ~/.cache/.../files/raid
</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 21:33</div><div class="msg">but when I login to the UX, I don't see the "Provisioner" tab.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:01</div><div class="msg">Hi guys, with the quickstart deploy, I try to add drpcli bootenvs install bootenvs/centos-7... and it fails to explode.  Where can I look for errors?  The error message in the logs just ends with /sbin/selinunxenabled</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:01</div><div class="msg">error code 255</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:02</div><div class="msg">the bootenv should have some error messages</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:02</div><div class="msg">Nothing actionable, seemingly: Explode ISO: explode_iso.sh failed for centos-7.3.1611-install: exit status 255",
    "Command output:\nExplode iso centos-7.3.1611 /root/drp-data/tftpboot /root/drp-data/tftpboot/isos/CentOS-7-x86_64-Minimal-1611.iso /root/drp-data/tftpboot/centos-7.3.1611/install\nExtracting /root/drp-d
ata/tftpboot/isos/CentOS-7-x86_64-Minimal-1611.iso for centos-7.3.1611\n/sbin/selinuxenabled\n</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:02</div><div class="msg">the install combines several actions, you may need to try them one at a time.  Also, I think there's a --debug flag for the CLI</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:02</div><div class="msg">Not OK to run as root?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:03</div><div class="msg">DRP must run w/ root privs</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:04</div><div class="msg">but the CLI does not requiire it</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:04</div><div class="msg">disk space?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:04</div><div class="msg">Plenty free.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:06</div><div class="msg">also, drpcli bootenvs list doesn't show the ID of a bootenv, so you can't know the ID to use with drpcli bootenvs destroy &lt;ID&gt;</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:06</div><div class="msg">Unless it's "name'</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:07</div><div class="msg">I'm not much help on this score, soryr</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:08</div><div class="msg">Ok, so name == ID</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:09</div><div class="msg">bootenvs destroy and create again put it in available: true</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:09</div><div class="msg">Timing issue, mayhaps.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:22</div><div class="msg">Now I'm getting malformed basic auth strings:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:22</div><div class="msg">dr-provision2017/04/28 22:21:15.241830 Malformed basic auth string: dG9vbHMvZGlzY292ZXJ5LWxvYWQuc2g=
[GIN] 2017/04/28 - 18:21:15 | 401 |      55.948s | 192.168.1.1 |   GET     /api/v3/bootenvs
dr-provision2017/04/28 22:21:20.085661 Bad auth header: Basic
[GIN] 2017/04/28 - 18:21:20 | 401 |      42.698s | 192.168.1.1 |   GET     /api/v3/bootenvs</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-28 22:22</div><div class="msg">Can't login anymore.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-29 02:05</div><div class="msg">Huh?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-29 02:06</div><div class="msg">@newgoliath - selinux could keep explode iso from doing its explode work in the local directory or /var/lib/tftpboot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-29 02:06</div><div class="msg">I haven't tried on a system selinux enabled.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-29 02:07</div><div class="msg">With regard to auth, the RS_KEY should be username:password or -U and -P should be used.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-29 02:07</div><div class="msg">Make sure RS_TOKEN is not set.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-29 02:08</div><div class="msg">@spencerwjensen - missing the provisioner tab means that the containers didn't come up correctly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-29 02:09</div><div class="msg">cd digitalrebar/deploy/compose</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-29 02:09</div><div class="msg">docker-compose ps</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-29 02:09</div><div class="msg">wait - start over - host should be HOST.  You may get a in wonky mode that way.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-04-29 02:10</div><div class="msg">Rerun the run-in-system command.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-04-29 05:39</div><div class="msg">Wow! Thanks @galthaus! I will give that a shot! </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 03:19</div><div class="msg">@greg - you going to be at DOD Austin this year?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 03:23</div><div class="msg">Yes - I think the plan is for all of us to be around.  Victor, Rob, and I.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 03:24</div><div class="msg">Nice, would be great to meet you all?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 03:24</div><div class="msg">Yes - put real faces with people.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 03:25</div><div class="msg">I hear there?s no Uber/Lyft down there yet; what?s the local cab service(s)? (Don?t plan on renting a car?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 03:26</div><div class="msg">There are replacements, but I'm not sure what they are.  Should be able to google.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 03:26</div><div class="msg">OK</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 03:28</div><div class="msg">It is a little funky.  There are cabs, but @zehicle may know.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 03:57</div><div class="msg">Did some research - there?s some Austin ride-share services available ? downloaded apps for RideAustin and Fasten</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 03:57</div><div class="msg">I need to get out and eat BBQ / maybe see some music when I?m down there? :grinning:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 03:59</div><div class="msg">Yes -</div></div></div><br/>
</div></body></html>