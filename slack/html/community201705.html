<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:13</div><div class="msg">I've done an isolated install, created a subnet (on my eth2, overlapping the subnet already on the NIC) and when the machine rebooted PXE, drp showed logs of it discovering it, but then the dr-provisioner process died and now the UI hates the default password.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:13</div><div class="msg">I restarted the process with the same command - ./dr-provisioner --etc...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:13</div><div class="msg">[sic dr-provision]</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:14</div><div class="msg">for the webserver, go back the the root (w/o UI)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:15</div><div class="msg">BTW, got around the explode issue by turning off selinux. :(</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:16</div><div class="msg">tried to just call the IP and port, but creds still failed.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:17</div><div class="msg">It forwarded to /ui</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:17</div><div class="msg">dr-provision2017/05/01 16:16:46.489545 Bad auth header: Basic</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 16:20</div><div class="msg">okay - dr-provision died.  I've been see some timeouts on DHCP writes.  I'm going to address that.  UI hating the default password.  seems strange.  for the UI, it is easies to use https://&lt;ip&gt;:8092/ui/?token=rocketskates:r0cketsk8ts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 16:20</div><div class="msg">at least for me.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:21</div><div class="msg">Thanks, Greg.  token= works.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 16:23</div><div class="msg">For you selinux issue, was that your isolated install or the "production" install?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:23</div><div class="msg">only ever tried ISOLATED</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 16:24</div><div class="msg">okay - wow - so selinux prevent updates to a local directory.  thanks.  I'll add that info to the issue.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:26</div><div class="msg">My dhcp client host is gone. :(</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:27</div><div class="msg">IPMI port not plugged in for that host. :(</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 16:27</div><div class="msg">yikes - did we make it worse?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:28</div><div class="msg">failing the DHCP -&gt; TFTP handoff ... maybe the host will timeout somehow.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:28</div><div class="msg">Can tell if "nexthost" ever made it to the client.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 16:29</div><div class="msg">How many machines?  I just found something on that myself.  Trying to isolate and fix.  I have something that makes it "better".  Not sure it completely fixes it.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:29</div><div class="msg">Just one.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:29</div><div class="msg">I'm off to that datacenter at the end of the week anyway.   More serial cables - belt and suspenders.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 16:30</div><div class="msg">hmm - didn't see it with just one.  More with 4 - though if drp is seeing extra dhcp requests, we'll still read them to ignore them.  I have a timeout on writes that seems to make things worse.  New code in a bit that removes that write timeout.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 16:31</div><div class="msg">There are two NICs on another host that are making DHCP client noise.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 16:31</div><div class="msg">nope - still get it more.  Research on my side.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 17:40</div><div class="msg">@galthaus Greg - do you have time to Skype. I only got 1 success out of 16. Default CentOS copy of kickstart is partitioning badly and disk is full even though it is a 1 TB drive.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 17:51</div><div class="msg">@greg - On <a href="http://provision.readthedocs.io/en/latest/doc/arch/data.html#template">http://provision.readthedocs.io/en/latest/doc/arch/data.html#template</a> I don?t see entries for:
.Env.OS.Family
.Env.OS.Version
- since they are used in the templates (at least for U16.04 preseed and post-install), perhaps they should be documented?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 18:06</div><div class="msg">@intendo - not at the current moment.   You are using DR.  From Sledgehammer, you can see the drive order and what the drives are.  Is there an extra USB drive or something messing with enumeration.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 18:07</div><div class="msg">@wdennis - okay - Yes - they should be.  The ubuntu/debian templates need them.  Kinda.  They are part of the bootenv values and on settable as parameters on the machine or profiles.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:08</div><div class="msg">OK - maybe I?ll talk to you guys about joining the docs team when I see you all in a few days - since I?m ?beginner mind? and trying to learn this, I think I may be able to contribute</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:09</div><div class="msg">So, another q - what?s the best (easiest) way of updating DRP to latest (stable)?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 18:09</div><div class="msg">that would be cool.  Just need to add it to the pile of things to get around to.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 18:09</div><div class="msg">Have a PR on that in just a bit.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:10</div><div class="msg">Want to try adding a profile for a group of machines to set default params, then apply to machines</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:11</div><div class="msg">Not sure I?m on a version that can do that ? 
[dradmin@dr-admin ~]$ ./drpcli version
Version: v2.9.1003-tip-73-8918047a73649afac5db926a254a8af88a8cefe5</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 18:11</div><div class="msg">drpcli profiles</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:12</div><div class="msg">```
[dradmin@dr-admin ~]$ ./drpcli profiles
Error: unknown command "profiles" for "drpcli"
Run 'drpcli --help' for usage.
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 18:13</div><div class="msg">don't have it.  I was pretty sure, but now we know.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:22</div><div class="msg">@greg - so the question is, how to upgrade an existing DRP install?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 18:27</div><div class="msg">Yes - I know.  I have a doc for that.  I haven't committed it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 18:29</div><div class="msg">trying to render to show you.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:30</div><div class="msg">Ah, OK</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:30</div><div class="msg">Thx</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 18:31</div><div class="msg">```Upgrade
While not glamorous, you can install over the existing code and restart. That is about it. Here are few more details.

Steps
For isolated Install, update this way:

Stop dr-provision:

killall dr-provision
Return to your install directory

Run the install again

rm sha256sums
# Remeber to use --drp-version is you want something other than stable
# Curl/Bash from quickstart if you truly believe, or this:
tools/install.sh --isolated install
Restart dr-provision, as stated by the tools/install.sh output.

For non-isolated Install, update this way:

Stop dr-provision, using your system method of choice

systemctl stop dr-provision
or

service dr-provision stop
Install new code - How ever you installed before, do it again. Install

Start up dr-provision

systemctl start dr-provision
or

service dr-provision start
Version to Version Notes
In this section, notes about migrating from one release to another will be added.

v3.0.0 to v3.0.1
If parameters were added to machines or global, these will need to be manually readded to the machine or global profile, respectively. The machine?s parameter setting cli is unchanged. The global parameters will need to be changed to a profiles call.

drpcli parameters set fred greg
to

drpcli profiles set global fred greg
v3.0.1 to v3.0.2
Nothing known to be required to be done.```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 18:31</div><div class="msg">something</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:48</div><div class="msg">OK, looks good?
```
[dradmin@dr-admin ~]$ ./drpcli version
Version: v3.0.1-0-730b0a596e1b6fa2103f52e3d19fb9c3f9b2a9af
[dradmin@dr-admin ~]$ ./dr-provision --version
dr-provision2017/05/01 14:33:39.707080 Version: v3.0.1-0-730b0a596e1b6fa2103f52e3d19fb9c3f9b2a9af
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:51</div><div class="msg">:cry: Still no ?profiles? subcommand to drpcli?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 18:53</div><div class="msg">```
Available Commands:
  autocomplete Rocket-Skates CLI Command Bash AutoCompletion File
  bootenvs     Access CLI commands relating to bootenvs
  files        Commands to manage files on the provisioner
  help         Help about any command
  interfaces   Access CLI commands relating to interfaces
  isos         Commands to manage isos on the provisioner
  leases       Access CLI commands relating to leases
  machines     Access CLI commands relating to machines
  prefs        List and set DigitalRebar Provision operational preferences
  reservations Access CLI commands relating to reservations
  subnets      Access CLI commands relating to subnets
  templates    Access CLI commands relating to templates
  users        Access CLI commands relating to users
  version      Rocket-Skates CLI Command Version
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:02</div><div class="msg">hmm - okay trying to look</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:03</div><div class="msg">of course not - it is still in tip.  Need to cut a release to include it.  Sigh.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:03</div><div class="msg">Was hoping to have some additional updates with that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:44</div><div class="msg">No worries- will work with what I have atm </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:45</div><div class="msg">I do have a problem tho :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:46</div><div class="msg">Booted a node to SH, came up in the UX, set the bootenv to U16.04 install; rebooted on PXE and booted back into SH again...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:47</div><div class="msg">What's the l/p for SH again? Not "rebar / rebar1" or "rocketskates / RocketSkates"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:48</div><div class="msg">root / rebar1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:49</div><div class="msg">I still have the "ubuntu-16.04-install" bootenv showing in UX, think it got messed up by update?? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:50</div><div class="msg">Update won't update the templates or bootenvs.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:51</div><div class="msg">Ok, logged in to the node which is up on SH, it does have the expected IP addr...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:52</div><div class="msg">The UX doesn't show the nodes MAC addr, that's what it actually keys off of right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:52</div><div class="msg">no - ip</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:52</div><div class="msg">Really</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:53</div><div class="msg">dhcp uses mac to map to ip.  templates are rendered by ip usually.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:53</div><div class="msg">Thought it would be MAC...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:53</div><div class="msg">Yes, OK</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:53</div><div class="msg">because of the pxeliunx chain.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:54</div><div class="msg">So you are depending on DHCP to hand out dame IP between reboots (which should be the case...)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:54</div><div class="msg">yes .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:57</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F5743SYDS/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F5743SYDS/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:57</div><div class="msg">So you can see the BootEnv is set to the U16.04 install...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 19:58</div><div class="msg">Rebooting the node again, will see what happens...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:59</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 19:59</div><div class="msg">hmm - not sure.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:02</div><div class="msg">Nope, got SH again...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:04</div><div class="msg">In the UI, check the machines listing and see if two nodes have that IP.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:05</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F57SCEU78/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F57SCEU78/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:05</div><div class="msg">it got a different IP.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:07</div><div class="msg">Only during that phase I guess -- it has the "correct" one now on my DHCP server...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:08</div><div class="msg">Okay - sooooo - I know what is going on, I think, and we do some special "magic" in our DHCP server to deal with it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:08</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F56FL5FJM/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F56FL5FJM/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:09</div><div class="msg">No leases recorded for 192.168.1.111</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:09</div><div class="msg">Are those bindings (reserved) or are they current state?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:10</div><div class="msg">Current state</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:10</div><div class="msg">DHCP servers are supposed to pay attention to the client identifier field of the request.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:11</div><div class="msg">Our DHCP server only pays attention to the chaddr field - MAC Address.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:12</div><div class="msg">My DHCP comes from a pfSense OS box</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:12</div><div class="msg">That way pxelinux, linux, ipxe - get the same ips.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:12</div><div class="msg">looking.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:12</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F575QFSDT/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F575QFSDT/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:13</div><div class="msg">This has always worked on Cobbler, and DRP 2.9</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:13</div><div class="msg">(192.168.1.148 is IP of DRP server)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:14</div><div class="msg">okay - not sure then.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:15</div><div class="msg">But the assignment of the IP isn't from DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:15</div><div class="msg">Not sure why that would change anything.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:17</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F5730V598/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F5730V598/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:18</div><div class="msg">Here's how I started DRP </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:24</div><div class="msg"> Doing a packet cap to see where that IP is coming from...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 20:28</div><div class="msg">yeah - with that , we shouldn't be run anything on port 67.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:57</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F56DEA524/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F56DEA524/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:58</div><div class="msg">Not quite sure how to interpret this...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 20:59</div><div class="msg">I see the pfSense router pinging IPs .1.111, .1.123, and finally .1.104 during the PXE boot process</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:00</div><div class="msg">Those IPs correspond to IPs I see on the node while it is PXE-booting</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:02</div><div class="msg">You DHCP server in this trace:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:02</div><div class="msg">Got a discovery and started the process by ping 1.111.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:02</div><div class="msg">It then got a request, I don't know with what content.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:03</div><div class="msg">It then got another discover, to which it started a ping on 1.123.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:03</div><div class="msg">It timed out and responded with an Offer.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:03</div><div class="msg">The offer was requested and acked.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:03</div><div class="msg">60 seconds or so later. a replease on 1.123 was done and soon there after the process repeats but with 1.104.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:05</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F576KA7N1/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F576KA7N1/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:05</div><div class="msg">Can you open the first request and check the server ip/id?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:05</div><div class="msg">You may have two dhcp servers running.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:05</div><div class="msg">Looks like the 3rd packet was a request for IP .1.111</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:07</div><div class="msg">I don't see the "Offer" packet from the pfSense box...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:07</div><div class="msg">(Or anywhere...)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:07</div><div class="msg">yeah - It isn't in the list.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:08</div><div class="msg">in that first request, there should be a server id or server identifier option?  That should be the IP of the DHCP server that gave the offer that request is using.  Since the packet is broadcast, it is supposed to be from a broadcast offer or a very late stage renew.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:08</div><div class="msg">Should only be one DHCP server running on this net - the pfSense router</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:08</div><div class="msg">(Which is where the packet cap came from)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:10</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F57TE1F8E/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F57TE1F8E/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:11</div><div class="msg">DHCP server ID is 192.168.1.254, which is the router</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:11</div><div class="msg">that looks good.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:12</div><div class="msg">On the request or discover that gets 1.104, can you look at the client identifier option (97), I think,</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:12</div><div class="msg">sorry 61</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:18</div><div class="msg">Now I'm pissed off enough to throw a hardware tap on the Ethernet segment to the server :rage:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:18</div><div class="msg">We'll get all them packets yet! </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:18</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:19</div><div class="msg">Did the client identifer look different for the second set of IP assignments?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:19</div><div class="msg">Minimum "inactive" lease time is 7200 sec?  I can't reduce it to debug?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:19</div><div class="msg">Or is that just a gui thing, and I can do what I want on CLI?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:19</div><div class="msg">inactive = reserved</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:20</div><div class="msg">that is, once it's successfully leased.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:20</div><div class="msg">oh - different person.  My brain kicked in.  Sorry.  checking.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:20</div><div class="msg">I erased all my leases on DRP, and I'm waiting kinda patiently.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:20</div><div class="msg">:-)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:20</div><div class="msg">no - reserved - is for things handed out by explicit reservation.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:21</div><div class="msg">active is for unkwown things reguardless of if we keep handing the same thing back.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:21</div><div class="msg">But, let me check the mins.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:21</div><div class="msg">Then perhaps I'm confused by terminology.  I thought "active" meant the DHCP server is actively trying to establish that IP on the client.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:21</div><div class="msg">and "inactive" mean's it's set - reserved or dynamic.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:21</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:21</div><div class="msg">bad terms possibly on our part.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:22</div><div class="msg">The "Active" lease time is for the addresses in the "Active" range of the subnet.  The "Active" range of the subnet is used for unknown / unreserved nodes that are trying to DHCP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:23</div><div class="msg">Reserved Lease time is for entries that have explicit Rersevation objects in the database.  that map a MAC to an IP.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:23</div><div class="msg">gotcha.  not standard protocol definitions.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:24</div><div class="msg">probably not.  matches DR previous definitions.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:24</div><div class="msg">7200 is hard-coded minimum on back end.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:24</div><div class="msg">60 is hard-coded minimum on back end for active.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:24</div><div class="msg">Makes sense of "reserved."</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:25</div><div class="msg">and 60 is fine, as long as the DHCPd doesn't timeout waiting to set the value.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:25</div><div class="msg">May want to expose those as preferences at some point.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:25</div><div class="msg">because then there's possibly a race condition - between "active - unset" and "active - set"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:25</div><div class="msg">Yeah - 60 is tight in my opinion, but matches what we've run</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:26</div><div class="msg">for DR.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:26</div><div class="msg">If my dhcp client wakes up again ($DIETY willing) and asks for and IP, what's the chance it'll get sledge or something on it?  Any special magic to install centos-7?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:27</div><div class="msg">undiscovered, high for sledgehammer.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:27</div><div class="msg">other than drpcli bootenvs install centos and setting it as the default?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:27</div><div class="msg">Already discovered, gets what bootenv is set to.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:27</div><div class="msg">not default.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:27</div><div class="msg">I see no "machiens"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:28</div><div class="msg">yes default.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:28</div><div class="msg">sorry</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:28</div><div class="msg">hmm no machiens  then sledgehammer didn't finish or get loaded.  Soooo, sledgehammer is the dream of a booting unknown machine.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:33</div><div class="msg">So, sledgehammer is in a dream state?  nmap and ping show nothing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:34</div><div class="msg">well - if the node pxes, then you should get sledgehammer.  SSH should be open and root/rebar1 should allow you in, if it is the real sledgehammer.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:34</div><div class="msg">sad face</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:35</div><div class="msg">http://provision.readthedocs.io/en/latest/doc/workflows.html  &lt;- nicely done.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:36</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F5723DED9/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F5723DED9/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:37</div><div class="msg">Hey guys, so I'm still trying to get the "provisioner" up. I've started over from scratch running the following:

`sudo ./run-in-system.sh --deploy-admin=local --con-provisioner --con-dhcp --access=HOST --admin-ip=10.54.4.118/23`

and everything seems to have worked. When I run `docker-compose ps` I can see "compose_provisioner_1" and it says it is up. But in the UX, I still do not see the "Provisioner" tab. any thoughts?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:37</div><div class="msg">Don't understand it - I see the node do a discover, don't see an offer back, but then do a request for .1.111</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:39</div><div class="msg">@wdennis - yeah - I don't understand that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:40</div><div class="msg">@spencerwjensen - provisioner tab requires revproxy to find the provisioner.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:41</div><div class="msg"><a href="https://ip">https://ip</a> of admin node/health</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:41</div><div class="msg">That should show some nice things.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:41</div><div class="msg">Also in the ux deployments, is the system deployment green or yellow?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:42</div><div class="msg">@greg - maybe this is the problem??</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:43</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F56H1M881/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F56H1M881/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:44</div><div class="msg">See a bunch of these in a row, then see the node booting sledgehammer </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:45</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F57UEV2JK/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F57UEV2JK/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:45</div><div class="msg">so - we don't build those files.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:46</div><div class="msg">We rely on IPs.  We have never done that for DRP and DR hasn't done it for years.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:47</div><div class="msg">So that's a normal part of the PXE process?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:48</div><div class="msg">yeah - pxelinux walks a set of files to get its info.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:48</div><div class="msg">Ah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:48</div><div class="msg">eventually getting to pxelinux.cfg/default</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:48</div><div class="msg">Yes, I see that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:49</div><div class="msg">The preceding ones are IP-based, the that mac file, and then default.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:49</div><div class="msg">from /health:
```
{"Map":{"dhcp-mgmt-service":["10.54.4.118:6755"],"dns-mgmt-service":["172.17.0.7:6754"],"rebar-api-service":["172.17.0.11:3000"],"rule-engine-service":["172.17.0.2:19202"]},"Matcher":{"dhcp-mgmt-service":"^dhcp/(.*)","dns-mgmt-service":"^dns/(.*)","rebar-api-service":"^rebar-api/(.*)","rule-engine-service":"^rule-engine/(api/.*)"},"Default":"rebar-api-service"}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:50</div><div class="msg">@spencerwjensen, that would do it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:50</div><div class="msg">Well, still have NO idea where the node is getting a -.1.111 IP from...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:50</div><div class="msg">and when I check the system deployment it is actually red right now... in the past it was always yellow, never green... but now it is red because of dhcp-mgmt_service.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:51</div><div class="msg">@spencerwjensen - you have a problem somewhere.  Those have timeout and are red.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:51</div><div class="msg">cd digitalrebar/deploy/compose</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 21:51</div><div class="msg">Let's boot a different node &amp; see what happens...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:51</div><div class="msg">docker-compose logs -f provisioner</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:51</div><div class="msg">and see what spits out if anything.  It could be looping and failing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:52</div><div class="msg">Consul is up and somethings seem to have registered.  So, that is good.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:53</div><div class="msg">&gt; to opencrowbar.s3-website-us-east-1.amazonaws.com port 80: Connection timed out
&gt;provisioner_1  | Calling cmd: /usr/local/entrypoint.d/00-wait-for-ip.sh
&gt;provisioner_1  | Calling cmd: /usr/local/entrypoint.d/05-start-samba.sh
&gt;provisioner_1  | Calling cmd: /usr/local/entrypoint.d/10-wait-for-consul.sh
&gt;provisioner_1  |   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
&gt;provisioner_1  |                                  Dload  Upload   Total   Spent    Left  Speed
&gt;100    18  100    18    0     0   3420      0 --:--:-- --:--:-- --:--:--  3600
&gt;provisioner_1  | Calling cmd: /usr/local/entrypoint.d/15-get-sledgehammer.sh
&gt;provisioner_1  |   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
&gt;provisioner_1  |                                  Dload  Upload   Total   Spent    Left  Speed
&gt; 0     0    0     0    0     0      0      0 --:--:--  0:02:06 --:--:--     0curl: (7) Failed to connect to opencrowbar.s3-website-us-east-1.amazonaws.com port 80: Connection timed out</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:54</div><div class="msg">it appears to be timing out trying to connect to s3?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:54</div><div class="msg">yes - yes it does</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:54</div><div class="msg">It attempts to get sledgehammer</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:55</div><div class="msg">I am behind a proxy but I have set the proxy environment variables for the system, for docker, and for yum. </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 21:55</div><div class="msg">are there any specific proxy settings I need to set elsewhere?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 21:55</div><div class="msg">hmmm - okay - just a minute.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:00</div><div class="msg">This is a bug like thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:01</div><div class="msg">in digitalrebar/deploy/compose</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:01</div><div class="msg">cat access.env</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:01</div><div class="msg">does it have any proxy vars?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:02</div><div class="msg">&gt;USE_OUR_PROXY=YES
&gt;EXTERNAL_IP=10.54.4.118/23
&gt;FORWARDER_IP=
&gt;CONSUL_JOIN=10.54.4.118
&gt;DR_START_TIME=1493670448
&gt;RUN_NTP=YES
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:02</div><div class="msg">So add to that:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:02</div><div class="msg">UPSTREAM_HTTP_PROXY=$http_proxy
UPSTREAM_HTTPS_PROXY=$https_proxy
UPSTREAM_NO_PROXY=$no_proxy</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:03</div><div class="msg">oh nice!! okay, once added do I need to restart any services?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:03</div><div class="msg">Replace the $http_proxy, $https_proxy and $no_proxy with your items</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:03</div><div class="msg">yes - this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:03</div><div class="msg">docker-compose restart provisioner</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:04</div><div class="msg">Soooo what is going on and an issue to open -</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:05</div><div class="msg">The system canhaz a web proxy.  When it does, it uses that for everything.  You can specify the upstream for our proxy to use, but it tries to get it from the local system.  squid/webproxy container.  The problem is that the provisioner bypasses that proxy on start up to load sledgehammer and uses those upstream vars.  Those aren't set when using our internal proxy.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:06</div><div class="msg">So we have a start-up race condition when proxies are involved.  I guess we haven't been testing it that much since we left Dell.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:06</div><div class="msg">Time to feed the :bear:!</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:07</div><div class="msg">Ha ha!! That's funny! I'm at Intel, so I totally know what you mean! :-P</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:09</div><div class="msg">@spencerwjensen - I may want to talk with you at some point about hardware.  and find out more what you are doing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 22:09</div><div class="msg">Whelp, same thing on a different node... boots 1st time to SH as expected, but then after setting the bootenv to U16.04-install, it continues to boot SH every time thereafter...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:12</div><div class="msg">Happy to chat offline! I work in the Data Center Solutions Group. Currently using Cobbler, and Ansible, amongst other tools to manage racks of servers in our labs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:14</div><div class="msg">yeah - @wdennis - I'm not sure how this ever worked for you.  I think the DHCP server is working correctly, but we make this work with ours.  The client identifiers are different and the server gives out different addresses unless you MAC lock them in the DHCP server.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:14</div><div class="msg">You could try that if it is an option.  Bind the mac to the same address all the time.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:15</div><div class="msg">cobbler may be building the mac files to work with pxelinux / dhcp badness.  I'll need to think about that.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:15</div><div class="msg">So I added the proxy info as you said and restarted the service but still seeing a timeout in the logs. here's what i added:
&gt;USE_OUR_PROXY=YES
&gt;EXTERNAL_IP=10.54.4.118/23
&gt;FORWARDER_IP=
&gt;CONSUL_JOIN=10.54.4.118
&gt;DR_START_TIME=1493670448
&gt;RUN_NTP=YES
&gt;UPSTREAM_HTTP_PROXY=http://&lt;url&gt;:&lt;port&gt;/
&gt;UPSTREAM_HTTPS_PROXY=http://&lt;url&gt;:&lt;port&gt;/
&gt;UPSTREAM_NO_PROXY=&lt;no_proxy list&gt;</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:16</div><div class="msg">checking again.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:19</div><div class="msg">hmm - that should have worked.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:21</div><div class="msg">well - that is sad.  So, we can do this instead.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:21</div><div class="msg">when you run this do you get stuff?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:21</div><div class="msg">ls ~/.cache/digitalrebar/tftpboot</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:22</div><div class="msg">yup!</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:22</div><div class="msg">&gt;[root@master compose]# ls ~/.cache/digitalrebar/tftpboot/
&gt;files  ipxe.efi  ipxe.pxe  isos  machines  nodes  pxelinux.cfg  sledgehammer</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:22</div><div class="msg">in the "root" directory right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:22</div><div class="msg">okay - you will need to a couple of things but give me a minute.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:23</div><div class="msg">yeah - that is fine.  That is mounted into the containers to avoid downloading all the time.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:23</div><div class="msg">oh gotcha! </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:24</div><div class="msg">sidebar.. is this Rob? or Greg? every time you type a message I see 2 names pop up! LOL</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 22:24</div><div class="msg">Hah @spencerwjensen - another Cobbler/Ansible guy, nice to meet you :grinning:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:24</div><div class="msg">:-P Likewase @wdennis </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:25</div><div class="msg">Greg</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 22:25</div><div class="msg">@greg Idk, everything was working swell with DRP 2.9 on the same router... maybe something in the upgrade mangled something??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:25</div><div class="msg">if you do slack, I can invite you to that instead.  It is "better".</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:25</div><div class="msg">LOL! yes yes! I love slack! :-)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:26</div><div class="msg">maybe - but I'm not sure.  @wdennis</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 22:26</div><div class="msg">As in, more people use Slack :wink:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:26</div><div class="msg">LOL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:26</div><div class="msg">Let me check.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:26</div><div class="msg">spencerwjensen I need an email.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:27</div><div class="msg">@spencerwjensen: - this as root</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:27</div><div class="msg">```
# Get sledgehammer

TFTPROOT=~/.cache/digitalrebar/tftpboot
PROV_SLEDGEHAMMER_SIG=a42c8c66a60b77ca1c769b8dc7e712f6644579ed
PROV_SLEDGEHAMMER_URL=<a href="http://opencrowbar.s3-website-us-east-1.amazonaws.com/sledgehammer">http://opencrowbar.s3-website-us-east-1.amazonaws.com/sledgehammer</a>

SS_URL=$PROV_SLEDGEHAMMER_URL/$PROV_SLEDGEHAMMER_SIG
SS_DIR=${TFTPROOT}/sledgehammer/$PROV_SLEDGEHAMMER_SIG
mkdir -p "$SS_DIR"
if [[ ! -e $SS_DIR/sha1sums ]]; then
    (curl -fgL -o "$SS_DIR/sha1sums" "$SS_URL/sha1sums")
    while read f; do
        (curl -fgL -o "$SS_DIR/$f" "$SS_URL/$f")
    done &lt; &lt;(awk '{print $2}' &lt;"$SS_DIR/sha1sums")
    if ! (cd "$SS_DIR" &amp;&amp; sha1sum -c sha1sums); then
        echo "Download of sledgehammer failed or is corrupt!"
        rm -f "$SS_DIR/sha1sums"
        exit 1
    fi
fi
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 22:27</div><div class="msg">I guess I'll burn it down and start over again tomorrow with a fresh copy... it's dinner time now</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:27</div><div class="msg">oh right! spencerwjensen@gmail.com is my personal or spencer.w.jensen@intel.com. Either is fine to use for slack.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:28</div><div class="msg">Yeah - I need to head out as well.  I'll make a note to diff through some things, but not sure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:28</div><div class="msg">sent to gmail</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:31</div><div class="msg">I need to head home and do dad things.  Back later tonight.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:31</div><div class="msg">:-) thanks for the help! That last script seems to be pulling stuff! I'll join the slack channel and talk to you later!</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-01 22:31</div><div class="msg">thanks again!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 22:32</div><div class="msg">np - @wdennis - I'll try and put out a release tonight with "fixes" for a lot your requests.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-01 22:32</div><div class="msg">has joined #community201705</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-01 22:52</div><div class="msg">in my system deployment, the "dhcp-mgmt_service" role is currently red and is currently set to "null". are there any examples of what this should look like?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 23:17</div><div class="msg">once the script finished, did you restart the provisioner?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-01 23:17</div><div class="msg">@spencerj - you will need to restart the provisioner.  once that finishes, you will need to retry the dhcp server role.  You can do that from the annealer page in the UI (the sprially button in the top right).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-01 23:21</div><div class="msg">Super frustrating- after totally wiping &amp; reinstalling DRP, the nodes refuse to boot anything but SH still, even when bootenv is reset... :rage:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 02:49</div><div class="msg">oh - sorry.  I'm really certain that it is and I wonder if the lease cache in your dhcp server could be messing with it.  It may not be simple to add a mac write out function.  It might only work for lpxelinux.0, but that is what you are using.  I think that is why we dropped it.  The others didn't use it.  Anyway, I'll think about.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 02:50</div><div class="msg">@intendo - let's try and hook up.  Tuesday.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 04:02</div><div class="msg">@greg - I intend to fire up my old Cobbler system tomorrow (just have to get some OS installs done!) and I?ll do a packet capture on one of the nodes I install, we?ll see just what Cobbler does?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 04:08</div><div class="msg">sorry - be back stepped.  I don't know what is going on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 04:19</div><div class="msg">I don't see any changes in the log that would account for this, but ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 04:21</div><div class="msg">OK, digging in to my pfSense router that is serving the DHCP; i see the following 3 stanzas in the dhcpd.leases file (running ISC dhcpd 4.2.6 on FreeBSD):
```
lease 192.168.1.111 {
  starts 1 2017/05/01 21:23:51;
  ends 1 2017/05/01 21:25:26;
  tstp 1 2017/05/01 21:25:26;
  cltt 1 2017/05/01 21:23:51;
  binding state free;
  hardware ethernet 00:25:90:ed:a2:04;
  uid "\000\000\000\000\000\000\000\000\000\000\000\000%\220\355\242\004";
}
lease 192.168.1.123 {
  starts 1 2017/05/01 21:24:44;
  ends 1 2017/05/01 21:25:15;
  tstp 1 2017/05/01 21:25:15;
  cltt 1 2017/05/01 21:24:44;
  binding state free;
  hardware ethernet 00:25:90:ed:a2:04;
  uid "\001\000%\220\355\242\004";
}
lease 192.168.1.104 {
  starts 1 2017/05/01 21:25:26;
  ends 1 2017/05/01 23:25:26;
  tstp 1 2017/05/01 23:25:26;
  cltt 1 2017/05/01 21:25:26;
  binding state free;
  hardware ethernet 00:25:90:ed:a2:04;
}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 04:22</div><div class="msg">(I put them in the order that the IPs showed up in the PXE boot console output, which is correlated by the ?starts? time)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 04:24</div><div class="msg">Not sure, but looks like only the ?uid? value (or the lack of one) is the differentiating factor? Wonder if ISC dhcpd hands out a different IP addr lease for every tuple of MAC (?hardware ethernet?) and uid value (or lack of uid value)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 04:26</div><div class="msg">Do you know where the ?uid? value is getting set from - the discovery packet?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 04:43</div><div class="msg">yes - this is what I've been saying but not well.  We had this problem with ISC DHCP.  We wrote our own for this.  ISC has an opion that basically says ignore uid and sticks with mac only.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 04:45</div><div class="msg">uid is option 61 in the discovery packet.  The pxe prom on the nic, the kernel, isc dhcp server, and lpxelinux can and sometimes does use different ones.  You have three in this case.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 04:55</div><div class="msg">@wdennis - do you know what version of ISC DHCP they are using?  I found this option and we had to use dhcp version &gt; 4.3.  ignore-client-uids in the server config file will make the server only pay attention to mac instead of client identifier.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 05:01</div><div class="msg">Yeah - that is what we used to do when we had ISC DHCP in the mix.  We built 4.3.X because it wasn't in the distros at the time, added that option, and all was good.  We got tired of fighting ISC and wrote our own - rebar-dhcp.  That is the basis for dr-provision.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 11:06</div><div class="msg">
Currently it's 4.2.6 -- but I'm running a downlevel version of pfSense at this point; perhaps a newer version has a higher ver of ISC dhcpd - I should upgrade in any case</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 11:08</div><div class="msg">Unfortunately on the network I'm running DRP on, I have to provide DHCP from the router...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 15:15</div><div class="msg">OK, updated my pfSense router to latest, now I see this option in the DHCP server controls:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 15:15</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F5897MKDL/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F5897MKDL/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 15:16</div><div class="msg">Checked it, will see what we get now...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 15:31</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F57GVSH52/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F57GVSH52/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 15:31</div><div class="msg">That was it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 15:35</div><div class="msg">Yeah!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 15:37</div><div class="msg">That is a bad part of the spec.  I was in the IETF meetings when DHCP was being defined.  We were more focused on clients getting IPs and not Servers installing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 15:46</div><div class="msg">i just read that the UID was to be used to differentiate between systems that dual-booted OS?s?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-02 15:47</div><div class="msg">That sounds like a post-hoc justification. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 15:56</div><div class="msg">probably, but we never used DHCP for things other than clients originally.  The craze at the time was clients getting on networks, and diskless "dumb" terminals.  Heck we were still installing AIX from floppies at the time.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 15:57</div><div class="msg">nobody trusted DHCP for servers that had to have a known good address.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-02 16:00</div><div class="msg">nods.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-02 16:01</div><div class="msg">These days, in the time of massive server farms and teardown/rebuild instead of fix-in-place, though...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 16:06</div><div class="msg">yeah - heck the follow-spec that was worked by not done was MobileIP.  It was to be a layer on top of DHCP that allowed the networking stack to have a constant IP while you roamed DHCP subnets.  I started to get that working on AIX (we actually had AIX client laptops at the time), but we stopped when the spec started getting hard to implement and people started making reconnection a priority in clients.  It just wasn't a problem.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 16:44</div><div class="msg">Hey @greg ! restarting the services seemed to do the trick. now I have the default Network and DHCP subnet. I'm not ready to open the range to my entire lab yet. I wanted to play around a bit more with the provisioner first. is it possible to add individual MACs somewhere?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 16:45</div><div class="msg">in Cobbler I could do this through the dhcp files.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-02 16:49</div><div class="msg">hm... you looking at just storing what mac address is associated with a machine, or more looking at making sure the same mac address always gets the same address?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 16:51</div><div class="msg">I'm looking at getting rid of the dhcp range temporarily and statically assigning IPs to MACs.. If it works the same as cobbler, the provisioner should ONLY do something if DHCP request comes from a machine with a known MAC.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 16:51</div><div class="msg">does that make sense?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-02 16:51</div><div class="msg">Yes, :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-02 16:53</div><div class="msg">The UI does not have support for it yet, but you are looking for DHCP reservations.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 16:54</div><div class="msg">@spencerj - Remind me, are you using DR or DRP?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 16:54</div><div class="msg">different commands for each.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 16:54</div><div class="msg">LOL... I think just DR.. I'm not sure the difference though.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 16:56</div><div class="msg">I think DR as well from what you told me earlier.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 16:58</div><div class="msg">okay :slightly_smiling_face: so you have to set the reservations from the CLI?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:05</div><div class="msg">DR is less like cobbler than that, but ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:14</div><div class="msg">oh okay, but are reservations possible?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:17</div><div class="msg">Yeah - thinking about how to do it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:18</div><div class="msg">umm - @spencerj  - did you ever tell me what your goal is with DR and/or DRP?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:19</div><div class="msg">I don't think so! :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:19</div><div class="msg">What I mean is - do you just want a cobbler replacement.  Set a mac/IP map and install os, walk away?  Or do you want workload orchestration, IPMI management, eventing, post install configuration in orchestrated way.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:21</div><div class="msg">currently we just have the "Cobbler" piece were we have a MAC/IP mapping. known or "registered" systems can boot and get the PXE payload to build whatever profile (OS + Kickstarts) we assigned..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:21</div><div class="msg">then AFTER the cobbler process we are manually kicking off the "configuration" stuff (Ansible).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:24</div><div class="msg">we also have IPMI/BMC on all of our machines but again.. each of these pieces is sort of separate from one another. we have scripts for IPMI automation... scripts for Cobbler automation, and more scripts for Ansible automation.. but nothing really tying them together very well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:25</div><div class="msg">In a past life I was a TeamCity admin so I was starting to look at some options there with a TeamCity/Jenkins type setup to manage the scheduling/event side of things.. but then I struck just the right search query into Google and Digital Rebar popped up.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:26</div><div class="msg">I kid you not, in ALL my past Googling, searching high and low for bare metal provisioning solutions, I never found DR.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:26</div><div class="msg">we are finally trying to do that better.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:26</div><div class="msg">oddly enough, it was actually a search string of "cobbler docker" that did the trick and I found some blog post that Rob had written! LOL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:28</div><div class="msg">okay - good to know.  We can do all of that over time.  The challenge is that DR is opinionated on how is should be used.  We are trying to undo that with DRP and slowly in DR.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:28</div><div class="msg">We aren't there yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:28</div><div class="msg">By default DR wants to manage tightly IPs through DHCP.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:29</div><div class="msg">So the "Provisioner" in DR is not the same as DRP?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:30</div><div class="msg">no - that is a coming change.  DR's provisioner is the basis for DRP, but they are not the same.  They have similar pieces, but DRPs is much more fleshed out, documented, and directly control able.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:32</div><div class="msg">ohhhhh... okay.. I misread the docs then.... I thought DRP was standalone but was also the "Provisioning" piece in DR..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:32</div><div class="msg">that makes sense now! :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:33</div><div class="msg">So.. based on what I've said so far then.. should I start with DRP?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:35</div><div class="msg">well - it matches your current model better.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:36</div><div class="msg">our environment is very "fungible".. constantly rebuilding and re-purposing HW... but all of the systems are "known", as in we want to control the IP assignment and avoid "rogue" systems building.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:36</div><div class="msg">You have IPMI system, Provsion system, other system.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:36</div><div class="msg">DRP could be the Provision System</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:36</div><div class="msg">I'm working to hook it into DR.  To drive events and such.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:36</div><div class="msg">DRP may be easier to play with it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:37</div><div class="msg">It has a Reservation system.  You define MAC-&gt;IP reservations.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:37</div><div class="msg">You then create Machines that map IPs-&gt;BootEnvs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:37</div><div class="msg">BootEnvs are the OSes you want to install.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:37</div><div class="msg">The BootEnvs are like cobbler kickstart.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:38</div><div class="msg">The machines have parameters and/or profiles that all you to inject information globally or per node into the kickstarts.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:38</div><div class="msg">All with CLI or API or UI.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:39</div><div class="msg">The kickstarts are templated so that you can update machine values and chain bootenvs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:39</div><div class="msg"><a href="http://provision.readthedocs.io/en/latest/?badge=latest">http://provision.readthedocs.io/en/latest/?badge=latest</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:39</div><div class="msg">does DRP still use sledgehammer for discovery?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:39</div><div class="msg">I've been docing like fiend.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:39</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:39</div><div class="msg">ha ha ha!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:39</div><div class="msg"><a href="http://provision.readthedocs.io/en/latest/doc/operation.html#creating-a-reservation">http://provision.readthedocs.io/en/latest/doc/operation.html#creating-a-reservation</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:40</div><div class="msg">okay! and do the BootEnvs allow you to hook in "post" OS stuff? like Ansible Roles?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:40</div><div class="msg">wjat</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:40</div><div class="msg">What you've described is a subnet for base options set to reserved only.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:41</div><div class="msg">THen a bunch of reservations for your IP&gt;MAC maps.  This could include IPMI if you want to run DHCP bmcs, but ....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:41</div><div class="msg">Then create a machine (or let sledgehammer discover and create).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:41</div><div class="msg">Set the bootenv you want.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:44</div><div class="msg">okay! and does DRP use PXE or iPXE? or both? is one defaulted?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:44</div><div class="msg">by default, it serves files of lpxelinux.0, ipxe, and bootefi.*.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:44</div><div class="msg">oh swet!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:44</div><div class="msg">The image you use, is dependent upon what you want to boot from or some magic.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:44</div><div class="msg">*sweet!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:45</div><div class="msg"><a href="http://provision.readthedocs.io/en/latest/doc/arch/data.html#subnet">http://provision.readthedocs.io/en/latest/doc/arch/data.html#subnet</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:45</div><div class="msg">The options in the DHCP server are templated.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:46</div><div class="msg">You can do this insanity: ```{{if (eq (index . 77) "iPXE") }}default.ipxe{{else if (eq (index . 93) "0")}}lpxelinux.0{{else}}bootx64.efi{{end}}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:46</div><div class="msg">which says check option 77 for iPXE, use default.ipxe as the bootloader, if option 93 is 0 then use lpxelinux.0 otherwise use bootx64.efi</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:46</div><div class="msg">That way we handle ipxe, legacy bios, and uefi</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:47</div><div class="msg">Though the default is just: lpxelinux.0</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:47</div><div class="msg">because simple</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:47</div><div class="msg">LOL!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:48</div><div class="msg">in theory, you could use the same thing to jump to arm or 32bit or whatever.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 17:49</div><div class="msg">though I suppose ARM is a bad word for you. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:53</div><div class="msg">ha ha ha!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 17:53</div><div class="msg">It's okay. I forgive you for that profanity. :stuck_out_tongue_winking_eye:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 18:30</div><div class="msg">once I have the DRP code, how should I run the installer? I'm looking at the install docs for "install.sh". Are there only two ways to run? with or without --isolated?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-02 18:36</div><div class="msg">@spencerj I used the curl cmd to download the installer bundle, then ran the install.sh myself when I had vetted it. As I?m running a demo of it, I did create a ?drp? directory, put the install stuff there, and then ran the installer with ?--isolated? which keeps all the things within the dir you ran the installer in.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 18:45</div><div class="msg">okay.. so without the --isolated flag it will do a "normal" install?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 19:16</div><div class="msg">So I just ran the install.sh script and got this error:
```
cp: cannot stat ?assets/startup/dr-provision.service?: No such file or directory
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 19:16</div><div class="msg">when I `ls` that directory this is what I see:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 19:16</div><div class="msg">```
[infra@master drp-install]$ ls assets/startup/
rocketskates.service  rocketskates.sysv  rocketskates.unit
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 19:17</div><div class="msg">Oops.    </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 19:17</div><div class="msg">Fixing </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-02 19:18</div><div class="msg">ha ha ha!</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-02 20:00</div><div class="msg">drp in-place updates preserve configs and data?  just delete the sha file?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-02 20:02</div><div class="msg">for --isolated</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 20:04</div><div class="msg">drp in place creates a drp-data directory and shows the options to run that way.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 20:05</div><div class="msg">To have install.sh pull an updated zip file from github, remove the sha file and re-run install.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-02 20:05</div><div class="msg">groovy.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-02 20:05</div><div class="msg">that's exactly what I meant. :-)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-05-02 20:15</div><div class="msg">oh funny, spencer's story is literally my story (was using cobbler/ansible/in house scripts for ipmi and stuff, suddenly found DR and then DRP was made public afterwards)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 20:18</div><div class="msg">:slightly_smiling_face: @vlowther and I are working on a plan to get IPMI/RAID/BIOS back into the fray and join DRP machines into DR as nodes.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-02 22:18</div><div class="msg">I'm confused which should be defaultBootEnv and unknownBootEvn.  unknownBootEnv=discovery and defaultBootEnv=sledge?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-02 22:22</div><div class="msg">nevemrind - found it in the Fine Documentation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-02 22:23</div><div class="msg">Fine - as in wine - as in drunken ramblings.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:00</div><div class="msg">tftpd not responding... </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:00</div><div class="msg">it's listening on udp:69</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:03</div><div class="msg">if the mac is in the server's arp table as associated with an ip already, accisble through a server interface that's not listening tftpd, will it fail to resopnd to tfpd udp?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:06</div><div class="msg">the same mac is showing as known by the other interface that's actually running DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 00:07</div><div class="msg">Trees falling.  Noisily or not.  Hmm.  I think you are using DR.  Are you in HOST or FORWARDER mode?  If you didn't specify anything then you are in FORWARDER mode.  The implication is that only thinks on docker0 will communicate with DR services.  You could bridge into that network.  If host mode then all interfaces are in play and will respond.  </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:08</div><div class="msg">DRP - no docker</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:08</div><div class="msg">no bridges</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:12</div><div class="msg">wat?  why would ncat say 'no route to host' when ping sees the IP just fine?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:16</div><div class="msg">ah, iptables - no accepto port udp:69</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:17</div><div class="msg">et voir la!</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:27</div><div class="msg">dr-provision2017/05/03 00:24:22.650999 DHCP handler died: write udp4 0.0.0.0:67-&gt;192.168.1.51:68: i/o timeout</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:27</div><div class="msg">drp process died.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 00:30</div><div class="msg">any idea why a dell R410 would ignore and not reboot PXE when this returns OK? ipmitool chassis bootdev pxe; ipmitool chassis power cycle </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-03 01:17</div><div class="msg">latest DRP code cannot fail in that way -- we no longer rely on timeouts to cleanly release the DHCP socket to work around the darwin kernel's lack of ability to clean up UDP sockets belonging to nonexistent processes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-03 01:17</div><div class="msg">yes, really.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-03 01:19</div><div class="msg">re: r410: because all IPMI firmware sucks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-03 01:20</div><div class="msg">messing with bootdev order via ipmi is something I basically assume will fail silently until I am happily proven wrong.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 01:21</div><div class="msg">lolz</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-03 01:23</div><div class="msg">tl:dr: never kill -9 processes with open listening UDP ports on a mac, unless you like rebooting.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 01:23</div><div class="msg">jeez.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 01:24</div><div class="msg">Is there any way to remotely set the bootdev?  I see an entry for dell related stuffs in the ipmitool manual.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-03 01:25</div><div class="msg">Yes, the IPMI standard has those methods, and some IPMI firmware even implements it properly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-03 01:26</div><div class="msg">I don't know if the idrac on a 410 is one of those --- it has been many years and more ethanol since I tried.
\</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-03 01:27</div><div class="msg">If you have a copy of racadm compatible with that box, it is probably a better bet than ipmiitool.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 01:48</div><div class="msg">Once DRP finds a box and drops sledgehammer on it, shouldn't it be a "machine"?  Or are those only for predefined machines?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 02:02</div><div class="msg">Because it didn't give me a "machine" object to play around with.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:10</div><div class="msg">It should create a machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:11</div><div class="msg">My guess is that your subnet is missing some parameters that sledgehammer needs.  I tried to put this in the subnet config page, I think.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:11</div><div class="msg">You can get the error log byL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:11</div><div class="msg">logging into sledgehammer - root/rebar1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:11</div><div class="msg">journalctl -u sledgehammer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:12</div><div class="msg">That should have a clue as what is missing or busted.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:12</div><div class="msg">The darwin hack sadly makes it better, but occassionally it hits it still.  It is better though.  :neutral_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 02:13</div><div class="msg">already rebooted.  my idrac access had annoying keyboard issues.. because mac-&gt;x2go-&gt;xfce-&gt;chrome-&gt;javaws-&gt;console.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 02:14</div><div class="msg">Does sledgehammer open the serial console?  My ssh attempts seemed to require a key.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 02:24</div><div class="msg">d</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:30</div><div class="msg">d?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:31</div><div class="msg">@newgoliath - it should, I think.  ssh requires a key.  Let me check something.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:32</div><div class="msg">That is a good feature request to put back.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:32</div><div class="msg">actually, some template in template love should fix this nicely.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:33</div><div class="msg">I cleaned too much.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:33</div><div class="msg">It should have a console, but I can put in the root-remote-access.tmpl and it should work in sledgehammer.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:33</div><div class="msg">and discovery.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:34</div><div class="msg">sooo - you can put {{ template "root-remote-access.tmpl" . }} in the sledgehammer start-up.sh template and it will enable ssh with keys in the access_keys parameter in the machine profile, profiles assigned to the machine, or the global profile.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:34</div><div class="msg">I'll make that change shortly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:35</div><div class="msg">I need to cut a release, we've amassed some good changes.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 02:40</div><div class="msg">I'm fading... sleepy...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-05-03 02:43</div><div class="msg">In my experience `chassis power cycle` reboots everything including the BMC so any temp flags are lost. After the `bootdev pxe` command I usually do a `chassis power reset` which seems to be more synonymous with a hard reboot, but BMC stays alive so the pxe flag stays.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:49</div><div class="msg">sleep my friend and dream of large women.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 02:50</div><div class="msg">struggling to remember the film you reference.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:51</div><div class="msg">Princess Bride</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:51</div><div class="msg">I do not envy you your headache when you wake up.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 02:51</div><div class="msg">My brain is a little off right now.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 02:51</div><div class="msg">hee hee.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 06:17</div><div class="msg">New release published: <a href="https://github.com/digitalrebar/provision/releases/tag/v3.0.2">https://github.com/digitalrebar/provision/releases/tag/v3.0.2</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 06:17</div><div class="msg">Stables updated.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 06:18</div><div class="msg">Docs: <a href="http://provision.readthedocs.io/en/latest/">http://provision.readthedocs.io/en/latest/</a></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 13:42</div><div class="msg">grabbing and installing</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 13:49</div><div class="msg">dr-provision2017/05/03 13:49:00.327087 Received option: OptionClientIdentifier: ??K?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 13:51</div><div class="msg">yeah - some things send CID that aren't printable.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:00</div><div class="msg">interesting drp is responding dhcp on both my interfaces.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:00</div><div class="msg">sledge keeps requesting, over and over.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:01</div><div class="msg">every 30ish seconds</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:02</div><div class="msg">Yes - that is right.  The lease time is 60 seconds.  so renew time 30 seconds.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:03</div><div class="msg">You can change that in the subnet definition.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:03</div><div class="msg">nmap says up, but all ports closed.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:03</div><div class="msg">I see your       {{ template "root-remote-access.tmpl" . }} in the sledge.yaml</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:03</div><div class="msg">Did bootenvs need to be reloaded, to re-run templates?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:05</div><div class="msg">no serial console ouput (but it's at least connecting)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:07</div><div class="msg">Yes - templates needs to be reloaded.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:08</div><div class="msg">So do bootenvs.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:08</div><div class="msg">okdee doke.. thanks Greg!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:08</div><div class="msg">Templates are easy.  I have a bug I'm still working on to update bootenvs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:08</div><div class="msg">It may be easiest to:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:08</div><div class="msg">stop dr-provision</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:08</div><div class="msg">rm  -f drp-data/digitalrebar/bootenvs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:08</div><div class="msg">rm -f drp-data/digitalrebar/templates</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:09</div><div class="msg">Then rerun the tools/discovery-load</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:09</div><div class="msg">and all the otehr bootenvs install commands from before.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:09</div><div class="msg">The bootenvs update is a real issue.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:10</div><div class="msg">roger.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:12</div><div class="msg">should I bootenvs destroy before bootenvs install?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:21</div><div class="msg">chicken-egg problem with dr-provision and discovery-load ----- after the rm -f commands.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:21</div><div class="msg">:(</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 14:22</div><div class="msg">I guess gotta clear out the configs for the default boot envs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:59</div><div class="msg">ugh - sorry. yeah prefs. will get in the way.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 14:59</div><div class="msg">I should know better.  Get fix the bugs instead of cludging around them .</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 15:02</div><div class="msg">I can't find out to force start without the discovery</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 15:04</div><div class="msg">rm -rf drp-data/digitalrebar/preferences/*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 15:05</div><div class="msg">then reset them in the UI once all is loaded.  Sorry.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 15:05</div><div class="msg">OH!  DUH! there they are.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 15:46</div><div class="msg">Did you miss updating the version string in the executable?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 15:46</div><div class="msg">dr-provision2017/05/03 15:45:03.939046 Version: v3.0.1-tip-38-10d0a97fe90d2104bf9c2e7720529496fac4c033</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 15:46</div><div class="msg">or did I not delete all the rigth stuff?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 15:50</div><div class="msg">It should have automatically been updated </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 15:50</div><div class="msg">nevermind.. I didn't pull the versioned one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 15:51</div><div class="msg">The next tip build will be relative to 3.0.2</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:30</div><div class="msg">the client gets sledge and the first script is run, but it seems control.sh never happens.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:33</div><div class="msg">does it go out to the Internet?  Because I've got no NAT running on my private IP address range that I'm using for DHCP.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:36</div><div class="msg">it should not need internet, I think.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:36</div><div class="msg">can you get on sledgehammer?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:36</div><div class="msg">what does journalctl -u sledgehammer show</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:37</div><div class="msg">no route to host.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:37</div><div class="msg">it gets an IP address and shuts up.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:37</div><div class="msg">no more dhcp requests.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:39</div><div class="msg">hmm - what IP did you use for the static-ip on the dr-provision line.  It should probably be the internal IP of your admin system.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:39</div><div class="msg">yup, i have em1 (public IP) em2 (192.168.1.1)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:40</div><div class="msg">./dr-provision --static-ip=192.168.1.1 --file-root=/root/drp/dr-provision-install/drp-data/tftpboot --data-root=drp-data/digitalrebar --debug-bootenv=2 --debug-dhcp=2 --debug-renderer=2 --dhcp-ifs=em2</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:42</div><div class="msg">it pxes to tftp and gets the sledge bits.  then the logs dump out a script.  then nothing.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:42</div><div class="msg">I can reset with IPMI.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:44</div><div class="msg">dr-provision2017/05/03 16:29:51.742235 Rendering start-up.sh for All booting discovery
dr-provision2017/05/03 16:29:51.742465 Content:
#!/bin/bash

export PS4='${BASH_SOURCE}@${LINENO}(${FUNCNAME[0]}): '
set -x
set -e</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:44</div><div class="msg">then I never see anything again.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:44</div><div class="msg">Do you get a machine object?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:45</div><div class="msg">wow.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:45</div><div class="msg">nope.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:45</div><div class="msg">it dumps out the whole script.. up to the echo "Did not get control.sh..."</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:46</div><div class="msg">the script was not dumped to console, it's in logs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:46</div><div class="msg">okay - whew  - I was worried.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:46</div><div class="msg">Should I ping the subnet to see if anything sprung to life?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:47</div><div class="msg">yeah - see if the node is reachable, but doesn't seem likely.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:47</div><div class="msg">because the IP that it got DHCP is truly down.  nmap says so.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:47</div><div class="msg">? (192.168.1.52) at &lt;incomplete&gt; on em2</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:48</div><div class="msg">^ arp -a</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:48</div><div class="msg">yeah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:50</div><div class="msg">it is like your boot dev isn't set.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:51</div><div class="msg">hmm.. interesting.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:52</div><div class="msg">the pxelinux.cfg/default should have IPAPPEND 2 on it.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 16:55</div><div class="msg">ls ./drp-data/tftpboot/pxelinux.cfg/  &lt;- empty</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 16:55</div><div class="msg">curl <a href="http://ip:8091/pxelinux.cfg/default">http://ip:8091/pxelinux.cfg/default</a></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:01</div><div class="msg">curl http://192.168.1.1:8091/pxelinux.cfg/default
DEFAULT discovery
PROMPT 0
TIMEOUT 10
LABEL discovery
  KERNEL sledgehammer/708de8b878e3818b1c1bb598a56de968939f9d4b/vmlinuz0
  INITRD sledgehammer/708de8b878e3818b1c1bb598a56de968939f9d4b/stage1.img
  APPEND rootflags=loop root=live:/sledgehammer.iso rootfstype=auto ro liveimg rd_NO_LUKS rd_NO_MD rd_NO_DM provisioner.web=http://192.168.1.1:8091 rs.api=https://192.168.1.1:8092
  IPAPPEND 2</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:01</div><div class="msg">OK... trying from remote host.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:02</div><div class="msg">same</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:02</div><div class="msg">looks good</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:03</div><div class="msg">and the swagger API is accessible</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:03</div><div class="msg">curl -fsSLk https://192.168.1.1:8092/</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:03</div><div class="msg">OK</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:04</div><div class="msg">drpcli profiles show global</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:04</div><div class="msg">anything in those?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:04</div><div class="msg">just the name.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:05</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:05</div><div class="msg">hmmm - maybe me.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:05</div><div class="msg">I see your greg key in access_keys</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:05</div><div class="msg">but whatever, the machine isn't even online.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:05</div><div class="msg">well , if the script breaks it could do that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:06</div><div class="msg">profiles has something in it? or the examples profiles have something in it.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:06</div><div class="msg">drpcli profiles show global
{
  "Name": "global"
}</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:06</div><div class="msg">drpcli profiles list
[
  {
    "Name": "global"
  }
]</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:07</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:08</div><div class="msg">Let me test something - i forgot</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:11</div><div class="msg">I'm fine to kill and rm -rf the whole thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:12</div><div class="msg">Try that and restart with new.  Make sure all the templates are aligned.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:12</div><div class="msg">I'm concerned I didn't test sledgehammer/discovery without access_keys.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:27</div><div class="msg">testing now - may have found something.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:35</div><div class="msg">nope - my bad.  on the virtualbox setup.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:44</div><div class="msg">script ran, asking for DHCP again - good progress.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:46</div><div class="msg">Just published v3.0.3 - it has a fix for bootenv updating.  It is a cli change only.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:48</div><div class="msg">Goodness gracious, there a machine!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:48</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 17:49</div><div class="msg">If you add the access_keys parameter to the global profile like in the example, you should be able to ssh into sledgehammer (after a reboot).</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 17:54</div><div class="msg">assets/profiles/root-access.yaml being the example?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-03 18:19</div><div class="msg">@greg &lt;offtopic&gt;Here in olde Austin-towne? Anyplace I should try to go and eat at tonight?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:23</div><div class="msg">Location and transportation info needed. BBQ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-03 18:24</div><div class="msg">Loc: downtown (Hampton Inn Univ.) transportation: RideAustin or other. Food: Tx-Mex, Mex or BBQ - don?t care as long as it?s tasty!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:26</div><div class="msg">Thinking</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:39</div><div class="msg">soo - Victor and I were discussing -</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:43</div><div class="msg">@wdennis 
BBQ - Salt Lick (North in Round Rock), Iron Works (1st and RedRiver just off IH-35 (downtown)), Stubb's 8th/RedRiver (sometimes has live music)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:43</div><div class="msg">MEX - is harder - Manuel's - Not my normal.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-03 18:44</div><div class="msg">@greg Thx, looking to get my noms on while here :yum:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:45</div><div class="msg">Tex-Mex - Chuy's and/or Trudy's - Chuy's is good food (chain, but started here).  One on North Lamar is not to far from you.  The one on riverside is neat because you can walk to Zilker park or other venues.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:45</div><div class="msg">Stubb's is neat because it is near sixth street for music and bars.  If that is your thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:46</div><div class="msg">Iron works is similar location wise just.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-03 18:46</div><div class="msg">Music yes, bars not anymore :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-03 18:49</div><div class="msg">(Except if they have music)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:49</div><div class="msg">most bars have some music especially downtown.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-03 18:52</div><div class="msg">Loving being back in my home state (born in Houston, lived in El Paso for my early years)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:53</div><div class="msg">Hi rebars</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:54</div><div class="msg">Just need a quick help here</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:54</div><div class="msg">I am trying to deply openstack workload on DR</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:54</div><div class="msg">But it fails at the last step on openstak-deploy</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:54</div><div class="msg">with error Downloading common from repo http://localhost:8879/charts
helm lint nova
==&gt; Linting nova
[INFO] Chart.yaml: icon is recommended
[ERROR] templates/: render error in "nova/templates/daemonset-libvirt.yaml": template: nova/templates/daemonset-libvirt.yaml:14:62: executing "nova/templates/daemonset-libvirt.yaml" at &lt;include "hash"&gt;: error calling include: template: nova/charts/common/templates/_funcs.tpl:22:4: executing "hash" at &lt;include $wtf $contex...&gt;: error calling include: template: nova/templates/configmap-etc.yaml:9:56: executing "nova/templates/configmap-etc.yaml" at &lt;include "template"&gt;: error calling include: template: nova/charts/common/templates/_funcs.tpl:12:3: executing "template" at &lt;include $wtf $contex...&gt;: error calling include: template: no template "nova/templates/etc/_ceph.client.cinder.keyring.yaml.tpl" associated with template "gotpl"

Error: 1 chart(s) linted, 1 chart(s) failed
Makefile:51: recipe for target 'build-nova' failed</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:55</div><div class="msg">any help will be highyl appreciated</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:55</div><div class="msg">its for a school project :)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:55</div><div class="msg">and while we are on it, try Tres-Leches from Chuy's</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-03 18:56</div><div class="msg">@ayush37 :+1:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:57</div><div class="msg">@zehicle  is there any assistance regarding the error I am facing, if fixed I owe you a Tres-Leches</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:57</div><div class="msg">@ayush37 - not sure.  I haven't tried it 3 mos or so.  The upstream may have moved.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:58</div><div class="msg">@zehicle Thanks, shall try fixing it by some means </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:58</div><div class="msg">I'm refreshing my memory.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:58</div><div class="msg">This is Greg, it is confusing.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 18:59</div><div class="msg">yeah it is </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:59</div><div class="msg">My current guess is that the upstream has moved on.  We do a git clone:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:59</div><div class="msg">8 git clone <a href="https://github.com/galthaus/openstack-helm.git">https://github.com/galthaus/openstack-helm.git</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 18:59</div><div class="msg">but that is my repo.  So - maybe not.  Still could have atrophied.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:00</div><div class="msg">What school project?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:00</div><div class="msg">I am a masters student at UT Dallas, its a research project</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:00</div><div class="msg">Hmm - also could be 1.6.1 update.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:00</div><div class="msg">where my professir wants me to try out Digital Rebar</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:00</div><div class="msg">nice - okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:01</div><div class="msg">Interesting - would like to know what for?  You may want to stick to more supported things.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:01</div><div class="msg">What version of k8s did you install?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:01</div><div class="msg">1.6.1 or 1.5.3 - it will depend upon when you started using DR.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:01</div><div class="msg">It is possible that you are using a too new k8s for the openstack stuff.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:01</div><div class="msg">actually, we are woryeah maybe</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:01</div><div class="msg">yeah maybe</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:02</div><div class="msg">let me check the k8 installation</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:02</div><div class="msg">regaring the project, we are working with Ericsson for some POC </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:02</div><div class="msg">which involves the use of digital Rebar</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:02</div><div class="msg">One option is to "redeploy" after changing the version 1.5.3.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:02</div><div class="msg">For OpenStack or general machine management?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:02</div><div class="msg">for OpenStack only</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:03</div><div class="msg">I tried to deploy the openstack workload from GUI </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:03</div><div class="msg">Okay-  so you are looking for a quick openstack and DR might help with that.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:03</div><div class="msg">of the rebar</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:03</div><div class="msg">exactly</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:04</div><div class="msg">let me try with the older version of K8</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:04</div><div class="msg">thanks a lot </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:05</div><div class="msg">Yeah - so , you can change the options - reset things - then don't have the workload autocommit. Go into the deployment and find hte k8s-config role/service (right corner of deployment).  Edit k8s version to 1.5.3.  Then commit the deployment.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:05</div><div class="msg">Also, you have DR working?  Without talking to us?  How?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:05</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:05</div><div class="msg">hahaha, it was pretty self-explanatory the website</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:05</div><div class="msg">its really kind of you guys to make it so lucid</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:06</div><div class="msg">You must think like I do, which is rare.  I'm sorry for you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:06</div><div class="msg">or Victor.  Still sorry for you.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:06</div><div class="msg">if this works, I may get a "A" grade in my subject</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:06</div><div class="msg">CLoud COmputing</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:06</div><div class="msg">:D</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:07</div><div class="msg">ok - keep me posted.  I'm interested.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:07</div><div class="msg">with a Tres-Leches cake from myside to the DR team</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:07</div><div class="msg">sure i wll </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:10</div><div class="msg">I started the deployment with 1.5.3</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:12</div><div class="msg">okay - so it was already a t 1.5.3</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:13</div><div class="msg">it was at 1.6.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:13</div><div class="msg">so - restarted. - let's see what happens.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:14</div><div class="msg">WIth regard to Tres-Leches, I never make that far.  Between the Queso, chips, and meal, I'm usually ready to explode.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:15</div><div class="msg">yeah !! exactly, so I always ask the server to make the cake as togo</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:15</div><div class="msg">once I am home, there no one stopping me</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:15</div><div class="msg">from pounding on it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 19:15</div><div class="msg">:slightly_smiling_face: planning and gluttony - it is a beautiful thing</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:16</div><div class="msg">its like on of the sevens sins, executed perfectly</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:19</div><div class="msg">getting back to DR fiasco: its running well and currently perfroming the etcs-install</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:19</div><div class="msg">etcd*</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:50</div><div class="msg">Unofrtunately failed at k8s-dns</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:50</div><div class="msg">
Err:  [WARNING]: Consider using yum, dnf or zypper module rather than running rpm

Backtrace:
/opt/digitalrebar/core/rails/app/models/jig.rb:52:in `die'
/opt/digitalrebar/core/rails/app/models/barclamp_rebar/ansible_playbook_jig.rb:290:in `run'
/opt/digitalrebar/core/rails/app/models/run.rb:79:in `run'
/var/cache/rebar/gems/ruby/2.1.0/gems/que-0.11.2/lib/que/job.rb:15:in `_run'
/var/cache/rebar/gems/ruby/2.1.0/gems/que-0.11.2/lib/que/job.rb:100:in `block in work'
/var/cache/rebar/gems/ruby/2.1.0/gems/que-0.11.2/lib/que/adapters/active_record.rb:5:in `block in checkout'
/var/cache/rebar/gems/ruby/2.1.0/gems/activerecord-4.2.5/lib/active_record/connection_adapters/abstract/connection_pool.rb:292:in `with_connection'
/var/cache/rebar/gems/ruby/2.1.0/gems/que-0.11.2/lib/que/adapters/active_record.rb:48:in `checkout_activerecord_adapter'
/var/cache/rebar/gems/ruby/2.1.0/gems/que-0.11.2/lib/que/adapters/active_record.rb:5:in `checkout'
/var/cache/rebar/gems/ruby/2.1.0/gems/que-0.11.2/lib/que/job.rb:83:in `work'
/var/cache/rebar/gems/ruby/2.1.0/gems/que-0.11.2/lib/que/worker.rb:78:in `block in work_loop'
/var/cache/rebar/gems/ruby/2.1.0/gems/que-0.11.2/lib/que/worker.rb:73:in `loop'
/var/cache/rebar/gems/ruby/2.1.0/gems/que-0.11.2/lib/que/worker.rb:73:in `work_loop'
/var/cache/rebar/gems/ruby/2.1.0/gems/que-0.11.2/lib/que/worker.rb:17:in `block in initialize'</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 19:51</div><div class="msg">@zehicle Now i am trying as Ubuntu 16.04 as OS, prev deployment was on Centos 7.2</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 20:22</div><div class="msg">unfortunately failed at same step with k8s version 1.5.3</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 20:23</div><div class="msg">hmm - okay - I'll add it to my queue to retry it myself.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 20:24</div><div class="msg">Can you describe your environment so I can get close to it?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 20:24</div><div class="msg">yes it is on AWS Ubuntu 16.04 LTS as Rebar server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 20:24</div><div class="msg">What nodes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 20:25</div><div class="msg">AWS instances?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 20:25</div><div class="msg">from the aws provider?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 20:25</div><div class="msg">t2.xlarge</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 20:26</div><div class="msg">So if I try with K8s version 1.5.3 it fails at k8s dns step, and if the version is 1.6.1 it fails at last step OPenstack-deployment</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 20:26</div><div class="msg">thanks a lot @zehicle  for you consideration, highly appreciated</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 20:27</div><div class="msg">yeah - I need to see what is failing . "Something" has changed.  I may not get to this until tomorrow.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 20:27</div><div class="msg">yes I understand, thanks again for your effortm, I shall also try debugging it, if I find a fix shall post you</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-03 20:28</div><div class="msg">till then, may the force be with you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-03 20:31</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-03 21:07</div><div class="msg">I'd suggest <a href="http://Packet.net">http://Packet.net</a> over AWS for Openstack tests. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-05-03 21:13</div><div class="msg">there's a rackn code iirc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-03 22:56</div><div class="msg">Yes, RACKN100 - I think it gets $25 credit or so</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-05-03 23:10</div><div class="msg">I think it may actually have been $100?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-03 23:13</div><div class="msg">it was originally...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-03 23:14</div><div class="msg">about a year ago.  early adopter benefits :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-05-03 23:15</div><div class="msg">Ah.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-05-03 23:16</div><div class="msg">Guess I got in early enough, haha.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-04 16:44</div><div class="msg">@zehicle haha, was working late night, guess i will try with Packet.net in that case</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-04 16:45</div><div class="msg">thansks for the update though, have a great day!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-04 16:48</div><div class="msg">in a few minutes, RackN is going to be posting (twitter, linkedin, facebook, web) a lot about DRP.  If you've been having good time with it, please help us get the word out about it!  Thanks.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-04 16:49</div><div class="msg">sure thing, will spread it in UT Dallas and Ericsson</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-05-04 16:49</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-05 01:41</div><div class="msg">hey @zehicle  I tried all the permutations and combinations of the k8's version on AWS and Packet, the issues is still the same, it gets stuck at the very last step of Openstack-Deployment, with an error depictin issue in "helm lint nova", Please let me know if there is a fix as Ericsson shall be really interested in implementing this for expedited OPenstack deployment :smile: </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-05 01:42</div><div class="msg">clarification for k8s version 1.6.1 it goes all the way to last step, for all other versions 1.51, 1.5.3, 1.5.7 it fails at K8 DNS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-05 03:09</div><div class="msg">okay -</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-05 14:45</div><div class="msg">@Ayush37 if there is commercial interest, then let's talk about that 1x1.  I'm at the OpenStack summit next week.  This work is exciting but early and will need some sustaining effort.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-05 14:59</div><div class="msg">Hey @zehicle , Regarding the commercial interest, I shall pass on the information to my manager as I am an intern and not in a position to make a decision</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-05 15:10</div><div class="msg">We are happy to get on a call and discuss with interested parties.  OpenStack Helm is an active project and week require ongoing support to maintain.  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-05 23:54</div><div class="msg">Good to meet the DR crew at DevOpsDays Austin - best DOD I've yet attended!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-06 03:36</div><div class="msg">It was good!  Glad to meet you too!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 13:58</div><div class="msg">@chermack - this is the community</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-03-10/153653503751_452ac8bbaad5f14c439a_72.jpg" /><div class="message"><div class="username">chermack</div><div class="time">2017-05-08 13:59</div><div class="msg">has joined #community201705</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 16:54</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F59JXQ7BJ/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F59JXQ7BJ/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 16:55</div><div class="msg">@greg Any idea why I'd be getting this error?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 16:58</div><div class="msg">Yes - change the 127.0.0.1 in the bar to match your ip address in the overall nav bar.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 16:58</div><div class="msg">@wdennis</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 17:01</div><div class="msg">Why does the Swagger UI assume 127.0.0.1?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 17:02</div><div class="msg">well - umm - you see - umm - lazy me.  It has to with the fact it isn't very integrated into our system.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 17:02</div><div class="msg">Ah</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 17:03</div><div class="msg">Picking your battles eh? :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 17:03</div><div class="msg">We use the swagger-ui without any changes (except to reference that URL).  I'd have to change it is a little more to make it more dynamic.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 17:03</div><div class="msg">We also want to switch which one we use.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 17:04</div><div class="msg">:+1::skin-tone-2:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 17:23</div><div class="msg">@greg Are the .yaml files in assets/profiles automatically loaded, or do they have to be loaded via drpcli ??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 17:23</div><div class="msg">you have to load them.  They are examples ,because you usually have to change value.s</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-08 18:53</div><div class="msg">RE swagger-ui -&gt; there's a new version based on react that we'd switch to also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-08 18:53</div><div class="msg">the rest of the UX is based on react</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-08 18:53</div><div class="msg">DRP UX</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 23:30</div><div class="msg">@greg No helper cmd yet in drpcli to associate profiles with machines?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 23:41</div><div class="msg">Not yet - soon - maybe tonight.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 23:41</div><div class="msg">drpcli machines update &lt;uuid&gt; '{ "Profiles": [ "prof1", "prof2" ] }'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 23:42</div><div class="msg">will do it.  WARNING- the UX will eat profiles if you set bootenv.  It is not implemented quite right.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 23:44</div><div class="msg">You mean if you change the machine?s bootenv thru the UX?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 23:45</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 23:45</div><div class="msg">I noticed that today.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 23:46</div><div class="msg">Thx for that tip, that was my next move :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 23:46</div><div class="msg">drpcli machines bootenv &lt;uuid&gt; &lt;bootenv&gt;</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 23:47</div><div class="msg">works though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 23:47</div><div class="msg">So, do I use ?drpcli machines update ?? to change the bootenv, or is there a specific drpcli cmd to do that?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-08 23:47</div><div class="msg">n/m :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 23:48</div><div class="msg">you can do them in the same update.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-08 23:48</div><div class="msg">```drpcli machines update &lt;uuid&gt; '{ "Profiles": [ "prof1", "prof2" ], "BootEnv": "newbootenv" }' ```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-09 19:53</div><div class="msg">@greg If I want to update an existing profile, can I do the following?
```
drpcli profiles update - &lt; assets/profiles/root-access.yaml
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-09 19:55</div><div class="msg">Tried it, throwing an error ?requires two arguments?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-09 20:08</div><div class="msg">update needs object id</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-09 20:08</div><div class="msg">then -</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-09 20:09</div><div class="msg">Trying to change the ?access_ssh_root_mode? param in the ?root-access? profile, doing this:
```
drpcli profiles update "root-access" '{ "access_ssh_root_mode": "yes" }'
```
But no matter what I do, the value remains ?true? (instead of ?yes?, ?no?, etc.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-09 20:10</div><div class="msg">Ah - I see, can do:
```
drpcli profiles update "root-access" - &lt; assets/profiles/root-access.yaml
```
and it works</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 02:05</div><div class="msg">@greg Trying to enable root access over SSH (yes, I know, bad?)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 02:06</div><div class="msg">So in my ?root-access? profile, I have:
```
  access_ssh_root_mode: "yes"
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 02:07</div><div class="msg">But when I check my resulting /etc/ssh/sshd_config, I see the following:
```
root@testnode01:~# grep -n ^PermitRoot /etc/ssh/sshd_config
28:PermitRootLogin prohibit-password
89:PermitRootLogin without-password
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 02:08</div><div class="msg">line 89 is the one put there by post-install; why isn?t it coming up with ```PermitRootLogin yes``` ??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 02:25</div><div class="msg">Bug probably. I'll check</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 02:54</div><div class="msg">How can I check the rendered preseed template? A URL get?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 03:19</div><div class="msg">yes - the template is part of a bootenv and assigned to a machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 03:19</div><div class="msg">The template has a path like: '{{.Machine.Path}}/compute.ks'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 03:20</div><div class="msg">This means: http://&lt;ip&gt;:8091/machines/&lt;uuid&gt;/compute.ks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 03:39</div><div class="msg">@greg Tried <a href="http://192.168.1.148:8091/machines/5fcbf69d-287e-4c2c-b085-5858665cd442/seed">http://192.168.1.148:8091/machines/5fcbf69d-287e-4c2c-b085-5858665cd442/seed</a> but getting ?404 page not found?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 03:43</div><div class="msg">n/m, I see that I have to set the BootEnv for the machine from ?local? to (in my case) ?ubuntu-16.04-install?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 03:50</div><div class="msg">Next question: If I edit a template, do I have to do something to get DRP to pick up on the changes?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 03:50</div><div class="msg">I am rendering the template, and I don?t see my changes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:00</div><div class="msg">yes - edit the template file.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:00</div><div class="msg">then run: drpcli templates upload filename as filename</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:02</div><div class="msg">OK, cool, thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:02</div><div class="msg">Looks good now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:11</div><div class="msg">Hmm, looks like maybe a problem now?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:13</div><div class="msg">So I did:
```
[dradmin@dr-admin drp]$ drpcli templates upload assets/templates/net-post-install.sh.tmpl as net-post-install.sh.tmpl
```
And now when I try to get the URL <a href="http://192.168.1.148:8091/machines/5fcbf69d-287e-4c2c-b085-5858665cd442/post-install.sh">http://192.168.1.148:8091/machines/5fcbf69d-287e-4c2c-b085-5858665cd442/post-install.sh</a> I?m seeing nothing returned?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:14</div><div class="msg">The net_seed.tmpl upload worked OK though, when I get ?/seed I do see the correct preseed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:16</div><div class="msg">usually it is net-post-install.sh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:16</div><div class="msg">Template name and path are not always the same.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:17</div><div class="msg">nvm - you are right.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:17</div><div class="msg">Yeah, I have:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:17</div><div class="msg">```
      {
        "ID": "net-post-install.sh.tmpl",
        "Name": "net-post-install.sh",
        "Path": "{{.Machine.Path}}/post-install.sh"
      }
```
In the ubuntu-16.04-install bootenv</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:18</div><div class="msg">I was previously seeing something when I did a get on the ?/post-install.sh URL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:18</div><div class="msg">make sure the machine's bootenv is still set to ubuntu-16.04</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:19</div><div class="msg">It is</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:19</div><div class="msg">The ?/post-install.sh URL doesn?t 404 or anything, just returns nothing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:20</div><div class="msg">okay - so that is usually a render problem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:21</div><div class="msg">You can check the bootenv errors to see if it shows something.  The machine errors could as well</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:21</div><div class="msg">drpcli machines show &lt;uuid&gt; | jq .Errors</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:21</div><div class="msg">The log from dr-provision should show something too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:22</div><div class="msg">If you need to, you can turn on the debugRenderer preference to 2 and see if it shows anything.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:22</div><div class="msg">It could have a golang template error.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:24</div><div class="msg">No errors in relevant machine or bootenv</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:25</div><div class="msg">Does dr-provision log to filesystem somewhere, or just to console?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:30</div><div class="msg">Now actually I see that I *am* getting a 404 on  ?/post-install.sh URL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:37</div><div class="msg">console</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:37</div><div class="msg">Had to restart dr-provision to get the console logs back?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:38</div><div class="msg">And I?m seeing:
```
r-provision2017/05/10 00:22:08.919333 Rendering net-post-install.sh.tmpl for testnode01 booting ubuntu-16.04-install
dr-provision2017/05/10 00:22:08.919393 Static FS: Failed to render template for /machines/5fcbf69d-287e-4c2c-b085-5858665cd442/post-install.sh: template: :54:12: executing "net-post-install.sh.tmpl" at &lt;{{template "set-host...&gt;: template "set-hostname.tmpl" not defined
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:38</div><div class="msg">there you go.  the set-hostname.tmpl isn't loaded. it appears</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:38</div><div class="msg">cd assets/templates</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:39</div><div class="msg">drpcli templates upload set-hostname.tmpl as set-hostname.tmpl</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:39</div><div class="msg">Hmmm, didn?t change that one, &amp; it exists?
```
-rw-r--r-- 1 dradmin dradmin  559 May  3 13:40 set-hostname.tmpl
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:40</div><div class="msg">yeah - if you upgrade without doing a bootenv install after upgrade, you are probably missing the subtemplates.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:41</div><div class="msg">you can do:
```
for i in `ls *`
do
drpcli templates upload $i as $i
done
```
in the assets/templates directory</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:43</div><div class="msg">Yup, here?s what I have:
```
[dradmin@dr-admin drp]$ drpcli templates list | grep "ID"
    "ID": "default-elilo.tmpl"
    "ID": "default-ipxe.tmpl"
    "ID": "default-pxelinux.tmpl"
    "ID": "local-elilo.tmpl"
    "ID": "local-ipxe.tmpl"
    "ID": "local-pxelinux.tmpl"
    "ID": "net-post-install.sh.tmpl"
    "ID": "net_seed.tmpl"
    "ID": "set-hostname.tmpl"
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:44</div><div class="msg">you are missing the root-access template</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:44</div><div class="msg">and others.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:44</div><div class="msg">bootenv install just loads all templates in templates by default now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:44</div><div class="msg">So that little script snippet above will add them.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:44</div><div class="msg">Or install a new bootenv.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:45</div><div class="msg">OK, looks like they?re all loaded now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:46</div><div class="msg">Aaaaaaaaand we?re good!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:46</div><div class="msg">That would explain the no root access.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:46</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:46</div><div class="msg">hmm - to things to do:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:46</div><div class="msg">Time to redeploy</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:47</div><div class="msg">1. update the upgrade docs to remind people to reload all templates for that release.
2. See about making that renderer error show up on the machine errors list.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 04:48</div><div class="msg">Thanks man</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 04:48</div><div class="msg">np</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:11</div><div class="msg">Good morning @greg :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:11</div><div class="msg">Got just about everything where I want it now, except the apt sources.list?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:11</div><div class="msg">This is what I?m getting now:
```
root@testnode01:~# grep -v ^# /etc/apt/sources.list | grep -v ^$
deb <a href="http://192.168.1.148:8091/ubuntu-16.04/install">http://192.168.1.148:8091/ubuntu-16.04/install</a> xenial main restricted
deb <a href="http://192.168.1.148:8091/ubuntu-16.04/install">http://192.168.1.148:8091/ubuntu-16.04/install</a> xenial-updates main restricted
deb <a href="http://192.168.1.148:8091/ubuntu-16.04/install">http://192.168.1.148:8091/ubuntu-16.04/install</a> xenial universe
deb <a href="http://192.168.1.148:8091/ubuntu-16.04/install">http://192.168.1.148:8091/ubuntu-16.04/install</a> xenial-updates universe
deb <a href="http://192.168.1.148:8091/ubuntu-16.04/install">http://192.168.1.148:8091/ubuntu-16.04/install</a> xenial multiverse
deb <a href="http://192.168.1.148:8091/ubuntu-16.04/install">http://192.168.1.148:8091/ubuntu-16.04/install</a> xenial-updates multiverse
deb <a href="http://192.168.1.148:8091/ubuntu-16.04/install">http://192.168.1.148:8091/ubuntu-16.04/install</a> xenial-backports main restricted universe multiverse
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:12</div><div class="msg">We shouldn't be touching it anymore.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:12</div><div class="msg">Looks like it is being touched?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:14</div><div class="msg">Make sure you aren't setting local_repo as a parameter on anything.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:14</div><div class="msg">n/m, just found it?
```
[dradmin@dr-admin drp]$ cat assets/profiles/local-repo.yaml
Name: local-repo
Params:
  local_repo: true
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:15</div><div class="msg">I did not set it to ?true??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:15</div><div class="msg">Make sure that isn't assigned to a machine and it isn't set in global.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:15</div><div class="msg">Loading it as a profile is okay.  putting it on a machine is not.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:16</div><div class="msg">Okay - so - I found the other place.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:16</div><div class="msg">You may need to play with it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:16</div><div class="msg">It is incorporated in a profile I think?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:17</div><div class="msg">Adding a profile into the system doesn't directly do anything.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:17</div><div class="msg">Setting the value to ?false? should disable this, yes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:17</div><div class="msg">You have to add that profile to the machine's list or make that change to the global profile.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:17</div><div class="msg">You can, but it won't change the problem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:18</div><div class="msg">The problem is these lines in the preseed file:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:18</div><div class="msg">```
d-i mirror/protocol string {{.ParseUrl "scheme" .Env.InstallUrl}}
d-i mirror/http/hostname string {{.ParseUrl "host" .Env.InstallUrl}}
d-i mirror/http/directory string {{.ParseUrl "path" .Env.InstallUrl}}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:19</div><div class="msg">So, DRP apt sources are default still?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:20</div><div class="msg">well - kinda</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:23</div><div class="msg">So, I should comment out those preseed file lines?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:24</div><div class="msg">replace them with:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:24</div><div class="msg">```
d-i mirror/http/hostname string <a href="http://archive.ubuntu.com">http://archive.ubuntu.com</a>
d-i mirror/http/directory string /ubuntu
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:27</div><div class="msg">```
{{if (eq "debian" .Env.OS.Family)}}
d-i mirror/protocol string http
d-i mirror/http/hostname string <a href="http://http.us.debian.org">http://http.us.debian.org</a>
d-i mirror/http/directory string /debian
{{else}}
{{ if .ParamExists "local_repo" }}
{{ if eq (.Param "local_repo") true }}
d-i mirror/protocol string {{.ParseUrl "scheme" .Env.InstallUrl}}
d-i mirror/http/hostname string {{.ParseUrl "host" .Env.InstallUrl}}
d-i mirror/http/directory string {{.ParseUrl "path" .Env.InstallUrl}}
{{else}}
d-i mirror/http/hostname string <a href="http://archive.ubuntu.com">http://archive.ubuntu.com</a>
d-i mirror/http/directory string /ubuntu 
{{end}}
{{else}}
d-i mirror/http/hostname string <a href="http://archive.ubuntu.com">http://archive.ubuntu.com</a>
d-i mirror/http/directory string /ubuntu
{{end}}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:28</div><div class="msg">That would honor the local_repo var.  I'm going to test that and commit it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:33</div><div class="msg">And if the ?local-repo? profile is not included in the local machine?s Profile or Profiles list, or in the global profile, then I should get the Ubuntu apt sources then?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:33</div><div class="msg">yes - if you add the above piece in place.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:34</div><div class="msg">I think.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:34</div><div class="msg">I haven't tried it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:37</div><div class="msg">Well here goes nothin? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:40</div><div class="msg">Looks like a winner - from rendered seed:
```
d-i mirror/http/hostname string <a href="http://archive.ubuntu.com">http://archive.ubuntu.com</a>
d-i mirror/http/directory string /ubuntu
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:41</div><div class="msg">I?ll next load the local-repo profile on another test box and see if I get the DRP repo</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:46</div><div class="msg">Hmm, doesn?t seem to work, get the same lines as above in the seed?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:48</div><div class="msg">n/m, didn?t add it to the profiles list via drpcli?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:49</div><div class="msg">tip as new commands addprofile removeprofile on machines object.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:51</div><div class="msg">nice</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 13:51</div><div class="msg">At oscon today.  Will be off and on</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:52</div><div class="msg">ack</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 13:52</div><div class="msg">OK, with the ?local-repo? profile loaded, it does work:
```
d-i mirror/protocol string http
d-i mirror/http/hostname string 192.168.1.148:8091
d-i mirror/http/directory string /ubuntu-16.04/install
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 16:15</div><div class="msg">FYI, as far as enabling remote root access?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 16:19</div><div class="msg">I see the post-install.sh just adds a second ?PermitRootLogin? line to sshd_config, to wit:
```
root@testnode02:~# grep -n ^PermitRoot /etc/ssh/sshd_config
28:PermitRootLogin prohibit-password
89:PermitRootLogin yes
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 16:20</div><div class="msg">As it turns out, later directives don?t overrule former ones in sshd_config</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 16:20</div><div class="msg">Always takes the first directive</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 16:22</div><div class="msg">So, I modified the ?root-remote-access.tmpl? thusly:
```
{{if .ParamExists "access_keys"}}
mkdir -p /root/.ssh
cat &gt;/root/.ssh/authorized_keys &lt;&lt;EOFSSHACCESS
### BEGIN GENERATED CONTENT
{{ range $key := .Param "access_keys" }}
{{$key}}
{{ end }}
### END GENERATED CONTENT
EOFSSHACCESS
{{end}}

sed --in-place -re '/^PermitRootLogin/ s/prohibit-password/{{if .ParamExists "access_ssh_root_mode"}}{{.Param "access_ssh_root_mode"}}{{else}}without-password{{end}}/' /etc/ssh/sshd_config
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 16:24</div><div class="msg">Which generates when rendered:
```
mkdir -p /root/.ssh
cat &gt;/root/.ssh/authorized_keys &lt;&lt;EOFSSHACCESS
### BEGIN GENERATED CONTENT

ssh-rsa [redacted] will@Wills-MacBook-Air

### END GENERATED CONTENT
EOFSSHACCESS


sed --in-place -re '/^PermitRootLogin/ s/prohibit-password/yes/' /etc/ssh/sshd_config
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 16:32</div><div class="msg">cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 16:33</div><div class="msg">I'll look to pull something like that in.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 16:34</div><div class="msg">Did not fix ?AcceptEnv? yet ? 
```
root@testnode02:~# grep -n ^AcceptEnv /etc/ssh/sshd_config
75:AcceptEnv LANG LC_*
90:AcceptEnv http_proxy https_proxy no_proxy
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 16:34</div><div class="msg">It should probably removed.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 16:34</div><div class="msg">You need line 90 for proxy environments?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 16:35</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 16:35</div><div class="msg">well - for our DR runners</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-10 16:36</div><div class="msg">Then I guess ? http_proxy https_proxy no_proxy? should be added at the end of ?AcceptEnv LANG LC_*?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-10 16:36</div><div class="msg">Yeah - not sure. Probably.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 20:15</div><div class="msg">I &lt;3 drp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 20:16</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 20:17</div><div class="msg">Box was on CentOS 6.9 - stuck in the void. </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 20:17</div><div class="msg">Now pxebooting and will be running centos 7.3 ASAP.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 20:33</div><div class="msg">any way to tell slegehammer to reboot pxe via drpcli?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 20:38</div><div class="msg">I used IPMI - but is there a more drpy way?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 20:43</div><div class="msg">currently no.  we are looking at a following to drp -&gt; drpv (digitalrebar provider) that would replace drp but adds IPMI/BIOS/RAID.  Something like that.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 20:51</div><div class="msg">Interesting to keep them separate.  Microservices, even.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 20:51</div><div class="msg">yeah - with go - they can live in the same binary, but be implemented that way.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 20:51</div><div class="msg">So, we can separate them or not.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 21:16</div><div class="msg">If I just replace the greg key with my pubkey, "centos should work"  eh?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 21:17</div><div class="msg">or do I need to set the params on the global profile?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:18</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:18</div><div class="msg">make sure the profile is added to the node or add it to the global profile.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 21:20</div><div class="msg">add profile to global profile?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:21</div><div class="msg">add the param to the global profile.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:25</div><div class="msg">I need to add some docs for that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:25</div><div class="msg">It is on my list.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 21:31</div><div class="msg">drpcli profiles show global
{
  "Name": "global",
  "Params": {
    "access_keys": {
      "access_ssh_root_mode": "without-password",
      "root": "ssh-rsa &lt;stuff&gt; root@os1"
    }
  }
}</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 21:31</div><div class="msg">LIke so, Obi-wan?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:31</div><div class="msg">access_ssh_root_mode is a peer with access_key.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:31</div><div class="msg">like this:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 21:32</div><div class="msg">ah, oops.  I see.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:32</div><div class="msg">```
{
 "Name": "global",
 "Params": {
"access_ssh_root_mode": "without-password",
   "access_keys": {
     "root": "ssh-rsa &lt;stuff&gt; root@os1"
   }
 }
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:32</div><div class="msg">You in fact can use that an update blob on global</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:32</div><div class="msg">drpcli profiles update global - &lt; file.json</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:33</div><div class="msg">where that snippet is in file.json</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-12 21:36</div><div class="msg">got it.  or call params set twice.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-12 21:37</div><div class="msg">yes - one with each.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-15 07:37</div><div class="msg">Hi.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-15 07:41</div><div class="msg">I have tried to get the digital rebar up and running but, something makes it eat upp all the memory I give it. I trying to use it to provision bare-metal.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-15 07:42</div><div class="msg">Any known issues?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-15 07:45</div><div class="msg">By the way it does seem like a great piece of software by looking at your demos.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-15 09:11</div><div class="msg">Giving provision a try, and was going to launch kolla-ansible based openstack on top, but it looks like the ubuntu images point to the control node for apt repo, and that doesn't quite work (complains about security, etc.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-15 09:12</div><div class="msg">any pointers on where the apt repo ends up on disk would be useful. I'm looking to deploy this with a customer tomorrow (well, Monday), and I think I can get the basics going, but I'm not sure how to deal with this interaction?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-15 10:13</div><div class="msg">I think where I?m struggling is how do the bootenvs incorporate profiles? I?m not seeing where they get matchesd.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-15 12:39</div><div class="msg">@rstarmer - profiles are attached to machines.  They aren't matched per se.  You have add them explicitly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-15 12:39</div><div class="msg">@rstarmer - I have a fix in my tree for ubuntu.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-15 12:40</div><div class="msg">I missed a couple of local_repo wrappers.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-15 12:42</div><div class="msg">tip will have the fix in about 10 minutes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-15 15:19</div><div class="msg">is there an upgrade process?  Or do I stop the service, re-install, and re-start?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-15 15:19</div><div class="msg">@svallebro - For digitalrebar, you need to make sure your admin node has at least 2 cores (4 is better) and 6GB of memory.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-15 15:19</div><div class="msg"><a href="http://provision.readthedocs.io/en/latest/doc/upgrade.html">http://provision.readthedocs.io/en/latest/doc/upgrade.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-15 15:19</div><div class="msg">@rstarmer - <a href="http://provision.readthedocs.io/en/latest/doc/upgrade.html">http://provision.readthedocs.io/en/latest/doc/upgrade.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-15 15:20</div><div class="msg">@greg thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-15 16:40</div><div class="msg">@greg do you have an example of mapping profiles to machines?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-15 16:50</div><div class="msg">Did you get tip?  The drpcli has a helper command to add profiles to machines </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-15 17:59</div><div class="msg">@greg After working with profiles/templates for a bit now, I think it would be helpful to have a ?drpcli template render [name]? command</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-15 18:01</div><div class="msg">That way you don?t have to actually apply the templates to a machine via profiles, and then call a URL to see how they would render?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-15 18:01</div><div class="msg">Of course, there would have to be a way to spec a machine I guess in that command?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-15 18:02</div><div class="msg">yes - I have two issues in the backlog for this function.  :slightly_smiling_face: @wdennis</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-05-15 18:02</div><div class="msg">sweet</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-16 04:23</div><div class="msg">@greg I got tip, and am just now relaunching my ubuntu instance. I'll have a look at the helper function now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-16 04:37</div><div class="msg">hmm, I'm clearly doing something wrong, none of the profiles in assets are ingestible.  Also, no docs on profiles?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 05:20</div><div class="msg">should be there now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 05:21</div><div class="msg">tip was updated 2 hours ago with profile helpers, and docs in latest</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 05:22</div><div class="msg">oh - profiles need to be edited for your environment which is why they are not autoimported.  @rstarmer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-16 05:27</div><div class="msg">I figured they did, and I did, but importing fails, I'll dig a bit more shortly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-16 06:03</div><div class="msg">I updated root acess, and this is what I get:
drpcli profiles create assets/profiles/ubuntu-access.yaml --format yaml
Error: Invalid profile object: error unmarshaling JSON: json: cannot unmarshal string into Go value of type models.Profile</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-16 06:53</div><div class="msg">@greg got it.  Saw your earlier example.  But why is it not possible to just pass a file as an argument rather than having to - &lt; file.json?  Certainly causes end-user confusion, I expect, after reading the docs to be able to "drpcli profile create -F yaml assets/profiles/my_profile.yaml"  And all your default documents are YAML, so why is the default file format JSON? Just a few user suggestions :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 12:51</div><div class="msg">```drpcli profiles create assets/profiles/ubuntu-access.yaml --format yaml```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 12:51</div><div class="msg">should be:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 12:51</div><div class="msg">```drpcli profiles create - &lt; assets/profiles/ubuntu-access.yaml```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 12:51</div><div class="msg">it will figure out json vs yaml on the redirect in.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 12:53</div><div class="msg">oh - sorry, brain is waking up.    that was a feature request.  The -F or --format is for output only.  Input should be either.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-16 21:12</div><div class="msg">has joined #community201705</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-16 21:48</div><div class="msg">@jj can you point @greg to code that installs the agent?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-16 21:49</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-16 21:50</div><div class="msg"><a href="https://github.com/jjasghar/pxe_dust-cookbook/blob/master/templates/default/chef-bootstrap.sh.erb">https://github.com/jjasghar/pxe_dust-cookbook/blob/master/templates/default/chef-bootstrap.sh.erb</a> ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-16 21:50</div><div class="msg">it?s just the typical chef-bootstrap</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 22:05</div><div class="msg">okay cool -</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 22:27</div><div class="msg">Should be doable, I'll see what I can do.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-16 22:28</div><div class="msg">awesome.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 22:30</div><div class="msg">sorry quick questions is proxy user and proxy pass supposed to be http://&lt;username&gt;</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 22:30</div><div class="msg">same with password</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-16 22:30</div><div class="msg">Also @jj - okay if I make it more parameterized?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-16 22:39</div><div class="msg"><a href="https://github.com/digitalrebar/provision/pull/277">https://github.com/digitalrebar/provision/pull/277</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-16 22:39</div><div class="msg">@zehicle &amp; @greg</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-16 22:39</div><div class="msg">@greg absolutely</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-17 00:49</div><div class="msg"><a href="https://github.com/digitalrebar/provision/pull/278">https://github.com/digitalrebar/provision/pull/278</a> too @greg and @zehicle</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 02:27</div><div class="msg">@jj - thanks for the PRs.  Give it about twenty minutes and they should be in tip images.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-17 02:28</div><div class="msg">awesome!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-17 02:28</div><div class="msg">i?ll be able to verify the esxi 65 images _ideally_ thursday</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 02:29</div><div class="msg">sounds fine.  We can always adjust.  Many of them are examples anyway.  We may want to generate a validated matrix in the docs at some point.  Not sure.  Something to contemplate.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-17 02:30</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 02:37</div><div class="msg">while you are around, @jj - I'm thinking about this as a set of parameters for chef client install.
```
Params:
  chef_server_url: <a href="https://mumble">https://mumble</a>
  chef_validation_name: vname
  chef_validation_pem_drp_location: files/chef/validation.pem
  chef_validation_pem_ext_location: http??///
  chef_validation_pem_string: filecontent
  chef_client_package_name: fred.rpm
  chef_client_package_drp_location: files/chef/
  chef_client_package_ext_location: <a href="http://mumble/">http://mumble/</a>...
  chef_client_first_boot_run_list:
    - role1
    - role2
  chef_client_environment: env1
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 02:37</div><div class="msg">For proxy, I'll already have a set of params for that.  I'll add to it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-17 02:38</div><div class="msg">seem reasonable</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 02:38</div><div class="msg">I'll create defaults for ones that make sense.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 02:39</div><div class="msg">I'm leery of the last part - about interface naming and forcing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 02:39</div><div class="msg">If anything, I'll add it another helper in the library of functions that can be included, but off by default.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 02:39</div><div class="msg">Not sure how important it is.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 10:58</div><div class="msg">Hi, my installation stops at "TASK [gem install kvm slaves]". How can i prevent this task? I don't need any KVm management or is this tools also needs in other reason? From the documentation prospective, this tools needed in development environment but i will use digital rebar in production case.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:08</div><div class="msg">We installed rebar on ubuntu 16.x. The task "TASK [wait for admin convergence [1 upto 20 minutes]]" failed. I am not able to login to the web portal using rebar/rebar1. Is there anything we can check in the logs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:25</div><div class="msg">@theta-my: Are you behind a proxy? it tries to get things from ruby gems and that can be hard sometimes behind a proxy or if you are in some Asian countries.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:27</div><div class="msg">@nratnakaram_twitter - ```cd digitalrebar/deploy/compose
docker-compose ps
docker-compose logs  rebar_api &gt; /tmp/rebar-api.log
 ```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:27</div><div class="msg">The ps will should show all containers running.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:27</div><div class="msg">The log should show some information about where it is.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:28</div><div class="msg">If a container isn't running, we should be able to see the log for that container by replacing rebar_api with the container name in the logs command.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:29</div><div class="msg">Yes, I'm behind a stack of firewalls.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:29</div><div class="msg">No way out ;)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:30</div><div class="msg">For all installation stuff, I can only use the corporate satellite server. But for gems...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:30</div><div class="msg">okay - then that is going to be a problem.  We assume that admin node has a mostly unrestricted outbound access.  We have started to do some work to build an install image, but it is still a work in process.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:31</div><div class="msg">It will use a different deployment method.  If we get it working, I may switch the install system over to it.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:31</div><div class="msg">If i know which gems needed and where are this gems searched, I can provide this manually</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:33</div><div class="msg">What OS?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:33</div><div class="msg">rhel7</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:35</div><div class="msg">in this file: deploy/tasks/base-centos.yml - lines 40-44.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:35</div><div class="msg">You could try deleting them.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:35</div><div class="msg">I'm not sure they are needed for your case.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:36</div><div class="msg">I will give them a try :) Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:36</div><div class="msg">I suspect this is going to be a slog, but eventually, we are going to expect to get to AWS s3 to get sledgehammer.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:36</div><div class="msg">@zehicle We are not seeing any logs. Is there a specific container that should be running for authentication?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:38</div><div class="msg">We are re-running -  ./wait_for_rebar.sh </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:43</div><div class="msg">Sorry, the next outgoing connection is requested. "https://get.docker.com/" :( </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:52</div><div class="msg">@zehicle ./wait_for_rebar.sh failed again. Authentication is not happening. These are the containers running as of now. There are no logs. </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:52</div><div class="msg">[?5/?17/?2017 6:21 PM] Ashokan, Pradeep Kumar: 
digitalrebar/dr_rebar_api:master
digitalrebar/dr_goiardi:master 
digitalrebar/dr_webproxy:master 
digitalrebar/dr_dns:master   
digitalrebar/cloudwrap:master  
digitalrebar/logging:master   
digitalrebar/dr_provisioner:maste
digitalrebar/dr_rev_proxy:master
digitalrebar/dr_trust_me:master 
digitalrebar/dr_postgres:master 
digitalrebar/rule-engine:master 
gliderlabs/consul        
digitalrebar/dr_forwarder:master

</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:55</div><div class="msg">@nratnakaram_twitter - This is @galthaus - the forwarder prepends zehicle.  There should be logs.  Those are images which look okay.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:56</div><div class="msg">@nratnakaram_twitter - you don't get anything from ``` docker-compose logs -f rebar_api ``` when run in digitalrebar/deploy/compose</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:56</div><div class="msg">??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:57</div><div class="msg">@theta-my - umm - let me check with @vlowther on where we are with the single image.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:57</div><div class="msg">In either case, you are going to need docker install on the machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 12:57</div><div class="msg">our install image has all containers in it without having to go to docker hub.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-17 12:59</div><div class="msg">Basic install stuff works. Don't have anything set up to autogen the artifacts, tho.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 12:59</div><div class="msg">Ok, this was missing in the pre-check from depploy/rin-in... --help ;)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-17 13:00</div><div class="msg">It has not been added to any of our ansible install methods yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 13:01</div><div class="msg">Kinda like I said, we assume the admin node has internet access for the time being.  We are trying to remove that requirement.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 13:02</div><div class="msg">I'm happy to support you to find out to go further with this ;)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 13:03</div><div class="msg">Can you describe your networking?  What is your host environment and what is outbound/inbound inet access like?  What are you trying to do with DR?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 13:03</div><div class="msg">So, docker install was not the problem :( Script stops at "TASK [Get Docker]"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 13:04</div><div class="msg">@theta-my: That does ```
  - name: Get Docker
    get_url: url=<a href="https://get.docker.com/">https://get.docker.com/</a> dest=/tmp/docker.sh validate_certs=False
    become: yes
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 13:04</div><div class="msg">Which is supposed to pay attention to proxies, but may not.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 13:04</div><div class="msg">Though that script will attempt to get to the internet as well.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 13:05</div><div class="msg">I have no direct internet access. I'm work on a production environment. I can only use the repos provided by a other team with respect of corporate security.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 13:05</div><div class="msg">@galthaus Now we got the logs. postgres seems to be in the "restarting" status</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 13:05</div><div class="msg">okay - so do you have docker in those repos?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 13:06</div><div class="msg">docker as installation package - YES</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 13:06</div><div class="msg">I have run the install some seconds ago, no problem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 13:06</div><div class="msg">okay - so -we will need to work through this.  I need to go to an awards ceremony for my daughter.  I'll be back in a couple of hours.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 13:09</div><div class="msg">@theta-my - This will not work currently.  We need to build you an image that has docker containers, because the next step is to tell docker to pull from the internet a set of containers.  It sounds like that is not allowed in your environment.  So, we need a different plan.  Can you get to the internet and put things on those boxes?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 13:11</div><div class="msg">Only if I use my workstation as a "proxy" (no, not as network proxy, as file proxy).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 13:12</div><div class="msg">yeah - so, you can get files and put them in place.  That oculd be workable.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 13:12</div><div class="msg">yup</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 13:35</div><div class="msg">@galthaus, I am part of @nratnakaram_twitter  Team. As we pointed in previous chat, that prostgres getting restarting all the time. we got he logs for the postgres container&gt;</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 13:35</div><div class="msg">==&gt; Log data will now stream in as it occurs:

    2017/05/17 13:32:15 [INFO] serf: EventMemberJoin: a6357a579da8 172.17.0.10
    2017/05/17 13:32:15 [INFO] serf: Attempting re-join to previously known node: 9151aab4dcf9: 172.17.0.9:8301
    2017/05/17 13:32:15 [INFO] agent: Joining cluster...
    2017/05/17 13:32:15 [WARN] manager: No servers available
    2017/05/17 13:32:15 [ERR] agent: failed to sync remote state: No known Consul servers
    2017/05/17 13:32:15 [INFO] agent: (LAN) joining: [10.138.161.161]
    2017/05/17 13:32:15 [INFO] serf: EventMemberJoin: 7f8e39b33473 172.17.0.4
    2017/05/17 13:32:15 [INFO] serf: EventMemberJoin: ebcb3d2be239 172.17.0.6
    2017/05/17 13:32:15 [INFO] serf: EventMemberJoin: 9151aab4dcf9 172.17.0.9
    2017/05/17 13:32:15 [INFO] serf: EventMemberJoin: 50fae633b067 172.17.0.8
    2017/05/17 13:32:15 [INFO] serf: EventMemberJoin: 34e423275179 172.17.0.7
    2017/05/17 13:32:15 [INFO] serf: EventMemberJoin: 861a1822a01b 172.17.0.5
    2017/05/17 13:32:15 [INFO] serf: EventMemberJoin: fd4ac25c9be4 172.17.0.11
    2017/05/17 13:32:15 [INFO] serf: EventMemberJoin: inll50904063h 10.138.161.161
    2017/05/17 13:32:15 [INFO] serf: EventMemberJoin: 4d6c2e26f01d 172.17.0.2
    2017/05/17 13:32:15 [INFO] serf: Re-joined to previously known node: 9151aab4dcf9: 172.17.0.9:8301
    2017/05/17 13:32:15 [INFO] consul: adding server inll50904063h (Addr: tcp/10.138.161.161:8300) (DC: digitalrebar)
    2017/05/17 13:32:15 [WARN] memberlist: Refuting a suspect message (from: a6357a579da8)
    2017/05/17 13:32:15 [INFO] agent: (LAN) joined: 1 Err: &lt;nil&gt;
    2017/05/17 13:32:15 [INFO] agent: Join completed. Synced with 1 initial agents
  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100    21  100    21    0     0   2753      0 --:--:-- --:--:-- --:--:--  3000
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "en_US.utf8".
The default database encoding has accordingly been set to "UTF8".
The default text search configuration will be set to "english".

Data page checksums are disabled.

initdb: could not access directory "/var/lib/postgresql/data": Permission denied</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 14:11</div><div class="msg">What command are you using to start dr and as what user?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-17 14:55</div><div class="msg">I am making a Jenkins builder for the offline install bits.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 15:13</div><div class="msg">Cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-05-17 16:24</div><div class="msg"><a href="https://s3-us-west-2.amazonaws.com/rebar-offline/master.html">https://s3-us-west-2.amazonaws.com/rebar-offline/master.html</a> &lt;-- open the file, click the link to get the latest offline install bits</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-05-17 17:30</div><div class="msg">Nice</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 17:36</div><div class="msg">help. How do I create a user?  I.e., what's the password?  I'm trying with a YAML of the form:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 17:37</div><div class="msg">Name: test
Params:
  password: test</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 17:37</div><div class="msg">I also tried the password as a cryptd value</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 17:37</div><div class="msg">@greg @zehicle ^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 17:41</div><div class="msg">looking at it now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 17:45</div><div class="msg">@rstarmer - well - I don't have that plumbed.  I'll be working on that for a little while.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 17:46</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 17:51</div><div class="msg">is there a .isos directory somewhere that things get cached?  I.e., can I pre-load the cache?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 17:51</div><div class="msg">the tftpboot directory has an isos directory like the DigitalRebar cache directory.  Putting things there works.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 17:52</div><div class="msg">The bootenvs install command will create/check an isos directory that is a peer with bootenvs and templates.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 17:52</div><div class="msg">You can cache there as well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 17:55</div><div class="msg">cool, will try now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 18:09</div><div class="msg">so how do I delete a bootenv?   Seems that destroy fails, and I stopped the install in the middle of trying (very slowly) to download the sledgehammer.tar</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 18:09</div><div class="msg">i.e., what?s the easiest way to blow away the environement and rebuild?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 18:14</div><div class="msg">what is the hashing mechanism for the  users?  I found the database?.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 18:18</div><div class="msg">golang simple-crypt</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 18:18</div><div class="msg">delete the drp-data directory and restart the dr-provision</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 18:19</div><div class="msg">sledgehammer is already in "use".</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 18:19</div><div class="msg">If you install "local", set the prefs to not ref sledgehammer, you should be able to remove sledgehammer.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 18:27</div><div class="msg">so I re-built, and using the pre-downloaded sledgehammer, I get an error for both, it says the sha doesn?t match when it installs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 18:27</div><div class="msg">Partial download of sledgehammer?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-17 18:27</div><div class="msg">should match what is in the files.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2017-05-17 18:28</div><div class="msg">possible, but will re-download (the local network is just slow, so using my phone?)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 21:57</div><div class="msg">ok so... back to this... can we use it to spin up bare metal and XENServer VMs</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 22:12</div><div class="msg">yes for metal.  we don't have a XEN provider so you'd need a cloud wrapper like OpenStack OR create a provider that would start VMs on hosts or some other way.  </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 22:13</div><div class="msg">We had someone ask about using bash/ansible on the hosts to start VMs that would then register into rebar.  there are several options that could be built </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 22:14</div><div class="msg">of course, you could PXE the VMs but that's not what I'd recommend for normal workloads.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 22:14</div><div class="msg">and if i require gui access from a public ip on an interface? but provisioing via private</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 22:14</div><div class="msg">i could terraform the vms to spin up and bootp</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 22:15</div><div class="msg">yes, you can control the provision interface</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 22:16</div><div class="msg">okk ill run through it again on a CentOS 7 VM</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 22:17</div><div class="msg">I don't see a terraform XEN provider, so I'm not sure what you are thinking.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-17 22:18</div><div class="msg">there is one :) ive used it before .... </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 06:03</div><div class="msg">Hi All, DRP has a new release v3.0.4 - <a href="https://github.com/digitalrebar/provision/releases">https://github.com/digitalrebar/provision/releases</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 06:08</div><div class="msg">Stable and tip are updated to this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 06:08</div><div class="msg">There are not any changes to migrate.  Stop, install, start dr-provision</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-18 07:43</div><div class="msg">hi rob, can i ask you about your solution with my problem? I have no chance for direct internet access to install/ start digital rebar. I can only use my workstation as a file proxy. At the moment i hang on "TASK [Get Docker]". Docker is installed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 13:45</div><div class="msg">@theta-my - I'm looking at.  Hope to have something later this afternoon.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 13:45</div><div class="msg">Or at least some comments.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 13:46</div><div class="msg">@theta-my - what is your use case?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-18 13:53</div><div class="msg">we will deploy some bare metal servers, orchestrated by IBM ICO, in a customer environment.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-18 13:54</div><div class="msg">and we will use digital rebar as IaaS, full automated ;)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-18 13:57</div><div class="msg">We need the full stack : metal discovery, inventory, os install based on inventory tags, hands over to chef</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-18 14:10</div><div class="msg">That's the answer your expected? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 14:19</div><div class="msg">Thinking about it.  I may have more questions later.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-18 18:43</div><div class="msg">@greg ping</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-18 18:44</div><div class="msg">I just pulled down `tip` to install it on a provisioning machine, and it seems i?m getting:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-18 18:44</div><div class="msg">```
admini@echo:/var/log$ /usr/local/bin/dr-provision
-bash: /usr/local/bin/dr-provision: cannot execute binary file: Exec format error
admini@echo:/var/log$
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 18:49</div><div class="msg">@jj - how did you run the install?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 18:49</div><div class="msg">What type of system?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-18 18:49</div><div class="msg">it?s a xps x86</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-18 18:49</div><div class="msg">and i was walking through the install instructions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-18 18:49</div><div class="msg">i can zoom it if you want</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-18 18:49</div><div class="msg">(in like 5 mins)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 18:49</div><div class="msg">os type?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-18 18:49</div><div class="msg">ubuntu</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-18 18:50</div><div class="msg">okay - let me know when you are ready?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-18 18:51</div><div class="msg">heh, seems now?ll work. <a href="http://bit.ly/zoom-jjasghar">http://bit.ly/zoom-jjasghar</a></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 11:43</div><div class="msg">Hello team, I hang on : "TASK [Get Docker Compose] ******************************************************
fatal: [10.241.236.92]: FAILED! =&gt; {"changed": false, "dest": "/usr/local/bin/docker-compose", "failed": true, "msg": "Request failed", "response": "An unknown error occurred: coercing to Unicode: need string or buffer, NoneType found", "state": "absent", "status_code": -1, "url": "https://github.com/docker/compose/releases/download/1.7.1/docker-compose-Linux-x86_64"}
"</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 11:57</div><div class="msg">fixed: after install docker-compose must create a link "ln -s /usr/bin/docker-compose /usr/local/bin/docker-compose"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 12:34</div><div class="msg">did you get docker-compose from the internet and then link it?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 12:35</div><div class="msg">no, installed via pip</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 12:35</div><div class="msg">ok</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 13:15</div><div class="msg">I am getting the below error, when I try installing digital-rebar, Could you please help me on the same..
TASK [Pull compose images [SLOW]] *************************************************************************************************************************************************************************
fatal: [10.138.161.217]: FAILED! =&gt; {"changed": true, "cmd": "DR_TAG=master /usr/local/bin/docker-compose pull", "delta": "0:00:05.711742", "end": "2017-05-19 18:32:50.227777", "failed": true, "rc": 1, "start": "2017-05-19 18:32:44.516035", "stderr": "Pulling postgres (digitalrebar/dr_postgres:master)...\nGet https://registry-1.docker.io/v2/: dial tcp 34.205.194.204:443: getsockopt: no route to host", "stderr_lines": ["Pulling postgres (digitalrebar/dr_postgres:master)...", "Get https://registry-1.docker.io/v2/: dial tcp 34.205.194.204:443: getsockopt: no route to host"], "stdout": "", "stdout_lines": []}
	to retry, use: --limit @/home/I324148/digitalrebar/deploy/digitalrebar.retry

PLAY RECAP ************************************************************************************************************************************************************************************************
10.138.161.217             : ok=46   changed=19   unreachable=0    failed=1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 13:29</div><div class="msg">@deepuashokan85 - do you have internet access to docker hub?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 13:32</div><div class="msg">@zehicle  that's where I struck, system unable to contact docker hug, however git and yum repos able to talk to internet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 13:33</div><div class="msg">Are you through a proxy?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 13:34</div><div class="msg">yes.. I am through proxy</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 13:34</div><div class="msg">hmm - okay - it should have setup docker to use the proxy, but maybe not.  You should check that.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 13:35</div><div class="msg">when I do wget , getting below message: 
[I324148@inll50904062a digitalrebar]$ wget https://registry-1.docker.io/v2/
--2017-05-19 19:05:20--  https://registry-1.docker.io/v2/
Resolving proxy (proxy)... 172.28.64.41
Connecting to proxy (proxy)|172.28.64.41|:8080... connected.
Proxy request sent, awaiting response... 401 Unauthorized
Authorization failed.
[I324148@inll50904062a digitalrebar]$</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 13:36</div><div class="msg">Is there alternate way to have the docker hub local in my system?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 13:39</div><div class="msg">@zehicle ^^ ??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 13:40</div><div class="msg">I'm working on it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 13:40</div><div class="msg">@deepuashokan85 and @theta_my are in similar problems.  We are working on an offline install.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 13:42</div><div class="msg">Great @zehicle, let me know once you have it ready.. </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:03</div><div class="msg">next stop :worried:  "TASK [Pull compose images [SLOW]] **********************************************
fatal: [10.241.236.92]: FAILED! =&gt; {"changed": true, "cmd": "DR_TAG=master /usr/local/bin/docker-compose pull", "delta": "0:01:31.028292", "end": "2017-05-19 16:02:13.261874", "failed": true, "rc": 1, "start": "2017-05-19 16:00:42.233582", "stderr": "Pulling postgres (digitalrebar/dr_postgres:master)...\nNetwork timed out while trying to connect to https://index.docker.io/v1/repositories/digitalrebar/dr_postgres/images. You may want to check your internet connection or if you are behind a proxy.", "stdout": "Trying to pull repository registry.access.redhat.com/digitalrebar/dr_postgres ... \nTrying to pull repository docker.io/digitalrebar/dr_postgres ... \nPulling repository docker.io/digitalrebar/dr_postgres", "stdout_lines": ["Trying to pull repository registry.access.redhat.com/digitalrebar/dr_postgres ... ", "Trying to pull repository docker.io/digitalrebar/dr_postgres ... ", "Pulling repository docker.io/digitalrebar/dr_postgres"], "warnings": []}"</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:04</div><div class="msg">a wget to https://index.docker.io/v1/repositories/digitalrebar/dr_postgres/images runs with no error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:07</div><div class="msg">This will fail completely.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:07</div><div class="msg">You have to have an internet connection for that step.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:08</div><div class="msg">I keep saying your use case is not really supported directly.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:08</div><div class="msg">yes, i have a proxy configuration which runs fine (the wget would also failed...)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:09</div><div class="msg">(after some discussion, a internet connection via proxy is allowed yet) :)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:13</div><div class="msg">@zehicle @theta-my , the problem is from office network I am unable to talk to docker hug, however from home network it works for me..</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:14</div><div class="msg">I can not check this directly, https://index.docker.io/v1/repositories/digitalrebar/dr_postgres/ request a user name and password...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:28</div><div class="msg">Can some one verify if the requested files available?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:37</div><div class="msg">it is there and not password protected</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:37</div><div class="msg">do you have password based proxy?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:38</div><div class="msg">no, the password request comes if i try to use the link in a browser</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:38</div><div class="msg">if i use wget, no problem</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:38</div><div class="msg">can you send my the complete file path?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:38</div><div class="msg">i will try wget to this</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:39</div><div class="msg">only for check</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:39</div><div class="msg">it isn't a file.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:39</div><div class="msg">well - it is , but it is a separate protocol that docker uses to get content.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:39</div><div class="msg">My guess is that docker is misconfigured</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:40</div><div class="msg">ahhh, separate protokoll...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:40</div><div class="msg">not 80 or 443 ...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:40</div><div class="msg">(http/ https)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:41</div><div class="msg">it is those ports and those protos, but it turns into more requests</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:43</div><div class="msg">??? than I'm lost yet, I have set a system proxy for http and https, tryed to configure the docker proxy in /etc/systemd/system/docker.service.d/http-proxy.conf </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:43</div><div class="msg">but nothing helps</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:43</div><div class="msg">something missing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:45</div><div class="msg">can you run this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:45</div><div class="msg">docker run hello-world</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:46</div><div class="msg">It should output Hello from Docker!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 14:46</div><div class="msg">That means that you have docker configured correctly for your firewall environment.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:46</div><div class="msg">trying</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:48</div><div class="msg">failed</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 14:48</div><div class="msg">network time out</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 15:23</div><div class="msg">ok, docker proxy rechecked, new configured, service restartd -&gt; runs fine with "docker run hello-world"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 15:31</div><div class="msg">retry the docker pull</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 15:34</div><div class="msg">working on it, runs in a storage failure, sounds like not enough storage available at the chosen path...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 16:32</div><div class="msg">:( was not the failure</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 16:32</div><div class="msg">TASK [Pull compose images [SLOW]] **********************************************
fatal: [10.241.236.92]: FAILED! =&gt; {"changed": true, "cmd": "DR_TAG=master /usr/local/bin/docker-compose pull", "delta": "0:01:19.428383", "end": "2017-05-19 18:30:10.865906", "failed": true, "rc": 1, "start": "2017-05-19 18:28:51.437523", "stderr": "Pulling postgres (digitalrebar/dr_postgres:master)...\nPulling rule-engine (digitalrebar/rule-engine:master)...\nPulling consul (gliderlabs/consul:latest)...\nPulling forwarder (digitalrebar/dr_forwarder:master)...\nPulling goiardi (digitalrebar/dr_goiardi:master)...\nPulling trust_me (digitalrebar/dr_trust_me:master)...\nPulling logging (digitalrebar/logging:master)...\nPulling dns (digitalrebar/dr_dns:master)...\nPulling provisioner (digitalrebar/dr_provisioner:master)...\nPulling revproxy (digitalrebar/dr_rev_proxy:master)...\nPulling cloudwrap (digitalrebar/cloudwrap:master)...\nPulling rebar_api (digitalrebar/dr_rebar_api:master)...\nfailed to register layer: devmapper: Thin Pool has 827 free data blocks which is less than minimum required 851 free data blocks. Create more free space in thin pool or use dm.min_free_space option to change behavior", "stdout": "Trying to pull repository registry.access.redhat.com/digitalrebar/dr_postgres ... \nTrying to pull repository docker.io/digitalrebar/dr_postgres ... \nmaster: Pulling from docker.io/digitalrebar/dr_postgres\nDigest: sha256:d94959f8c3294b3da4c8bb0ecb0e786e8cb386998b59a25e2afb50aa51a8bf2a\nTrying to pull repository registry.access.redhat.com/digitalrebar/rule-engine ... \nTrying to pull repository docker.io/digitalrebar/rule-engine ... \nmaster: Pulling from docker.io/digitalrebar/rule-engine\nDigest: sha256:2d42fdf62c74ffecdbc9d4afc2591243179bd13f3a7225cfece0758689ee2f4b\nTrying to pull repository registry.access.redhat.com/gliderlabs/consul ... \nTrying to pull repository docker.io/gliderlabs/consul ... \nlatest: Pulling from docker.io/gliderlabs/consul\nDigest: sha256:927a560389df16092364a4c26c976cd9b845800c8b96b4e687451c398f4187c1\nTrying to pull repository registry.access.redhat.com/digitalrebar/dr_forwarder ... \nTrying to pull repository docker.io/digitalrebar/dr_forwarder ... \nmaster: Pulling from docker.io/digitalrebar/dr_forwarder\nDigest: sha256:9febe88b6f8ff9b028fbeb10560cdec752d35985aaf5165629f6dd7824e0f129\nTrying to pull repository registry.access.redhat.com/digitalrebar/dr_goiardi ... \nTrying to pull repository docker.io/digitalrebar/dr_goiardi ... \nmaster: Pulling from docker.io/digitalrebar/dr_goiardi\nDigest: sha256:db620bbb4994d1074d706362996243353ad1d1f0347e7ec4e8706acb0e7195fe\nTrying to pull repository registry.access.redhat.com/digitalrebar/dr_trust_me ... \nTrying to pull repository docker.io/digitalrebar/dr_trust_me ... \nmaster: Pulling from docker.io/digitalrebar/dr_trust_me\nDigest: sha256:194f71e8edf29644ddcf9477d6764c71cff44dabe3c5de42aed779fd488183be\nTrying to pull repository registry.access.redhat.com/digitalrebar/logging ... \nTrying to pull repository docker.io/digitalrebar/logging ... \nmaster: Pulling from docker.io/digitalrebar/logging\nDigest: sha256:4eeee9ee94df703bc69ce1ef0af12d36302ac315873361c55089be701d140e9a\nTrying to pull repository registry.access.redhat.com/digitalrebar/dr_dns ... \nTrying to pull repository docker.io/digitalrebar/dr_dns ... \nmaster: Pulling from docker.io/digitalrebar/dr_dns\nDigest: sha256:46c93057b1bb01d1700d9015ef3f03a483b3204aa03ef808589086eddec8259d\nTrying to pull repository registry.access.redhat.com/digitalrebar/dr_provisioner ... \nTrying to pull repository docker.io/digitalrebar/dr_provisioner ... \nmaster: Pulling from docker.io/digitalrebar/dr_provisioner\nDigest: sha256:f790122f2d83f8f2a05b1e00d8fa90fbfbf7c093b8d4913faf3055da46b15cc6\nTrying to pull repository registry.access.redhat.com/digitalrebar/dr_rev_proxy ... \nTrying to pull repository docker.io/digitalrebar/dr_rev_proxy ... \nmaster: Pulling from docker.io/digitalrebar/dr_rev_proxy\nDigest: sha256:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 16:32</div><div class="msg">ffb8675f7069613ba4c6697bae49f367e7f43946b170dfa0236d2a923d42c24c\nTrying to pull repository registr</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 16:34</div><div class="msg">I think, this step crashed : failed to register layer: devmapper: Thin Pool has 827 free data blocks which is less than minimum required 851 free data blocks. Create more free space in thin pool or...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 16:35</div><div class="msg">but : /dev/mapper/datavg-rebar_lv      40G  122M   38G   1% /var/lib/docker  should be enough</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 16:49</div><div class="msg">any chance you have a `cURL` command to change the BootEnv handy?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 16:49</div><div class="msg">anyone ^^</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 16:51</div><div class="msg">curl is installed</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 16:53</div><div class="msg">but what will you do?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 17:06</div><div class="msg">oh, sorry i mean to run a curl command against the API</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 17:07</div><div class="msg">i useally figure one or two out and copypasta them with differences i need</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 17:07</div><div class="msg">the ?how toget the token? and all</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 17:07</div><div class="msg">If you give me the request ;)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 17:07</div><div class="msg">`data='{"BootEnv": "local"}'`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 17:08</div><div class="msg">so leverage the rocketskates token then put against URL/api/v3/machines/UUID with the data as the payload?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-19 17:10</div><div class="msg">I'm not so familiar curl , so can you write down the complete command :shy:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 17:10</div><div class="msg">heh, yeah i?ll play around with it. i think i know what i need to do after :rubberducking: you :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 18:12</div><div class="msg">well - realize that DRP and DR have slightly different provisioner components at the moment.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 18:12</div><div class="msg">@jj - drpcli machines bootenv &lt;uuid&gt; &lt;bootenv&gt;</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 18:20</div><div class="msg">Ah! Yeah the python in the end of the new boot.cfg has an error, I was going to see it was another way @greg </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 18:24</div><div class="msg">My python is function, but not very good.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 18:39</div><div class="msg">@jj did you find the bug and fix?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 18:58</div><div class="msg">the python thing may not be a bug.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 18:58</div><div class="msg">It is a mismatch in supported cert validation.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 19:01</div><div class="msg">ah, yeah it just says ?there is an error?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 20:20</div><div class="msg">@jj - I have fix for the python thing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 20:20</div><div class="msg">:open_mouth:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fe894bb04a25fc6ed109ae22a8dfd061.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">jj</div><div class="time">2017-05-19 20:21</div><div class="msg">I?m having a hellva time trying to get ESXi to boot correctly and install to a USB stick, i might just remove the `ks.cfg` completely at this rate</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-19 20:22</div><div class="msg">ok</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-21 03:44</div><div class="msg">ello People ! I am working on one of my machine learning projects and need your help and support . Please fill the survey form . Thanks in advance . https://goo.gl/eHqkHk</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 09:52</div><div class="msg">Hi, can DigitalRebar use Dell iDrac to powercycle and netboot the server ?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 12:19</div><div class="msg">what do I need to start simple bare-metal on prem with tftp and dhcp on admin host ?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 12:24</div><div class="msg">anywhere I need to put username and password for idrac admin account ?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 13:53</div><div class="msg">@maymann check out Provsion for DHCP/PXE/TFTP &gt;  https://github.com/digitalrebar/provision</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 13:54</div><div class="msg">you'll need to run install the full Digital Rebar for out of band management</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 13:56</div><div class="msg">to answer your original question - YES.  that's what Digital Rebar does</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 13:58</div><div class="msg">@punitaojha this is not the right forum for this type of survey</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 21:09</div><div class="msg">@zehicle Hey Rob!! Remember me, from the discussion regarding DR failure on AWS</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 21:09</div><div class="msg">I put out the word to my manager about the DR and its use cases</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 21:10</div><div class="msg">Can you reach out to him regarding any potential use cases at Ericsson , His name is "Kumar" and he can be reached at "thalanayar.muthukumar@ericsson.com"</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 21:19</div><div class="msg">Hi, I am trying to create a barclamp from a ansible playbook. Any pointers to docs or similar. I'm new to both ansible and rebar.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-22 21:44</div><div class="msg">@svallebro the best thing to do is look at the kubernetes install roles and the ansible jig.    https://www.youtube.com/watch?v=uLTA2LA4KG8</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-23 03:02</div><div class="msg">Tanks</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-24 23:00</div><div class="msg">Following the mac PXE youtube video.  I'm unable to get the machine to full boot.  Getting the error: Failed to download stage2.img for ....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-24 23:32</div><div class="msg">Is that file in the rftpboot dir for provision?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 12:43</div><div class="msg">zehicle: yes I see the file in drp-data/tftpboot/sledgehammer/708de8b878e3818b1c1bb598a56de968939f9d4b/stage2.img</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:04</div><div class="msg">?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:37</div><div class="msg">hmm - okay - so, DHCP worked, tftp worked,http didn't ....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:44</div><div class="msg">connecting to the ui (or prefs through the cli), you can change the debug on render to see what files are being sent back in the output of dr-provision.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:46</div><div class="msg">What networking did you configure?  is it a local L2? What which local IP did you use for the dr-provision?  Is the node multi-homed?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:47</div><div class="msg">The questions are directed to try and make sure that the IP used to contact DRP through the full path is the same.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:47</div><div class="msg">I changed the debug level.  Will look at the logs closely soon</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:48</div><div class="msg">I'm on mac using virtual box.  dr-provision is using the same subnet as my vb interface</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:48</div><div class="msg">--static-ip=192.168.61.233/24</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:48</div><div class="msg">The IP used for the --static-ip flag needs to be routable by the clients</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:48</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:49</div><div class="msg">host-only network?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:49</div><div class="msg">this is the subnet I created 192.168.61.1/24</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:49</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:50</div><div class="msg">what 61.233 instead of 61.1?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:50</div><div class="msg">what=why?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:50</div><div class="msg">I don't know.. I just type some random number there</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:50</div><div class="msg">no reason</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:51</div><div class="msg">--static-ip should be the address assigned the node.  On my system that is the .1 address.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:51</div><div class="msg">hmm</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:51</div><div class="msg">the node that is booting?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:52</div><div class="msg">vboxnet1: flags=8943&lt;UP,BROADCAST,RUNNING,PROMISC,SIMPLEX,MULTICAST&gt; mtu 1500
	ether 0a:00:27:00:00:01 
	inet 192.168.57.1 netmask 0xffffff00 broadcast 192.168.57.255</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:52</div><div class="msg">I guess the static-ip is a little confusing for me</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:52</div><div class="msg">I assume it was the dr-provision itself</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:52</div><div class="msg">so static-ip is the IP that dr-provision will use for communications if no other path is obvious.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:52</div><div class="msg">inet 192.168.61.1 netmask 0xffffff00 broadcast 192.168.61.255</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:52</div><div class="msg">Yes- use 192.168.61.1 as the static-ip.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:53</div><div class="msg">same result</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:53</div><div class="msg">when I boot</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:54</div><div class="msg">that's it</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:54</div><div class="msg">I'm getting a login prompt now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:54</div><div class="msg">Cool!</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:54</div><div class="msg">odd..  I thought I tried .1 before</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:54</div><div class="msg">anyhow.. it works :)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:54</div><div class="msg">what's the login?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:54</div><div class="msg">root/rebar1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:54</div><div class="msg">drpcli machines list</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:54</div><div class="msg">should show the node as well</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:55</div><div class="msg">nice</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:55</div><div class="msg">I will play around some more..  those videos are helpful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:56</div><div class="msg">I'll take a note to review the docs and maybe add note to the video abou that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:56</div><div class="msg">Which video did you use?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:57</div><div class="msg">This is actually @galthaus or @greg.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:57</div><div class="msg">I watched the video with the old macbook pro</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:58</div><div class="msg">there was one thing didn't work for me during install, but I just ignore it</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:58</div><div class="msg">sudo route -n add -net 255.255.255.255 --static-ip=10.0.0.20</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:58</div><div class="msg">it said to do that if I'm osx &gt; 10.9</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 13:58</div><div class="msg">but it didn't like the syntax "--static"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:58</div><div class="msg">the --static-ip should be 192.168.61.1 in your case.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:59</div><div class="msg">Yeah - it was an add from the community that was needed for his mac.  It may not always be needed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 13:59</div><div class="msg">You sometimes need it to make sure the broadcast packets are routed correctly on a mac.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 14:00</div><div class="msg">it was complaining about syntax error on the world "static"</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 14:00</div><div class="msg">need to step out..bbl</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 14:01</div><div class="msg">actually, I think greater than/less thans are reversed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 14:01</div><div class="msg">I'll fix that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 14:01</div><div class="msg">thanks.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 15:00</div><div class="msg">I believe I also had an issue with the first one too</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 15:00</div><div class="msg">I'm running 10.11.6</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 15:10</div><div class="msg">zehicle: I noticed there's a more comprehensive UI than the swagger one in other videos.  How do I access that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 15:43</div><div class="msg">Path is /ui </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 15:46</div><div class="msg">that's the one I have been using: &lt;localhost:8092/ui&gt;</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 15:48</div><div class="msg">I'm referring to the other one.  Like in k8s video</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 15:57</div><div class="msg">or is that part of the RackN product?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 16:10</div><div class="msg">That is the bigger digitalrebar ux.  Most likely</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 16:12</div><div class="msg">zehicle: how do I access the "bigger DR ux"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 16:27</div><div class="msg">It is a separate product    You would have to install digitalrebar fulll.  The question is what are trying to do and which features do you need</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 16:38</div><div class="msg">Trying to do an eval of the product and better understanding what it can do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 16:48</div><div class="msg">okay - well - check here for digitalrebar info: <a href="https://github.com/digitalrebar/digitalrebar">https://github.com/digitalrebar/digitalrebar</a></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 16:50</div><div class="msg">Got it thx</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 17:28</div><div class="msg">6GB Ram min now :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 17:36</div><div class="msg">for digitalrebar, it is doing a little more than drp.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 17:38</div><div class="msg">just a little</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 17:38</div><div class="msg">:)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 17:48</div><div class="msg">zehicle: What's a good email for you?  It might make sense for us to have a brief chat before I go down the full blown evaluation.  I can email you a short description of what we trying to accomplish.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 17:53</div><div class="msg"><mailto:rob@rackn.com|rob@rackn.com> and <mailto:greg@rackn.com|greg@rackn.com></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 17:56</div><div class="msg">Thx, you will receive an email from Aaron soon</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-25 17:59</div><div class="msg">:slightly_smiling_face: thanks - we are at Gluecon right now.  So reply may not be today.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-25 18:21</div><div class="msg">np</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-26 12:03</div><div class="msg">I installed the Digital-rebar, the installation completed successful. However in the UI provisioner tab is missing. But the provisioner container is running.
 </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-26 12:03</div><div class="msg">[root@mo-dc2df9e2a compose]# docker-compose ps
WARNING: The DR_TAG variable is not set. Defaulting to a blank string.
        Name                       Command               State                      Ports
-------------------------------------------------------------------------------------------------------------
compose_cloudwrap_1     /sbin/docker-entrypoint.sh       Up
compose_consul_1        /bin/consul agent -config- ...   Up
compose_dns_1           /sbin/docker-entrypoint.sh       Up
compose_forwarder_1     /sbin/docker-entrypoint.sh       Up      0.0.0.0:3000-&gt;3000/tcp, 0.0.0.0:443-&gt;443/tcp
compose_goiardi_1       /sbin/docker-entrypoint.sh       Up
compose_logging_1       /sbin/docker-entrypoint.sh       Up
compose_postgres_1      /docker-entrypoint.sh postgres   Up
compose_provisioner_1   /sbin/docker-entrypoint.sh       Up
compose_rebar_api_1     /sbin/docker-entrypoint.sh       Up
compose_revproxy_1      /sbin/docker-entrypoint.sh       Up
compose_rule-engine_1   /sbin/docker-entrypoint.sh       Up
compose_trust_me_1      /sbin/docker-entrypoint.sh       Up
compose_webproxy_1      /sbin/docker-entrypoint.sh       Up
[root@mo-dc2df9e2a compose]#</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-26 12:04</div><div class="msg">Please check and let me know where I am going wrong...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-26 13:26</div><div class="msg">First, my guess is that you don't want forwarder mode.  You should rerun the command with: --access=HOST</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-26 13:33</div><div class="msg">second, you can go to <a href="https://adminip/health">https://adminip/health</a> and see if the service has registered.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-26 18:50</div><div class="msg">@zehicle , even after rerun the command with --access=host , still provisioner service is not showing in the UI </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-26 18:50</div><div class="msg">{"Map":{"dns-mgmt-service":["172.17.0.7:6754"],"rebar-api-service":["172.17.0.9:3000"],"rule-engine-service":["172.17.0.2:19202"]},"Matcher":{"dns-mgmt-service":"^dns/(._)","rebar-api-service":"^rebar-api/(._)","rule-engine-service":"^rule-engine/(api/.*)"},"Default":"rebar-api-service"}</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-26 18:58</div><div class="msg">capital HOST</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-26 18:59</div><div class="msg">do you have access to internet?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-26 18:59</div><div class="msg">you can do: ```docker-compose logs -f provisioner```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-26 18:59</div><div class="msg">It would be nice to know what is in that log.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-30 09:38</div><div class="msg">@zehicle , I am getting below messages from the command : docker-compose logs -f provisioner
[root@mo-dc2df9e2a compose]# docker-compose logs -f provisioner
WARNING: The DR_TAG variable is not set. Defaulting to a blank string.
Attaching to compose_provisioner_1
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/00-wait-for-ip.sh
provisioner_1  | Waiting for 192.168.124.11/24
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/05-start-samba.sh
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/10-wait-for-consul.sh
provisioner_1  |   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
provisioner_1  |                                  Dload  Upload   Total   Spent    Left  Speed
100    19  100    19    0     0   3472      0 --:--:-- --:--:-- --:--:--  3800
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/15-get-sledgehammer.sh
provisioner_1  |   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
provisioner_1  |                                  Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:--  0:02:06 --:--:--     0curl: (7) Failed to connect to opencrowbar.s3-website-us-east-1.amazonaws.com port 80: Connection timed out
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/00-wait-for-ip.sh
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/05-start-samba.sh
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/10-wait-for-consul.sh
provisioner_1  |   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
provisioner_1  |                                  Dload  Upload   Total   Spent    Left  Speed
100    19  100    19    0     0   3314      0 --:--:-- --:--:-- --:--:--  3800
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/15-get-sledgehammer.sh
provisioner_1  |   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
provisioner_1  |                                  Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:--  0:02:06 --:--:--     0curl: (7) Failed to connect to opencrowbar.s3-website-us-east-1.amazonaws.com port 80: Connection timed out
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/00-wait-for-ip.sh
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/05-start-samba.sh
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/10-wait-for-consul.sh
provisioner_1  |   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
provisioner_1  |                                  Dload  Upload   Total   Spent    Left  Speed
100    19  100    19    0     0   1100      0 --:--:-- --:--:-- --:--:--  1117
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/15-get-sledgehammer.sh
provisioner_1  |   % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
provisioner_1  |                                  Dload  Upload   Total   Spent    Left  Speed
  0     0    0     0    0     0      0      0 --:--:--  0:02:06 --:--:--     0curl: (7) Failed to connect to opencrowbar.s3-website-us-east-1.amazonaws.com port 80: Connection timed out
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/00-wait-for-ip.sh
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/05-start-samba.sh
provisioner_1  | Calling cmd: /usr/local/entrypoint.d/10-wait-for-consul.sh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-30 13:33</div><div class="msg">Does your admin node have access to amazon s3?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/6e54e78cfa7796635d660b6715af11b5.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">josh</div><div class="time">2017-05-30 18:28</div><div class="msg">has joined #community201705</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-30 18:50</div><div class="msg">@zehicle , No admin node do not have access to amazon s3. 
[root@mo-dc2df9e2a compose]# telnet opencrowbar.s3-website-us-east-1.amazonaws.com 80

Trying 52.216.82.18...

</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-30 18:55</div><div class="msg">well - that is the problem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-30 18:55</div><div class="msg">currently install requires that the admin node has a path out to the internet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-30 18:55</div><div class="msg">for initial setup</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-31 12:50</div><div class="msg">@zehicle ,</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-31 12:53</div><div class="msg">@zehicle , Since we are having internet connection issue at company, I am thinking like this, will deploy the digital-rebar on VM host from home internet,  then will take that OS image and will deploy on our  company server,  will that work? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-31 13:18</div><div class="msg">You may have to restart it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-31 13:18</div><div class="msg">it should work.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-31 15:31</div><div class="msg">How about the Admin IP, It will get change when I move the home based OS image to Company network, how it will work?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-05-31 15:35</div><div class="msg">@zehicle , when I logged into provisioner container, and issued ps -ef command to check the running process.. I see the below.
root@59a1537e7152:/# ps -ef
UID        PID  PPID  C STIME TTY          TIME CMD
root         1     0  0 12:48 ?        00:00:00 /bin/bash /sbin/docker-entrypoint.sh
root        22     1  0 12:48 ?        00:00:00 smbd
root        25    22  0 12:48 ?        00:00:00 smbd
root        28    22  0 12:48 ?        00:00:00 smbd
root        43     1  0 12:48 ?        00:00:00 /bin/bash /sbin/docker-entrypoint.sh
root        44    43  0 12:48 ?        00:00:00 curl -fgL -o /tftpboot/sledgehammer/a42c8c66a60b77ca1c769b8dc7e712f6644579ed/sha1sums http://opencrowbar.s3-website-us-east-1.amazonaws.com/sledgehammer/a42
root        46     0  0 12:48 ?        00:00:00 /bin/bash
root        60    46  0 12:49 ?        00:00:00 ps -ef

the PID 44 is running curl  which connects to AWS S3. which required internet. How will it be possible if I import the VM to company network, which will not allow the container to connect ti internet?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-31 15:56</div><div class="msg">The images are cached in the image.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-31 15:57</div><div class="msg">You can stop the containers and restart them with a specific command line that will change the external ip and not run the ansible playbooks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-05-31 15:57</div><div class="msg">Or you can contact RackN and get support for the offline install mode.</div></div></div><br/>
</div></body></html>