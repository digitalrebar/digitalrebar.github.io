<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 12:56</div><div class="msg">In tip, sledgehammer needs to be updated top very very latest.  The changes to sledgehammer and to kubernetes needed to be reconciled.  @greg did that Tuesday. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 12:56</div><div class="msg">@seaton ^^</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-11-01 17:13</div><div class="msg">I?m trying to use the custom-ipxe bootenv, but I keep getting an error on boot</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-11-01 17:14</div><div class="msg">`Booting kernel failed: Invalid argument`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-11-01 17:14</div><div class="msg">Any one else seen this?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-01 17:21</div><div class="msg">@smedefind I have! Well, on your screen</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 17:21</div><div class="msg">check the DRP logs and see if there's a rendering error on the template</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-01 17:22</div><div class="msg">those are systemd logs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 17:22</div><div class="msg">gives Zach +1 on Dad Jokes tally</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-01 17:22</div><div class="msg">I have two kids</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-01 17:22</div><div class="msg">it's just my nature at this point</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 17:23</div><div class="msg">yes AND also available via the /logs API.  You can browse in the UX</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-01 17:24</div><div class="msg">hmm k - doesn't seem to be much there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-11-01 17:26</div><div class="msg">I just booted up PXE with the logs being followed in my console, nothing came up.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-11-01 17:27</div><div class="msg">Turning on debug</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-11-01 17:29</div><div class="msg">```Nov 01 17:29:09 <a href="http://elemental-pxe-01.us-east.optoro.io">http://elemental-pxe-01.us-east.optoro.io</a> dr-provision[3229]: [159239:328]Content:
Nov 01 17:29:09 <a href="http://elemental-pxe-01.us-east.optoro.io">http://elemental-pxe-01.us-east.optoro.io</a> dr-provision[3229]: DEFAULT discovery
Nov 01 17:29:09 <a href="http://elemental-pxe-01.us-east.optoro.io">http://elemental-pxe-01.us-east.optoro.io</a> dr-provision[3229]: PROMPT 0
Nov 01 17:29:09 <a href="http://elemental-pxe-01.us-east.optoro.io">http://elemental-pxe-01.us-east.optoro.io</a> dr-provision[3229]: TIMEOUT 10
Nov 01 17:29:09 <a href="http://elemental-pxe-01.us-east.optoro.io">http://elemental-pxe-01.us-east.optoro.io</a> dr-provision[3229]: LABEL discovery
Nov 01 17:29:09 <a href="http://elemental-pxe-01.us-east.optoro.io">http://elemental-pxe-01.us-east.optoro.io</a> dr-provision[3229]:   KERNEL ipxe.pxe```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-01 17:31</div><div class="msg">:point_up: that's from the debug</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-01 17:32</div><div class="msg">Hmm? my CI process that uses `drpcli contents bundle` has started failing with `Error: Failed to load: No idea how to decode FETCH_HEAD into .git`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-01 17:33</div><div class="msg">(first rebuild of the content pack in ~2 weeks so it?s pulled down a new version of drp + cli (its configured to use tip)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 17:46</div><div class="msg">bundle checks for ._[meta].meta files.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 17:51</div><div class="msg">it's possible that you've got a .git file hanging out in a subdirectory (likely the templates one)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 17:53</div><div class="msg">@bagricola RE: <a href="https://github.com/digitalrebar/provision/blob/9d70a4999bc6890063a18a7a395f0e9580127ec2/api/content.go#L117">https://github.com/digitalrebar/provision/blob/9d70a4999bc6890063a18a7a395f0e9580127ec2/api/content.go#L117</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-01 18:35</div><div class="msg">hmm? well it is a git repo so it has a `.git` dir in the root</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-01 18:36</div><div class="msg">which would explain the error, as FETCH_HEAD is a file inside that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-01 18:42</div><div class="msg">yeah, removing the `.git` dir before calling bundle works</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 19:17</div><div class="msg">we put multiple content packs in a repo, so that file is not a factor</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-11-01 19:18</div><div class="msg">(Apparently it's that time of day, when I turn up after reading things.) The gateway around here is always the bottom of an ip range and I've calculated that using ruby. Is there a way of adding some dynamic calculation to a content pack or the inside of a template?
(<a href="https://golang.org/pkg/text/template/">https://golang.org/pkg/text/template/</a> but I'm not sure how much I can cram in a template.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-11-01 19:18</div><div class="msg">That is, I know how I would do the calculation, I'm not sure where I would add this in a content pack.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 19:22</div><div class="msg">@christopher_wood yes!  we include the sprig library for the template render, so you can use nearly any of those functions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-11-01 19:22</div><div class="msg">Thank you! Reading about sprig.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 19:23</div><div class="msg"><a href="https://provision.readthedocs.io/en/tip/doc/arch/provision.html?highlight=sprig">https://provision.readthedocs.io/en/tip/doc/arch/provision.html?highlight=sprig</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-01 19:23</div><div class="msg">and a FAQ example:
<a href="https://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html?highlight=sprig#how-can-i-manipulate-values-during-golang-template-rendering">https://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html?highlight=sprig#how-can-i-manipulate-values-during-golang-template-rendering</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-01 19:24</div><div class="msg">you may also add a task to calculate and push the values into params for later stages.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-11-01 19:32</div><div class="msg">Okay, I think I get it. Back to the books. Very much appreciated.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-02 14:46</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-02 14:54</div><div class="msg">@sean.t.beeg $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-02 14:54</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0ae86395e04d953dd3840c57ec747515.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">chedbob.pm</div><div class="time">2018-11-04 15:30</div><div class="msg">howdy.  I think I wish to run something on a chef server which drp could use to execute remote instructions as part of a provisioning workflow for other machines.  is there a doc somewhere on accomplishing things of that nature?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0ae86395e04d953dd3840c57ec747515.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">chedbob.pm</div><div class="time">2018-11-04 20:41</div><div class="msg">can the drp "client" do that?  thanks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-04 21:07</div><div class="msg">In short, yes. Either as a custom task in workflow that calls out to the chef server (executed on the machine side) ; or a PlugIn that executes the call to chef on the machine's behalf (from DRP Endpoint) . </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-04 21:51</div><div class="msg">@chedbob.pm check out the ansible tower discussion posted from the last meetup.  If that matches, the a plugin may be best</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0ae86395e04d953dd3840c57ec747515.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">chedbob.pm</div><div class="time">2018-11-04 21:51</div><div class="msg">thanks Shane and Rob</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-05 15:00</div><div class="msg"><!here> - Tomorrow (Tuesday November 6th) at 11:00 am PST will be our regularly scheduled Digital Rebar meetup (v029).  Check out the agenda and details:
<a href="https://www.meetup.com/digitalrebar/events/lchdhpyxpbjb/">https://www.meetup.com/digitalrebar/events/lchdhpyxpbjb/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 15:02</div><div class="msg">@chedbob.pm "remote actions" relates to the question you are asking about</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 17:51</div><div class="msg">Hey there guys. hope all is well. Rob invited me here. :slightly_smiling_face: anyway, I just setup a test VM running digital rebar.  the VM has a public interface that faces our lab (but not the internet) and a private interface used for PXE booting.   When I visit the DNS name of the digital rebar server on port 8092/ux, I am getting a "No route" response (404) from the server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 17:51</div><div class="msg">I should point out that using CLI I was able to get sledhammer to work on an R630 via PXE boot</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 17:55</div><div class="msg">also am getting the same when I visit using firefox on the server itself using the loopback address.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-05 18:15</div><div class="msg">@sean.t.beeg - welcome - if we didn't say that already :slightly_smiling_face:
For the Portal - the laptop/management machine that is used to manage the DRP Endpoint must have Internet connectivity to `<a href="http://portal.rackn.io">http://portal.rackn.io</a>`(HTTPS port 443) and access to the DRP Endpoint port 8092 (by default - unless changed)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 18:16</div><div class="msg">my mac can reach that address, and that's where I'm accessing the URL on my server from. my mac uses a web proxy, could that be part of our issue here?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-05 18:17</div><div class="msg">the Web App is operating in a CORS (cross origin resource sharing) model - so it's basically "proxying" the connection between the DRP endpoint and the hosted SaaS site</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-05 18:18</div><div class="msg">also - make sure you use the IP address of your "public facing" interface on DRP endpoint - if the DNS resolves to the internal address (PXE) - that would likely break the Portal connection through the web browser</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 18:20</div><div class="msg">@shane I'll take a look at the ip on the DRP endpoint. that's the only thing left</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 18:20</div><div class="msg">your assistance is most appreciated</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 18:21</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-05 18:21</div><div class="msg">you're web browser URL should look something like:
<a href="https://portal.rackn.io/#/e/1.2.3.4:8092">https://portal.rackn.io/#/e/1.2.3.4:8092</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-05 18:22</div><div class="msg">where "1.2.3.4" is the your internal public IP of the DRP endpoint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-05 18:22</div><div class="msg">(or a DNS record that resolves to that address)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 18:23</div><div class="msg">HEY doing that manually worked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-05 18:24</div><div class="msg">also - unless you've installed a CA signed TLS cert - you'll need to visit the DRP endpoint address directly - and accept the Self Signed Cert in your browser - otherwise, it'll fail</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-05 18:24</div><div class="msg">woot woot !</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 18:24</div><div class="msg">check that noise out. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 18:24</div><div class="msg">ok I'm on my way.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 18:24</div><div class="msg">I've got about 15 R630 compute nodes I want to fool with for a bit</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ae2ad63052c3db0cc5ce0770ca52c27b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">sean.t.beeg</div><div class="time">2018-11-05 18:25</div><div class="msg">I'll let you guys know how it works out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-05 18:45</div><div class="msg">excellent</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:32</div><div class="msg">Why can't I set the unknown bootenv to something other than "discovery"?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 23:33</div><div class="msg">from the UX?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:34</div><div class="msg">It tried from the cli as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 23:34</div><div class="msg">you can only choose Bootenvs that are available</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:34</div><div class="msg">It says my bootenv cannot be used for the unknownBootEnv</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 23:34</div><div class="msg">so check to make sure that you are picking an available bootenv</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:34</div><div class="msg">Ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 23:34</div><div class="msg">one of those battle scars, protect operators from bad decisions things</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:35</div><div class="msg">It looks good.  It has a check mark next to it anyway.  How else can I tell?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 23:35</div><div class="msg">it does not help you if your upgrade breaks the bootenv</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 23:35</div><div class="msg">check the logs and see what it's telling you is the reason</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 23:36</div><div class="msg">OH... there's also a "can be unknown bootenv" flag that needs to be set</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:36</div><div class="msg">Oh!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:36</div><div class="msg">Ok, where's that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 23:36</div><div class="msg">another protection since the unknown bootenvs are insecure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 23:36</div><div class="msg">on the bootenv object</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:36</div><div class="msg">Ok let me look.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:37</div><div class="msg">"OnlyUnknown"?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-05 23:37</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:37</div><div class="msg">Ok, let's see.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-05 23:40</div><div class="msg">Yup, that did it.  Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 00:43</div><div class="msg">That flag limits the tokens that can be generated for the machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 00:47</div><div class="msg">It's some of the "holy cow! Drp does that magic?!" I discover all the time as I dig around. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/df970f10fe5333adcc07282e3b759309.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">asingla</div><div class="time">2018-11-06 02:10</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 02:33</div><div class="msg">@asingla $welcome </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-06 02:33</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/df970f10fe5333adcc07282e3b759309.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">asingla</div><div class="time">2018-11-06 02:37</div><div class="msg">Great to be part of the community...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 14:26</div><div class="msg">Has anyone tried krib in memory with a ZFS root pool?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 14:39</div><div class="msg">@zdunn not that I've heard of.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-06 14:43</div><div class="msg">@zdunn - I believe @nkabir was doing some things with ZFS - but he was using Ansible IIRC to provision the ZFS volumes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-06 14:44</div><div class="msg">don't think anything w/ the root pool, though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:07</div><div class="msg">k</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:08</div><div class="msg">I was thinking in memory OS with ZFS libs in place, pulling in the zpool on boot (obviously we would need to have a configure step if it didn't exist)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-06 15:35</div><div class="msg">Sledgehammer (the DRP discovery image) is in-memory, but it probably doesn't have the ZFS libs by default - though you could build a workflow task that adds the pkgs and then does what you want ... i you work towards this - we'd love to add it in to community</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:36</div><div class="msg">we are looking for sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:36</div><div class="msg">we are also looking at rancherOS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:37</div><div class="msg">it's sort of already doing this*</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:37</div><div class="msg">aside from ZFS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:37</div><div class="msg">but they support ZFS in their ondisk install</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:40</div><div class="msg">If we wanted to add in the zfs tools and libs is there some good docs on building custom sledgehammers?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:40</div><div class="msg">using the data in inventory/gohai, it would be pretty easy to build a stage that does the right install steps.  Sledgehammer is Centos7 so a yum install would work.  The biggest unknown is logic to pick the right volumes automatically.  For starters, you could provide via a param instead</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:40</div><div class="msg">that would be good for an ondisk install</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:40</div><div class="msg">but for PXE'ing an in memory image</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:40</div><div class="msg">we don't want 20 mins of compiling</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:41</div><div class="msg">the stages include "attach disk"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:41</div><div class="msg">if you want all in RAM, then just extend the system that's there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:41</div><div class="msg">sure - that would be good after we have the image!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:42</div><div class="msg">the steps with rebar make this all easier in someways</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:42</div><div class="msg">sledgehammer repo is <a href="https://github.com/digitalrebar/sledgehammer">https://github.com/digitalrebar/sledgehammer</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-06 15:42</div><div class="msg">We don?t use that anymore</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:42</div><div class="msg">BUT... typically, it's easier to add items into the image using stages postinstall than building a new sledgehammer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:42</div><div class="msg">that makes it more durrable</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:43</div><div class="msg">oh! right.  sorry</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:43</div><div class="msg">@zehicle wouldn't that make it harder to do an in memory install?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:43</div><div class="msg">I think this is a specific topic for the meetup today</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:43</div><div class="msg">stages that is</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:43</div><div class="msg">vs launching a prebuilt artifcat</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:43</div><div class="msg">I would rather lean into the baremetal as cattle analogy for kubernetes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:44</div><div class="msg">no, you'd just do the install</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:44</div><div class="msg">we've been doing something similar with Joyent's Triton and it's worked well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:44</div><div class="msg">I don't grok
&gt; `no, you'd just do the install`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:45</div><div class="msg">if I am loading the sledgehammer image - they including a step for ZFS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:45</div><div class="msg">I would need to do that every time I reboot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:45</div><div class="msg">there's a balance between doing a stage to install something and having to maintain your own image.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:45</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:45</div><div class="msg">but I don't want 30 min reboot times either</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:45</div><div class="msg">MTR for a rack failure would be awful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:45</div><div class="msg">check out the kexec flag.  from sledge to sledge, you don't need to reboot</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:46</div><div class="msg">interesting</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:46</div><div class="msg">but a power failure / hardware replacement / panic would mean a reboot and so a recompile?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:46</div><div class="msg">recompile?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:47</div><div class="msg">of ZFS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:47</div><div class="msg">if it's a stage</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:47</div><div class="msg">in the pxe boot</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:47</div><div class="msg">so we would pxe into sledgehammer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:47</div><div class="msg">then install zfs (yum whatever we find works best)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:48</div><div class="msg">that would compile ZFS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:48</div><div class="msg">and the ZFS tools</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:48</div><div class="msg">then attach disks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:48</div><div class="msg">(i am sure I am skipping a lot of other bits)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:50</div><div class="msg">I don't have enough experience to know why you need to recompile ZFS each time.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-11-06 15:52</div><div class="msg">ZFS has to be specifically compiled for each kernel version. We could probably lock sledgehammer to a version and create a package off of that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-11-06 15:52</div><div class="msg">Basically ZFS can be a pain in the ass</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:53</div><div class="msg">well with rancherOS it's a PITA because they do build a custom kernel etc <a href="https://github.com/rancher/os-kernel/commit/93b71d24fb6368d38f562184d6fb5a97926265df">https://github.com/rancher/os-kernel/commit/93b71d24fb6368d38f562184d6fb5a97926265df</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:53</div><div class="msg">we could do something with the yum packages for ZFS</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:53</div><div class="msg">but that I believe really just does a bunch of the compiling for you in the backgroudn</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:53</div><div class="msg">since the don't want to run afoul of the licensing (?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:54</div><div class="msg">you could do the compile once then then push it to the endpoint/files.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:54</div><div class="msg">we will try doing the stages and see how long it takes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:54</div><div class="msg">if the bits are there, then use before compile</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:54</div><div class="msg">we do have 48 cores to throw at this</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:54</div><div class="msg">and kexec may save us enough inbetween</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-06 15:55</div><div class="msg">@zdunn this is the type of work that RackN can help with building and designing as a services engagement</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:55</div><div class="msg">Way to close the deal @zehicle</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-06 15:55</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d6ffd56047eb5de8a737eae5e7f42ce6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">knibble</div><div class="time">2018-11-07 11:49</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-07 14:59</div><div class="msg">should `/usr/local/bin/incrementer` and `/usr/local/bin/drbundler` be removed when running `tools/install.sh remove` ??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 15:00</div><div class="msg">oh - probably.  :neutral_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-11-07 15:02</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-07 15:10</div><div class="msg">@jzimmer $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-07 15:10</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-07 15:10</div><div class="msg">@knibble ^^ for you too!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-11-07 15:12</div><div class="msg">Thanks Rob.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-07 15:32</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-11-07 15:53</div><div class="msg">i am installing DRP for the first time, and trying to set up a small POC for a larger upcoming project. If i have questions is this the right space to just post, or should i DM someone?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 15:58</div><div class="msg">Start here, @jzimmer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-11-07 16:01</div><div class="msg">sounds good</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 16:53</div><div class="msg">$welcome - @nistor</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-07 16:53</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-07 17:01</div><div class="msg">howdy!  glad to be here :laughing:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:35</div><div class="msg">Is the best place to ask questions about krib here?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 17:35</div><div class="msg">well - sure.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:36</div><div class="msg">lol</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:36</div><div class="msg">Just wondering how best to debug a "failure"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:36</div><div class="msg">I am following the examples in <a href="https://provision.readthedocs.io/en/tip/doc/content-packages/krib.html#component-krib">https://provision.readthedocs.io/en/tip/doc/content-packages/krib.html#component-krib</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 17:36</div><div class="msg">there is a Param you can set which enables better debugging</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:37</div><div class="msg">--tell-me-whats-going-on-brah ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 17:37</div><div class="msg">it essentially enables `set -x` for all of the scripts - which will output a lot more about what is actually run</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:37</div><div class="msg">k</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 17:37</div><div class="msg">hold on - finding it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 17:39</div><div class="msg">`rs-debug-enable` - set that to True - either in the Global profile, or via a Profile / Param added to the Machine object of the Machine(s) you want to debug</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 17:40</div><div class="msg">for example - you could just set it in the `krib` profile you are using to hold your cluster information - since that should already be applied to all of the machines in question</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 17:40</div><div class="msg">if you include `{{ template "setup.tmpl" }}` in any custom content - you can have this mechanism at your disposal for BASH scripts you develop for content</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:42</div><div class="msg">cool trying that now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:49</div><div class="msg">alright!  that got me: `Error: Key, krib/cluster-bootstrap-token, already present on profile test-krib-ha`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:49</div><div class="msg">do I need to remove keys between runs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 17:50</div><div class="msg">yes - there's a whole "reset procedure" you need to run to clean things up ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 17:50</div><div class="msg">if you are doing multiple runs of the tool</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:50</div><div class="msg">ahh ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:51</div><div class="msg">giving that a shot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-07 17:51</div><div class="msg">it's the cluster-reset workflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-07 17:51</div><div class="msg">pick a machine in the cluster and run that workflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 17:52</div><div class="msg">(only needs to be run on ONE machine)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-07 17:52</div><div class="msg">IT WILL REMOVE YOUR CLUSTER CREDENTIALS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-07 17:53</div><div class="msg">I totally forgot -- was there an pre built ISO to deploy for a DRP if you wanted to dedicate a machine to it?  I think maybe I had heard it was a centos image?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:54</div><div class="msg">@zehicle I think that's the issue I am running into now :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 17:54</div><div class="msg">it's just a test to play around</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 17:54</div><div class="msg">@nistor - you need an existing machine running linux (centos7)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-07 17:54</div><div class="msg">gotcha ok thnx</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 17:54</div><div class="msg">Then you run the install.sh from the curl bash command.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-11-07 18:10</div><div class="msg">are there any documents around for BIOS Configuration?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 18:12</div><div class="msg">ok - so next stupid krib config question: ```./krib-get-masters-krib-get-masters.sh.tmpl@275(): echo 'Missing krib/cluster-master-vip on the machine!'
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 18:13</div><div class="msg">I think I just need to configure this into a range that it is in?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 18:13</div><div class="msg">e.g. the current nodes are all in 10.1.0.0/24 and the default master vip is 10.10.10.10 or something similiar</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 18:15</div><div class="msg">@zdunn - for "playing around" - I'd suggest starting with a non-HA cluster build - which will use one controller - the VIP is only needed for an HA config</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 18:15</div><div class="msg">it's a more "advanced" usage pattern</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 18:15</div><div class="msg">well we are never going to run a non-HA env</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 18:16</div><div class="msg">so IDK if that makes much sense to do that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 18:16</div><div class="msg">however - that Param defines an IP address that will be used by nginx as the VIP for the control plane - so it needs to be routable to all of your masters</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 18:17</div><div class="msg">typically an IP on the "public" side of the cluster, in the same Layer2 environment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 18:17</div><div class="msg">that all of your masters sit in</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 18:25</div><div class="msg">gotcha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 18:25</div><div class="msg">if you are using a Layer3 topology - it's left up to the operator to insure that IP (VIP) is able to float between machines via your infrastructure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-07 18:26</div><div class="msg">If you start at ha, you may slow learning the pattern.  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 18:28</div><div class="msg">I am slow learner</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 18:28</div><div class="msg">it's okay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 18:28</div><div class="msg">it's exposing me to more features as well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 18:29</div><div class="msg">just waiting on the worlds worse DNS now to resolve out my server names (didn't know that when i started)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 18:31</div><div class="msg">NS1  !!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 19:01</div><div class="msg">lol</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 19:01</div><div class="msg">we are on aws</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 19:01</div><div class="msg">resolution of new dns entries takes forever</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-11-07 19:01</div><div class="msg">I wish we had NS1 money</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 19:08</div><div class="msg">now onto ```	[ERROR KubeletVersion]: the kubelet version is higher than the control plane version. This is not a supported version skew and may lead to a malfunctional cluster. Kubelet version: "1.12.2" Control plane version: "1.11.1"
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 19:09</div><div class="msg">Yes - this is a bug(kinda).  set the k8s version parameter globally to `1.12.2`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 19:10</div><div class="msg">I think the kubelet installer isn?t pay attention to that var and getting the latest.  Where the control plane is using the var.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 19:14</div><div class="msg">```krib/cluster-kubernetes-version (string):```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 19:14</div><div class="msg">?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 19:27</div><div class="msg">@zdunn - here's the original response that worked for @seaton</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 19:27</div><div class="msg">nice</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-07 19:27</div><div class="msg">(note the "v" in there)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 19:48</div><div class="msg">huh different errors</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 19:48</div><div class="msg">```Tiller NOT running - something went wrong with helm init
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 20:32</div><div class="msg">so things are somehow already running there...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 21:28</div><div class="msg">yeah it does seem to install but then not register where it has installed things?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:02</div><div class="msg">@zdunn - are you rerunning the stages without resetting them?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:02</div><div class="msg">These aren?t necessarily idempotent.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 22:02</div><div class="msg">Nah</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 22:02</div><div class="msg">I've reset a couple times</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 22:03</div><div class="msg">It blew away the custom attributes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:03</div><div class="msg">Are the machines persistent?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 22:03</div><div class="msg">No</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-07 22:03</div><div class="msg">Live</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:11</div><div class="msg">Hmm - actually, I guess your last error is the one to look at.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:12</div><div class="msg">From that machine, you should be able to do `drpcli profiles get &lt;krib profile&gt; param "krib/cluster-admin-conf"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:12</div><div class="msg">Redirect that to a file: `label.conf`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:12</div><div class="msg">Then do `kubectl --kubeconfig=label.conf get nodes`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:13</div><div class="msg">You should then be able to look into the label.conf and see what is in it if the command fails.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:29</div><div class="msg">I've got a bootenv I made to handle unknown systems and it's telling me it can't add a system node because the bootenv is flagged as "UnknownOnly".  But it doesn't work as an Unknown bootenv if it's not flagged that, plus the default discovery bootenv is flagged UnknownOnly but can still create machine nodes.  What gives?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:31</div><div class="msg">Ummm @dave.parker, I?m not sure what you are doing when you get that message.  The `UnknownOnly` bootenvs can only be used in the Unknown Bootenv Preference.  They can not be assigned to a machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-07 22:31</div><div class="msg">Could one put preferences as part of a content bundle?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:32</div><div class="msg">@tom.gillman - sadly no.  That is an architectural oversight in the content system.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:32</div><div class="msg">You can kinda do it, but they don?t take effect like you think they should.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-07 22:33</div><div class="msg">I ask, because the implication is that contents are RO, and preferences seem to want to be modified.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:34</div><div class="msg">That is correct.  From a history perspective, prefs were created before the object system solidified and then didn?t get truly converted over to objects.  Prefs are also the only ?objects? that can be specified on the command line that are set if not set.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:34</div><div class="msg">I'm booting a new machine.  I have the Unknown Bootenv preference set to my bootenv, which boots an image that then tries to do discovery much like sledgehammer does.  But I get the error that says it can't do that because the bootenv is set to UnknownOnly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:35</div><div class="msg">okay - so - are you trying to create a machine and getting this error?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:35</div><div class="msg">Yup</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:36</div><div class="msg">okay are you explicitly setting the machine?s bootenv in the create object?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:36</div><div class="msg">Hrm.  Good question.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:37</div><div class="msg">The thing to realize is that `discover` and `sledgehammer` are bootenv pairs that subtly tied together to do the creation dance.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:37</div><div class="msg">Why are you creating your own unkonwn bootenv?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:39</div><div class="msg">Nope, it's just setting hostname and IP and MAC.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:39</div><div class="msg">I'm trying to decouple DHCP from the discovery process so I can do discovery in environments where I don't have DHCP and cant install a local rebar server.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:40</div><div class="msg">okay - so what are you booting?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:41</div><div class="msg">or how really?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:41</div><div class="msg">Because there are a couple of things now in tip the could be used instead.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:41</div><div class="msg">Oh really?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:41</div><div class="msg">It's a modified sledgehammer image.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:41</div><div class="msg">potentially.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:42</div><div class="msg">There is a new command: `drpjoin`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:43</div><div class="msg">Basically I unpacked the stage1.img and stage2.img images, made all the necessary changes for it to take a static IP argument from the bootenv and use that instead of dhcp, and it... works?  Except the very end where it goes to create the node and fails.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:43</div><div class="msg">This takes the file URL of the DRP endpoint as its argument: `https:&lt;drpip&gt;:8091`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:44</div><div class="msg">okay - one thing at a time.  Your sledgehammer image - how does the machine boot it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:45</div><div class="msg">I cloned the discovery bootenv and set it to load my image instead of regular sledgehammer, then set that bootenv to the Unknown Bootenv.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:46</div><div class="msg">Right, but where does the IP parameter come from?  Or is static in the image?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:47</div><div class="msg">Ah, that's set in the boot parameters.   I modified the init (stage 1) and sledgehammer-start.sh (stage 2) scripts to grab those (the same way it grabs stuff like provisioner.web) and use the IP and gateway I set in the bootenv.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:48</div><div class="msg">so you are only going to ever manage one machine?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:50</div><div class="msg">Per site, yes.  I'm doing this so I can build an initial machine in a new site from a remote drp server without DHCP.  Basically that first machine will be the site's drp server.  After that it's DHCP and sledgehammer as usual.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:50</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:52</div><div class="msg">thinking</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:57</div><div class="msg">Ok.  Well take your time.  I'm taking off for the night.  If you think of something let me know.  :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:57</div><div class="msg">Can you send me you bootenv?  DM is fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:57</div><div class="msg">I'm just confused why the regular discovery/sledgehammer process works but my slightly modified version doesn't.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:57</div><div class="msg">You want the JSON?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:58</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-07 22:58</div><div class="msg">or yaml would be better (--format yaml) is your friend (well mine)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-07 22:58</div><div class="msg">k</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 00:46</div><div class="msg">so, `drpcli bootenvs uploadiso &lt;ISO&gt;` documentation suggests that I can specify a URL such as `<a href="https://my.image.site/isos/my_image.iso">https://my.image.site/isos/my_image.iso</a>` -- Is this a true statement?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 00:47</div><div class="msg">@tom.gillman - no, the bootenvs uploadiso command reads the BootEnv `OS.IsoUrl`  location</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 00:47</div><div class="msg">I was about to say: I do know that it can figure it out from the bootenv URL.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 00:48</div><div class="msg">it's better to do it from the bootenv so that you can manage/version the source location</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 00:49</div><div class="msg">there is an alternative that "works" - but it is not guaranteed to be safe ...
you can download / copy via standard shell commands on the DRP Enpoint, and copy the ISO/TAR file referred to in the BootEnv
place it in the `drp-data/tftpboot/isos/` directory
then `pkill -HUP dr-provision`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 00:50</div><div class="msg">note if someone else starts an API call that does the same thing - bad things may happen</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 00:50</div><div class="msg">good enough.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 00:50</div><div class="msg">(`drp-data` is in isolated mode - or in `/var/lib/dr-provision` in "production" install mode)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 00:50</div><div class="msg">the SHA256 hash and the filename must match what the BootEnv states, otherwise it'll fail validation and not be "exploded" out correctly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 00:51</div><div class="msg">you can also pre-stage ISOs this way, prior to starting the DRP Endpoint up on first run - and it'll do the right things with (assuming SHA/name are right)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 01:06</div><div class="msg">ok, last question for the evening. If I want to get content packs, must I use the UI, or is there a way to get them via the cli?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:06</div><div class="msg">Which ones? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 01:07</div><div class="msg">like, classify, os-other, drp-community-contrib</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:08</div><div class="msg">I'm away from computer - but I think you can search this channel, I posted before here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 01:17</div><div class="msg">+1 for remembering a conversation from a year ago</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 01:21</div><div class="msg">no offense, but that's ridiculously complicated and doesn't lend itself well to automation.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:22</div><div class="msg">which answer did you find ?   it might have gotten a bit better, but probably not</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 01:22</div><div class="msg">I searched on "content pack cli" and found something from Nov 1, 2017</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:22</div><div class="msg">we know the artifact download process could be a bit better via API call ... but ... other things ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:24</div><div class="msg">curious what you would suggest ?   it's a single CURL call with an auth string ... not really that much too it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:24</div><div class="msg">that's the current method</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 01:25</div><div class="msg">what would be nice would be something like `drpcli contents create &lt;URL&gt;` where URL points to the content pack you want. At that point, getting the list is the problem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:26</div><div class="msg">ah - yes, we've added in helpers to point to external resources in some places - but the `contents create` hasn't been updated with that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:26</div><div class="msg">Pull Requests/Patches are gladly welcome !! :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 01:27</div><div class="msg">Then all I have to do is define ```
my_extra_contents:
  - pack1
  - pack2
  - pack3``` and feed to an ansible role and go.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:28</div><div class="msg">yep - totally "get" the utility / use cases for it :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:28</div><div class="msg">you'd also need an AUTH string - so there's a little more to it than that, but could be a bit easier</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:33</div><div class="msg">would you please file a feature enhancement - that helps us to prioritize added enhancements, etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 01:33</div><div class="msg">Sure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 01:33</div><div class="msg"><a href="https://github.com/digitalrebar/provision/issues/new">https://github.com/digitalrebar/provision/issues/new</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 03:35</div><div class="msg">WAIT A MINUTE! @tom.gillman and @shane</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 03:35</div><div class="msg">this works: `drpcli contents create <a href="http://hostname/path/to/my/favorite-cp.yaml">http://hostname/path/to/my/favorite-cp.yaml</a>`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 03:36</div><div class="msg">now auth strings are tougher, but I think https works and it might work with username/password auth.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 03:37</div><div class="msg">Second (or first from previosu conv), you can do `drpcli isos upload &lt;file or url&gt;` as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 03:37</div><div class="msg">that puts a file into the isos directory by api.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 03:37</div><div class="msg">and triggers a bootenv reload if it matches a name and checksum.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 03:38</div><div class="msg">now if only there were some way to easily determine content pack names. :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 03:38</div><div class="msg">What do you mean?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 03:39</div><div class="msg">file name will be whatever and the name of the cp will come from within the yaml.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 03:39</div><div class="msg">You can also do `upload` instead of `create`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 03:39</div><div class="msg">That will create or update if already created.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 03:42</div><div class="msg">Thinking towards the automation aspect. The idea is ```1. install DRP
2. Load content packs
3. upload ISOs``` and then off to the races</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 03:42</div><div class="msg">Imho, the issue is having a registry built into the cli.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 03:43</div><div class="msg">That's all the ux really does.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 03:43</div><div class="msg">I've got 1 and 3 pretty well hands free. I'm looking making #2 as stupid simple as possible</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 03:44</div><div class="msg">There's a url for the rackn registry</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 03:44</div><div class="msg">Already has it :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 03:45</div><div class="msg">Then it's just two calls</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 03:49</div><div class="msg">No contract on that api but it's been stable</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa64d584160655b1a4a808aeee3de9fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">ilari.oras</div><div class="time">2018-11-08 15:23</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa64d584160655b1a4a808aeee3de9fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">ilari.oras</div><div class="time">2018-11-08 15:43</div><div class="msg">Hello there!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa64d584160655b1a4a808aeee3de9fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">ilari.oras</div><div class="time">2018-11-08 15:44</div><div class="msg">I was wondering if there's a way to do CentOS installs with custom kickstart file, what would be templated to each server? (I'd like to set up static IP addresses for servers (on OS side), and currently we have an interactive kickstart file asking for those to be put in interface configuration)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 15:54</div><div class="msg">@ilari.oras $welcome.  yes, that's exactly what DRP does</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-08 15:54</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-08 15:55</div><div class="msg">hmm? possible to remove EPEL from the `centos-drp-only-repos` job?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 15:55</div><div class="msg">check out the CentOS bootenv files and then look a the CentOS workflow stages</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 15:56</div><div class="msg">sorry @bagricola that was not to you.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-08 15:56</div><div class="msg">yeah i guessed :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 16:01</div><div class="msg">check out the .MachineRepos docs: <a href="https://provision.readthedocs.io/en/tip/doc/arch/data.html?highlight=.MachineRepos">https://provision.readthedocs.io/en/tip/doc/arch/data.html?highlight=.MachineRepos</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 16:01</div><div class="msg">there are some options on different repos</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 16:01</div><div class="msg">but that template only wires .MachineRepos</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 16:02</div><div class="msg">it looks like you'll need to edit the package-repos param</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-08 16:03</div><div class="msg">hmmk? so it uses the repo defined on the iso / bootenv by default, and override means edit package-repos to include *all* required repos</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-08 16:03</div><div class="msg">(my guess anyway)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 16:03</div><div class="msg">@ilari.oras there are a few ways to do static IPs.  we recommend creating DHCP reservations but you can do it a lot of different ways during your configuration.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 16:04</div><div class="msg">yes.  remember that you can set param overrides in order from machine, profile (ordered), global profile and param default</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 16:05</div><div class="msg">so you have a lot of control over the scope of the change</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-08 16:54</div><div class="msg">@ilari.oras check out this link for Centos and then look at the relevant ../templates
<a href="https://github.com/digitalrebar/provision-content/blob/master/content/bootenvs/centos-7.yml">https://github.com/digitalrebar/provision-content/blob/master/content/bootenvs/centos-7.yml</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-08 17:37</div><div class="msg">@ilari.oras - expanding on @zehicle suggestion - if you set a Reservation on the DRP Endpoint side - set your machines to DHCP - they will be assigned a "known IP" (the reservation).  If you require truly static IP assignment on the host to avoid DHCP dependencies - let the machine boot, get DHCP reservation, then write a Stage/Task?Template to insert in to your Workflow, that converts the DHCP assigned reservation to a static configuration on the Machine side ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 19:03</div><div class="msg">I think this is probably the actual error?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 19:07</div><div class="msg">Yeah - that is probably a bug</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 19:08</div><div class="msg">krib/cluster-kubeadm-cfg is the only remaining param in the profile that needs to be cleared</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 19:12</div><div class="msg">yeah I added it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 19:12</div><div class="msg">so that it would complete</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-08 19:16</div><div class="msg">How do I download a community content pack from the cli?  I thought I had the command saved somewhere but can't find it.  I want to be able to install a fresh machine and immediately grab drp-community-contrib and install it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-08 19:31</div><div class="msg">Yeah, that would be awesome, :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 19:33</div><div class="msg">`drpcli contents upload <a href="https://github.com/digitalrebar/provision-content/releases/download/tip/drp-community-contrib.yaml">https://github.com/digitalrebar/provision-content/releases/download/tip/drp-community-contrib.yaml</a>`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 19:45</div><div class="msg">Where are these labels?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 19:46</div><div class="msg">it seemed to "succeed" aside from that!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 19:47</div><div class="msg">not completely sure.  I?d have to check.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 19:47</div><div class="msg">Yeah, I just can't seem to find it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 20:01</div><div class="msg">This seems wrong?  Three masters?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-08 20:02</div><div class="msg">You said you wanted HA, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 20:03</div><div class="msg">sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 20:03</div><div class="msg">I wasn't sure is all master was OK</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 20:03</div><div class="msg">```./krib-config-krib-config.sh.tmpl@365(): kubectl --kubeconfig=label.conf label nodes <a href="http://halfling-dollar.us-east.optoro.io">http://halfling-dollar.us-east.optoro.io</a> env=dev
error: 'env' already has a value (dev), and --overwrite is false
Command exited with status 1
Action krib-config.sh.tmpl finished
Task krib-config failed
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-08 20:03</div><div class="msg">seems to be what's failing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-08 20:34</div><div class="msg">Thanks Greg</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-08 21:05</div><div class="msg">hmm? does `package-repos` affect sledgehammer in any way?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-08 21:06</div><div class="msg">my discovery stage is failing because one of the centos 7 mirrors is broken, and discovery runs the LLDP stage which tries to install lldpd</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-08 21:06</div><div class="msg">which fails cos of the bad centos mirror :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/51a337fe16b9185d5e7afb5e0e5184da.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">tim.putney</div><div class="time">2018-11-09 00:01</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 01:27</div><div class="msg">@tim.putney $welcome </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-09 01:27</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 01:29</div><div class="msg">@zdunn the labels are from the inventory stage.  If you run that it creates the params for that code to run</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 01:30</div><div class="msg">gotcha</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa64d584160655b1a4a808aeee3de9fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">ilari.oras</div><div class="time">2018-11-09 07:11</div><div class="msg">Thanks for messages, I think I have now plan how to move forward :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/aa64d584160655b1a4a808aeee3de9fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">ilari.oras</div><div class="time">2018-11-09 07:13</div><div class="msg">Ideally I want to populate things within templates from terraform (and/or from netbox). Is there something in documentnation for that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 13:23</div><div class="msg">@ilari.oras here's the Terraform docs (which links to videos too): <a href="https://provision.readthedocs.io/en/tip/doc/content-packages/terraform.html?highlight=terraform">https://provision.readthedocs.io/en/tip/doc/content-packages/terraform.html?highlight=terraform</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 13:24</div><div class="msg">a word of caution: it's pretty easy to get into "who owns state" with Terraform such that the TF state file is out sync with reality.  DRP is a running service, so it tracks state all the time.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 13:26</div><div class="msg">I know there are people in community integrating w/ netbox.  It's pretty easy to push data into netbox from a plugin (RackN builds those all the time).  That's a good place to start the integration.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-09 14:03</div><div class="msg">&lt; Using netbox as a single source of truth for IP assignments</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/750f6011acb07fc53268ec62dafaa911.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">job</div><div class="time">2018-11-09 14:21</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 14:24</div><div class="msg">@job $welcome !</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-09 14:24</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-09 15:54</div><div class="msg">Where does one view the event log without using the gui?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 16:13</div><div class="msg">@tom.gillman it's a websocket, you need to attach to it.  There are some browser plugins that can so it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 16:14</div><div class="msg">I wrote a doc page on this:
<a href="https://provision.readthedocs.io/en/tip/doc/integrations/websocket.html">https://provision.readthedocs.io/en/tip/doc/integrations/websocket.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 16:15</div><div class="msg"><!channel> We've built a CoreOS content pack that supports live and install options.  Includes the DRP Runner (so you get full control) and works with kexec to skip reboots.
Video Demo: <a href="https://youtu.be/abuBUgBdOb8">https://youtu.be/abuBUgBdOb8</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 16:17</div><div class="msg">note for @christian.tardif @tgelter @daniel.bernier from previous posts ^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 16:18</div><div class="msg">we have not yet tried to integrate with KRIB or other workflows.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 16:23</div><div class="msg">oh interesting.  getting a PCC error PXE'ing now after trying to move from sledgehammer =&gt; ubuntu</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 16:29</div><div class="msg">if I pull down the sledgehammer file manually, how can I jam it into the system?
```
root@drp /home/nistor/drp: ./drpcli bootenvs uploadiso sledgehammer
Error: Unable to connect to <a href="http://rackn-sledgehammer.s3-website-us-west-2.amazonaws.com/sledgehammer/9c1ad5cb7483928e6aba1d93ba363de929169f37/sledgehammer-9c1ad5cb7483928e6aba1d93ba363de929169f37.tar">http://rackn-sledgehammer.s3-website-us-west-2.amazonaws.com/sledgehammer/9c1ad5cb7483928e6aba1d93ba363de929169f37/sledgehammer-9c1ad5cb7483928e6aba1d93ba363de929169f37.tar</a>: Get <a href="http://rackn-sledgehammer.s3-website-us-west-2.amazonaws.com/sledgehammer/9c1ad5cb7483928e6aba1d93ba363de929169f37/sledgehammer-9c1ad5cb7483928e6aba1d93ba363de929169f37.tar">http://rackn-sledgehammer.s3-website-us-west-2.amazonaws.com/sledgehammer/9c1ad5cb7483928e6aba1d93ba363de929169f37/sledgehammer-9c1ad5cb7483928e6aba1d93ba363de929169f37.tar</a>: dial tcp 52.218.200.43:80: i/o timeout
root@drp /home/nistor/drp: ls -l *.tar
-rw-r-----. 1 nistor nistor 408166912 Nov  9 10:03 sledgehammer-9c1ad5cb7483928e6aba1d93ba363de929169f37.tar
root@drp /home/nistor/drp:
```

This server is in a closed environment so it can't go out and reach for the file.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 16:40</div><div class="msg">Hmmm I thoughat PCC error was because centos =&gt; ubuntu</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 16:40</div><div class="msg">but discovery works</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 16:40</div><div class="msg">but then doing a krib-reset got me the pcc error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-09 16:42</div><div class="msg">try `drpcli isos upload sledgehammer-9c1ad5cb7483928e6aba1d93ba363de929169f37.tar` @nistor</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 16:45</div><div class="msg">ah
```
root@drp /home/nistor/drp: ./drpcli isos upload sledgehammer-9c1ad5cb7483928e6aba1d93ba363de929169f37.tar
{
  "Path": "sledgehammer-9c1ad5cb7483928e6aba1d93ba363de929169f37.tar",
  "Size": 408166912
}
root@drp /home/nistor/drp:
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 16:47</div><div class="msg">@nistor - the `bootenvs uploadiso` is used to manage the BootEnv related assets (ISO, in this case) - which uses the Fields in the BootEnv to find/get the ISO.  The `isos upload` is a generic "manage my ISOs" feature - and as long as the ISO name and SHA256SUM match - it'll be correctly associated with the BootEnv, which will then allow it to mark the BootEnv `Available: true` for use</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 16:47</div><div class="msg">ahhh ok, thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 16:49</div><div class="msg">you can manage "other ISOs" (and files for that matter) with the `isos upload` command - but it by default manipulates the `tftpboot/isos/` directory files - the analog to that is `files upload` which is better for "other things" to be managed - which correlates to the `tftpboot/files/` directory location</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 16:49</div><div class="msg">so if you want to push artifacts for provisioning use to be hosted on the TFTP/Web server for provisioning activities - that's a good place for it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 16:49</div><div class="msg">right now im just looking to go through the install as per the doc but without remote access so I have to pull the files down and move them over to this isolated environment but it's good info for me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 16:50</div><div class="msg">yep - are you using internal Repo / Mirrors ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 16:50</div><div class="msg">actually, I should clarify, the only option I have is ipv6 in this environment, but frankly it might as well be isolated, sadly most places still do not support v6</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 16:50</div><div class="msg">no internal repo or mirror, the centos dependencies managed to pull over v6 fortunately</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 16:50</div><div class="msg">are you using `stable` or `tip` version of the product ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 16:51</div><div class="msg">stble</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 16:51</div><div class="msg">we (@greg) has made a lot of changes in Sledgehammer to support IPv6 only environments</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 16:51</div><div class="msg">you may want to pull the most recent version of `tip` and associated `tip` DRP Community Content/Sledgehammer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 16:52</div><div class="msg">i will take a look at that if it makes the whole process easier, thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 17:11</div><div class="msg">any plans to get "get.rebar.digital" onto v6 so I can use curl right from the box</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 17:15</div><div class="msg">That url is going to be rebuilt. So maybe.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 17:15</div><div class="msg">s/maybe/yes :laughing:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-09/476096969698_f0bb32a972f76e899bae_72.jpg" /><div class="message"><div class="username">christian.tardif</div><div class="time">2018-11-09 17:28</div><div class="msg">@zehicle Question regarding CoreOS thing (saw a big smile on @daniel.bernier's face when you sent the announcement  :slightly_smiling_face: ), as you're relying on CoreOS iso to do the install, is that to say that UEFI machines are still out of scope (as the iso does not support uefi, unless newer versions do) ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 17:30</div><div class="msg">@nistor what about pulling from github?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 17:30</div><div class="msg">That's a @greg question</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 17:30</div><div class="msg">github doesn't support v6</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 17:30</div><div class="msg">:confused:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 17:30</div><div class="msg">Bleh.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 17:31</div><div class="msg">last I checked I was in 2018 :neutral_face:  damn github, damn themmmmmmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 17:31</div><div class="msg">in any case im grabbing what i need and just jamming it onto the local box</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 17:31</div><div class="msg">rattles cup for v6 repo sponsor</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 17:32</div><div class="msg">@zehicle would that get us a discount? :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 17:32</div><div class="msg">Naming rights?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 17:32</div><div class="msg">haha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 17:34</div><div class="msg">`get-sponsored-by-optoro.rebar.digital` ....</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 17:35</div><div class="msg">haha</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 17:35</div><div class="msg">well if you know your req's (bandwidth wise) we could certainly talk</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 17:35</div><div class="msg">we like to support OSS as much as possible</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-09 17:35</div><div class="msg">we already support rubygems etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 17:38</div><div class="msg">@nistor - actually - IPv6 may work for you for the `get` .... try:
2604:1380:2:c000::3</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-09 18:05</div><div class="msg">@christian.tardif you can boot sledgehammer then Kexec for live Coreos and the install.  What I don?t know is if the disk layout supports uefi </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 18:19</div><div class="msg">@nistor - I just tested a `wget` call to get the stable installer script - works fine on IPv6:
`wget -O install.sh 'http://[2604:1380:2:c000::3]/stable'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-09/476096969698_f0bb32a972f76e899bae_72.jpg" /><div class="message"><div class="username">christian.tardif</div><div class="time">2018-11-09 18:40</div><div class="msg">@greg The disk layout itself should not have problems. What we performed so far is pushing the CoreOS image (the same image CoreOS/RedHat/IBM (!!!)  is using through the coreos-install script (in fact, the uefi incompatibility comes from this install script)) directly to the UEFI-enabled servers boot disk, and then adjusting grub accordingly with the new "install"

Will try to find myself an available unnsed setup to validate that and will post my findings</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-09 18:51</div><div class="msg">Okay. That is kinda what meant by disk layout. Didn?t know what bootloader and other positioning things they put in the way. One of the many reasons I don?t actually find Coreos viable</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 19:00</div><div class="msg">@shane, cool thanks, works from here, although it's the same file with the same issues of no v6 on the repos but that's ok.    Are there plans to change the install to validate that a file exists and matches a checksum file accordingly before attempting to download a file?  I'm finding I have to edit the install script to check for the file first before trying a DL to skip the DL process.  eg: dr-provision.zip (which I know I can pass with the --zip-file) but drp-community-content.yaml isn't checked for before a DL, or the SHA file. --skip-run-check doesn't tie into those files.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 19:02</div><div class="msg">I didn't have any such plans- but if you have any patches you'd like to submit - we'd be delighted to incorporate them ... :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 19:03</div><div class="msg">coolio ok, ill send over my findings when i'm done :laughing:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 19:08</div><div class="msg">@shane, in reading the docs at <a href="https://portal.rackn.io/#/">https://portal.rackn.io/#/</a> it refers to the tip file there however comparing the /stable and /tip scripts the only difference is this:
```
+                 if [[ -e $binpath/drpjoin ]] ; then
+                     ln -s $binpath/drpjoin drpjoin
+                 fi
```

Where does the better v6 handling come in ? I guess it has to do with only the version tree not the actual installer/install process by the looks of it, ya?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 19:15</div><div class="msg">@nistor the IPv6 betterness is in the drp-community-content references to Sledgehammer BootEnv - and Sledgehammer itself which has been enhanced to operate in IPv6 only environments.  The installer difference you see is not related to IPv6 in that respect.  The `drpjoin` is a new tool to enroll VMs and Containers as an asset that can be managed by DRP workflow.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 19:15</div><div class="msg">Ahhhh ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-09 19:15</div><div class="msg">perfect</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 19:15</div><div class="msg">when you install drp-community-content you need to install the `tip` version with the `tip` DRP endpoint/software</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-09 19:16</div><div class="msg">that pulls in the `tip` referenced Sledgehammer image with the updates</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-09 20:16</div><div class="msg">@nistor @shane get6.rebar.digital now AAAA resolves in the DNS.  You can use it instead of the actual address</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-11-10 02:33</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-10 15:28</div><div class="msg">@josh.knarr... $welcome ...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-10 15:28</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-11-10 15:29</div><div class="msg">morning</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/05d2c4c6364775f365fecf75e61b3228.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">stobias123</div><div class="time">2018-11-10 22:02</div><div class="msg">Hey guys, something up with the rackn site?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/05d2c4c6364775f365fecf75e61b3228.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">stobias123</div><div class="time">2018-11-10 22:03</div><div class="msg"><a href="http://l8istsh9y.com">http://l8istsh9y.com</a> looks like it's still owned by rob but times out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-10 22:18</div><div class="msg">Yes.  Working on that. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-10 22:18</div><div class="msg">Changing hosts and dns</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-10 23:09</div><div class="msg">@stobias123 thanks for alerting us</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-11 03:17</div><div class="msg">notes that we quietly passed the 250 member mark last week!  Welcome to all the new people!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-09/476096969698_f0bb32a972f76e899bae_72.jpg" /><div class="message"><div class="username">christian.tardif</div><div class="time">2018-11-12 13:30</div><div class="msg">@greg Regarding CoreOS thing....  I'll try to have a chat on it with RedHat folks. As they told me, couple of weeks ago, that CoreOS will be behind their OpenShift / OKD solutions, that would mean an increased support for newer hardware, including UEFI.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-12 14:14</div><div class="msg">Up to you. We still think sledgehammer is a simple alternative with more support via centos </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-12 14:15</div><div class="msg">Coreos was a community request</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-12 14:51</div><div class="msg">are people generally using rebar to get servers to a good spot before running something like chef/ansible (perhaps as a stage)?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-12 14:51</div><div class="msg">I guess I am trying to decide where I want configuration logic to live</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-12 14:52</div><div class="msg">bonds, drive layout, ntp, etc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-12 14:52</div><div class="msg">some I could see being in an image (ntp, security updates, etc)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-12 14:58</div><div class="msg">If you have working script,  use them.   We're finding that the stage/task model and content packs are easier to maintain than playbooks and cookbooks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-12 14:59</div><div class="msg">Esp for physical data where it's baked into drp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-12 15:10</div><div class="msg">We've been handling all of those configurations via Triton and it's tools</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-12 15:11</div><div class="msg">So this would probably be new work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-12 15:29</div><div class="msg">@zdunn - we see adopters of DRP take both paths.  Generally speaking, you gain the most from the product with deeper integration by use of Workflows to allow you to orchestrate and manage large fleets of systems.  In particular - managing the hardware config - BIOS, Firmware, RAID, setting things like network config / bonds, etc ... are all good use cases.  How much you choose to hand off to an external config mgmt tooling varies depending on how much you've invested in that already, versus the desire to use a single tool.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-12 15:44</div><div class="msg">Generally, I am trying to figure a path to best treat our hardware more like cattle</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-12 15:46</div><div class="msg">right now what hurts us the most is the lack of a good scheduler* and a lot of gotchas with running very linuxy flavored applications in LX Zones
* = right now our schedule won't restart containers onto new nodes.  So we are exploring k8s a bit there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-12 15:47</div><div class="msg">All of the hardware management has been handled via Triton up to this point so we are used to one tool to handle just about everything at that level</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-12 16:57</div><div class="msg">interesting note that proto-genesis of this work was Greg and Rob trying to get early Triton (aka Joyant Data Center) to install</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a000ff8a096d40f346761dc148c37b21.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">rafael.skodlar</div><div class="time">2018-11-12 17:13</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-12 17:25</div><div class="msg">@rafael.skodlar... $welcome ...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-12 17:25</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-13 16:41</div><div class="msg">I heard from @greg this morning that KRIB can now use CoreOS live boot in tip now.  It shaves about 2 minutes (the docker install) from install.  So, that puts it until the 5 minute range</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-13 16:42</div><div class="msg">also, pinned all the versions so that things stop breaking from external default versions changing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-13 16:53</div><div class="msg">hi team, I'm noticing that in the install script you have it calls 7z as the zip program, however on CentOS it doesn't check to see if the binary is there, -- well i mean it sort of does, it checks for '7z' however '7za' seems to be the binary itself, although this is not called anywhere else in the script, the script seem to use bsdtar instead to handle ZIP files.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-13 16:54</div><div class="msg">second issue, I constantly see travis, who the heck is travis :laughing:

```
dr-provision2018/11/13 15:32:02.553994 [52:14]user:rocketskates:frontend [error]: /home/travis/gopath/src/github.com/digitalrebar/provision/backend/bootenv.go:460
[52:14]BootEnv discovery : Explode ISO: Iso sledgehammer-9b5276ac5826520829aa73c149fe672fe2363656.arm64.tar does not exist. Will not be able to PXE boot arch arm64
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-13 17:11</div><div class="msg">@nistor - 7z is used by DRP itself and needs to be installed for proper functioning.  It is not needed by the install script.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-13 17:11</div><div class="msg">Ah ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-13 17:12</div><div class="msg">what about the 7z vs 7za issue?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-13 17:12</div><div class="msg">```
root@drp /home/nistor/drp-tip: 7z --help
bash: 7z: command not found
root@drp /home/nistor/drp-tip:
root@drp /home/nistor/drp-tip: 7za --help
7-Zip (a) [64] 16.02 : Copyright (c) 1999-2016 Igor Pavlov : 2016-05-21
p7zip Version 16.02 (locale=en_CA.UTF-8,Utf16=on,HugeFiles=on,64 bits,2 CPUs Intel(R) Xeon(R) CPU E5-2609 v2 @ 2.50GHz (206D2),ASM,AES-NI)
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-13 17:13</div><div class="msg">it just means that it runs the yum command twice and does nothing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-13 17:13</div><div class="msg">but if the DRP itself needs it then what is not functioning in my install ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-13 17:13</div><div class="msg">that question doesn?t make sense.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-13 17:14</div><div class="msg">"7z is used by DRP itself and needs to be installed for proper functioning."   &lt;-- what does 7z get used for by the DRP itself?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-13 17:14</div><div class="msg">because the binary 7z doesn't exist, 7za does, so it woudl seem that some function may not be working properly internally to DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-13 17:14</div><div class="msg">exploding windows encoded bootenv isos.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-13 17:15</div><div class="msg">It will likely never be an issue for you.  And I?m checking the script/drp code that calls it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-13 17:15</div><div class="msg">It may only need the library</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-13 17:15</div><div class="msg">ah gotcha, ok cool.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-13 17:16</div><div class="msg">Yeah - so - good catch - that will fail, but since that bootenv iso won?t work at all, it is really an issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-13 17:16</div><div class="msg">Does point out that we should drop the 7z requirement.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-13 17:17</div><div class="msg">coolio</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f8233846bd948df62311114f06e8191a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">bryan.gallant</div><div class="time">2018-11-13 19:43</div><div class="msg">Hi all! Quick question, is there a simple way to add an alternate version of pxelinux to the system? For instance, ESXi w/ legacy BIOS boots requires syslinux 3.86.  It works if replace the lpxelinux.0 w/ the older version, but I?d like a less disruptive method if possible.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-13 20:02</div><div class="msg">I think you can upload the new and clone/create a new bootenv that points to it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-13 20:52</div><div class="msg">@bryan.gallant check <a href="https://github.com/digitalrebar/provision-content/blob/22788877dd722fc5844da6c58896ca0adf8d1b18/content/bootenvs/sledgehammer.yml#L59">https://github.com/digitalrebar/provision-content/blob/22788877dd722fc5844da6c58896ca0adf8d1b18/content/bootenvs/sledgehammer.yml#L59</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-13 20:52</div><div class="msg">and <a href="https://github.com/digitalrebar/provision-content/blob/master/content/templates/default-pxelinux.tmpl">https://github.com/digitalrebar/provision-content/blob/master/content/templates/default-pxelinux.tmpl</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-13 20:53</div><div class="msg">I think that we've done some of this work before in community.  you should check the history.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-13 23:56</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-14 13:58</div><div class="msg">@john $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-14 13:58</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 13:59</div><div class="msg">Thanks Rob. I've been working my way through the DRP paces and figured I'd join the community</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-14 14:42</div><div class="msg">welcome @john</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 14:48</div><div class="msg">Is there a way to run a stage or task from the DRP server? Like kicking off a post os-install ansible run?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-14 14:50</div><div class="msg">Glad to have you here!  have you seen the colordemo yet?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 14:52</div><div class="msg">the one where they changed the color metadata?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 14:53</div><div class="msg">Yes - the colordemo is an example content pack that shows how to build Workflows to do "things"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 14:54</div><div class="msg">I did, I think but I'll go back and check it again.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 14:54</div><div class="msg">One of those things can be run Cfg Mgmt tooling - Ansible local execution - or make a call out to Tower to do it, etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 14:55</div><div class="msg">one point to remember - Workflow executes on the machine being provisioned, in the Sledgehammer (discovery)) environment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 14:55</div><div class="msg">so any calls/cmds occur from the Machine in question</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 14:56</div><div class="msg">ahh yes.. so that's my question :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 14:56</div><div class="msg">Plugins, on the other hand - execute on the DRP Endpoint side, on behalf of the machine - so depending on your security model around your provisioned machines - that may matter how/what you build for custom content</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 14:57</div><div class="msg">ok, so then for post-install "not on the machine" I will dig into plugins</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 14:58</div><div class="msg">I've got some scripts that will do things like identify a node by it's serial, then "enrich" by attaching a profile, renaming the machine, creating a dhcp reservation, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 14:59</div><div class="msg">do you have those in a "content pack" - or are you looking to build them in to one ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 14:59</div><div class="msg">eventually in a content pack. right now it's adhoc in my virtualbox testing environment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 15:00</div><div class="msg">cool - colordemo should be a good template for you on how to build that in to a content pack</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 15:01</div><div class="msg">also - there is an Ansible content pack in DRP - which allows for running playbooks on Machines</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 15:02</div><div class="msg">This is also classification and inventory content packs that hand a lot of what your script is doing.  Ipmi plugin that also configures and drives IPMI actions.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 15:07</div><div class="msg">can you point me to some of those packs (classification and inventory) ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 15:08</div><div class="msg">my identify is pretty simple and runs as a stage in discovery workflow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 15:08</div><div class="msg">```
SERIAL=$(drpcli machines get {{ .Machine.UUID }} param gohai-inventory | jq -r '.DMI.System.SerialNumber')
PROFILE="devices_${SERIAL}"
drpcli machines addprofile ${RS_UUID} ${PROFILE}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 15:08</div><div class="msg">the enrich is a bit more complex because of parsing the mac out to make a reservation</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 15:09</div><div class="msg">(and I don't know how to make a reservation token on the machine just yet - so I do this from another location)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 15:10</div><div class="msg">That is pretty clean.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 15:10</div><div class="msg">They are RackN content.  you can get access to them on a trial basis through the portal.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 15:14</div><div class="msg">@john - here's a video Rob did on the Inventory content piece</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 15:14</div><div class="msg"><a href="https://youtu.be/xDqxEW5bgiQ">https://youtu.be/xDqxEW5bgiQ</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-14 15:15</div><div class="msg">it's in the DRP youtub playlist: <a href="https://www.youtube.com/playlist?list=PLXPBeIrpXjfilUi7Qj1Sl0UhjxNRSC7nx">https://www.youtube.com/playlist?list=PLXPBeIrpXjfilUi7Qj1Sl0UhjxNRSC7nx</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-14 15:20</div><div class="msg">@john @tom.gillman we/RackN have been doing a lot of development integration here.   So our content is battle tested and also integrated to our other content beyond the basic DRP.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 15:22</div><div class="msg">Sounds good. Now that I'm a week into it, I'll go a bit more into the demos and setup a trial soon. I wanted to get a handle on how DRP works first.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-14 15:25</div><div class="msg">Inventory stage does what you asked. Uses same approach and adds some verification checks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 19:58</div><div class="msg">one other question.. is there a clear cut way to tell when a workflow is done?  Best I've found is to grab a machine, then see if CurrentTask is &gt; len(Tasks)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 19:59</div><div class="msg">```
root@provisioner:~/drp# drpcli machines show $RS_UUID | jq 'del(.Params)' &gt; active.json
root@provisioner:~/drp# diff active.json  done.json
5,6c5,6
&lt;   "CurrentJob": "33f5db70-da8e-4d17-bd66-acfffd749b9f",
&lt;   "CurrentTask": 4,
---
&gt;   "CurrentJob": "b0dd3844-49bd-4e08-b28d-0daa28eaff77",
&gt;   "CurrentTask": 5,
root@provisioner:~/drp# cat active.json | jq '.Tasks'
[
  "stage:helloworld",
  "bootenv:sledgehammer",
  "helloworld",
  "stage:sleepstate",
  "sleep100"
]
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 20:03</div><div class="msg">@john - The official way to know if no work is left to do is the `CurrentTask &gt;= len(Tasks)`  With regard to workflow completion, I generally prefer having a completion stage that does nothing but by the end of the workflow.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 20:03</div><div class="msg">Then I can wait on machine events for the machine?s stage to get to complete.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 20:03</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 20:05</div><div class="msg">something like this: `drpcli machines wait 4f0a44b1-a789-4ba7-a6fc-61541b996b8d Stage sledgehammer-wait`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 20:05</div><div class="msg">I had been putting noop "workflow-done" stages at the end of some workflows. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 20:06</div><div class="msg">Most of the RackN workflows for kubernetes and the like have ?bookend? stages to bracket to workflows.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 20:07</div><div class="msg">The start stage is useful as well because it allows you to ensure proper bootenv without forcing middle stages to care about bootenv.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 20:08</div><div class="msg">Cool. I was starting to put those stages in at the end, then I wondered if I was missing something. But now I know `CurrentTask &gt;= len(Tasks)`, and that adding a noop stage is a recommended practice.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 20:08</div><div class="msg">Thank you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 20:09</div><div class="msg">The challenge with the CurrentTask variable and len(Tasks) is that Tasks can change.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 20:11</div><div class="msg">If you use the RackN hardware components, they dynamically alter the task list on the fly to inject tasks for bios, raid, and ipmi configuration based upon the presence of adapters and other information.  This means that it can grow over time.  While jq and getting the machine object repeatedly works, the ?end-cap? stage allows you to setup an event waiter that has a known and easy to validate target.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-14 20:12</div><div class="msg">understood.  I am definitely seeing a waitforstage(uuid, workflow, stagename, timeout)  type function</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 20:13</div><div class="msg">The golang api library already has one with a large ability to do complex ops with it.  the drpcli has a simpler version of it exposed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-14 20:14</div><div class="msg">The ?runner? uses it to figure out if the machine has work to do.  This means that instead of poll looping on the machine object, the runner actually waits for machine changes and gets notified by events to wake up.  Allowing for huge scale.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e1551b58a1a37620e9bb87e682693b21.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">f.hufenreuter</div><div class="time">2018-11-15 17:26</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f5af039b61e2ba40e56040613c6a5bc8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">anthony.lincoln</div><div class="time">2018-11-15 21:49</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-15 21:53</div><div class="msg">@f.hufenreuter and @anthony.lincoln - $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-15 21:53</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e1551b58a1a37620e9bb87e682693b21.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">f.hufenreuter</div><div class="time">2018-11-16 08:56</div><div class="msg">hey everybody</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-16 12:20</div><div class="msg">Hello!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-11-16 18:47</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-11-16 19:26</div><div class="msg">Hello all, I'm attempting to setup a bootenv for rpi in DRP based off this <a href="http://web-docs.gsi.de/~bloeher/howto/rpi3_netboot.html">http://web-docs.gsi.de/~bloeher/howto/rpi3_netboot.html</a> .
Where can I tail the DHCP server logs? Doesn't seem to be outputting into /var/log anywhere.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-16 19:42</div><div class="msg">Journalctl and there is a /logs api too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-16 19:42</div><div class="msg">You can also run interactive which looks to console</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-16 19:43</div><div class="msg">@andrew ^^ and $welcome </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-16 19:43</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-16 23:39</div><div class="msg">just did a pull to add <a href="http://KubeVirt.io">http://KubeVirt.io</a> stage to KRIB workflow!  video to come soon but it will be short and simple</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-16 23:40</div><div class="msg">since it's just a "drop and works" stage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-16 23:41</div><div class="msg">@andrew I'm super curious about your use case!  Apples &amp; Pis?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-18 22:46</div><div class="msg">KubeVirt + Kubernetes = VMs!  Here's a demo showing the addition of <a href="http://Kubevirt.io">http://Kubevirt.io</a> to KRIB
<a href="https://youtu.be/Qi4unF9Q8h0">https://youtu.be/Qi4unF9Q8h0</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-19/484667725782_c1944bd2c5035159ad54_72.jpg" /><div class="message"><div class="username">marc.padovani</div><div class="time">2018-11-19 15:29</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-19 15:32</div><div class="msg">@marc.padovani $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-19 15:32</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-19/484667725782_c1944bd2c5035159ad54_72.jpg" /><div class="message"><div class="username">marc.padovani</div><div class="time">2018-11-19 15:50</div><div class="msg">Howdy</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-19 16:04</div><div class="msg"><!channel> REMINDER - we have a meetup tomorrow!  Lots and lots of exciting topics as per <a href="https://www.meetup.com/digitalrebar/events/lchdhpyxpbjb/">https://www.meetup.com/digitalrebar/events/lchdhpyxpbjb/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 16:12</div><div class="msg">Except it's Tues. Nov 20th ... not the 6th ... :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16185bd4230f008ae669a2d2d8b91759.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">ivailo.shankov</div><div class="time">2018-11-19 16:23</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16185bd4230f008ae669a2d2d8b91759.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">ivailo.shankov</div><div class="time">2018-11-19 16:25</div><div class="msg">Good morning everybody!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 16:51</div><div class="msg">Good morning, @ivailo.shankov, $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-19 16:51</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:48</div><div class="msg">quick question! I have 2 machines booting on the same LAN with sledge hammer, however only 1 machine seems to register under 'machines' in the DRP --   &lt;shrug&gt;</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:49</div><div class="msg">(clarity: either machine, not both)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-19 18:53</div><div class="msg">@nistor are the MACs unique?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:54</div><div class="msg">they should be, let me double check</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:54</div><div class="msg">```
?  100     984b.e16c.9f02   dynamic  0         F      F    Eth1/11
? 100     984b.e16d.2050   dynamic  0         F      F    Eth1/13
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:54</div><div class="msg">yup</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-19 18:55</div><div class="msg">Are you using drp for DHCP? Check the reservations?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:55</div><div class="msg">I am using drp yes, both systems are receiving IP addresses</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:55</div><div class="msg">I ddidnt setup any reservations at all, left it blank since I didnt want to work with any static options</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-19 18:56</div><div class="msg">Sorry,  I meant leases</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:56</div><div class="msg">I show 4 leases in teh system, I see the 2 machiens but only the 1 shows up in 'machines'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 18:56</div><div class="msg">how big is your Subnet definition for that network ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:56</div><div class="msg">. /24</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:57</div><div class="msg">at the prompt of sledgehammer one says '204' and the other says 'localhost' as if it never got anything.  the 204 shows up in the machines list.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:57</div><div class="msg">im just rebooting both again right now to see if I can spot anything different on the startup of the sledge hammer image running</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 18:58</div><div class="msg">Can you log into the console of sledgehammer?  ?journalctl -u sledgehammer? to see what happened on the one that didn?t register.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 18:58</div><div class="msg">sure, will do once they're back up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:03</div><div class="msg">(user/pass for sledgehammer is:   `root`/`rebar1`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:04</div><div class="msg">what if I told you on the systems reporting 'localhost' I can't login to it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:05</div><div class="msg">the sledgehammer image usually won't report "localhost" for the name - so ... are you sure sledgehammer is booting there ?   does the `/etc/issue` output show "sledgehammer" in the signature ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:06</div><div class="msg">the login banner shows 'Digital rebar sledgemhammer &lt;string here&gt; kernel 3.10.0-062...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:06</div><div class="msg">ok - if you hit enter on console, localhost should change to something like 'd-xx-xx-xx-xx-xx-xx` (MAC address w/ `d` in front) - unless you've named the Machines in which case it should pick up the new machine name</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:07</div><div class="msg">thats the thing, it's not changing, the other one did to '204', not even the mac. I guess that's just the setup of the DHCP options</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:08</div><div class="msg">can you copy your subnet config?   `drpcli subnets show &lt;NAME&gt; --format=yaml` (replace &lt;NAME&gt; appropriately)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:09</div><div class="msg">feel free to DM it to me if you need to for IP anonymity/whatever</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:10</div><div class="msg">nothing private here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:10</div><div class="msg">```
root@drp /opt/drp: ./drpcli subnets show ens256 --format=yaml
ActiveEnd: 10.255.200.199
ActiveLeaseTime: 60
ActiveStart: 10.255.200.101
Available: true
Description: ""
Documentation: ""
Enabled: true
Errors: []
Meta: {}
Name: ens256
NextServer: ""
OnlyReservations: false
Options:
- Code: 3
  Value: 10.255.200.1
- Code: 6
  Value: 204.11.48.2
- Code: 15
  Value: <a href="http://snickers.org">http://snickers.org</a>
- Code: 1
  Value: 255.255.255.0
- Code: 28
  Value: 10.255.200.255
Pickers:
- hint
- nextFree
- mostExpired
Proxy: false
ReadOnly: false
ReservedLeaseTime: 7200
Strategy: MAC
Subnet: 10.255.200.254/24
Unmanaged: false
Validated: true

root@drp /opt/drp:
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:11</div><div class="msg">shouldn't the subnet part be .0/24 ?  (I left it default on what the server picked)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-19 19:16</div><div class="msg">well it?s a /24 so the whole last octet would be masked off anyway, it?s a bit of a weird way to represent it though and I?ve certainly never seen DRP do that myself :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:16</div><div class="msg">is `.254` your DRP address ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:16</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:18</div><div class="msg">yeah - weird - my subnets show proper network number/subnet (`10.10.10.0/24`) notation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:19</div><div class="msg">let me change that and see if it makes a difference in the system</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:19</div><div class="msg">hmm - actually one generated from a real interface shows same as yours</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:19</div><div class="msg">`"Subnet": "10.100.16.23/24"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:19</div><div class="msg">ya, weird right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:19</div><div class="msg">it must be how our Web UX is building up the subnet spec - it does a lot of "helper" stuff to make it easier to auto-generate a Subnet spec</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:20</div><div class="msg">probably a red-herring, as I suspect it's not causing the problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:20</div><div class="msg">why wouldn' I be able to login to the sledgehammer image if it can't determine its state and returns localhost?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:21</div><div class="msg">you should be able to log in to sledgehammer regardless ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-19 19:21</div><div class="msg">How did you get a .204 with the Active Start and Active End not including that value?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:21</div><div class="msg">the systems' IP is 102</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:21</div><div class="msg">the 'name' of it is 204</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:21</div><div class="msg">the description reads: .11.50.158</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:21</div><div class="msg">jeesh ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:22</div><div class="msg">so its getting it because it's going out via NAT is my guess (?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:22</div><div class="msg">on the external side, these servers are all internal, but use NAT for public outbound</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:26</div><div class="msg">ok I manage dto get logged in, the HP ILO appears to change text to uppercase after the login prompt for some reason  :confused:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:27</div><div class="msg">journalctl -x shows the last 50 lines reading the attached.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:28</div><div class="msg">want the entire file ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:28</div><div class="msg">ok - I have to step out for a bit - back around 1pm PST - if you can copy the output in to a Snippet here, that would be helpful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-19 19:29</div><div class="msg">hopefully one of the other guys will be able to pick up with you in a short bit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:29</div><div class="msg">coolio</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:32</div><div class="msg">journalctl -x output</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:32</div><div class="msg">there's the entire output for anyone :laughing:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:44</div><div class="msg">@nistor - you have a PTR records that map to illegal names.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:44</div><div class="msg">204.11.50.158 is not a valid hostname</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:45</div><div class="msg">The `getent hosts 10.255.220.101` is return `204.11.50.158` as a hostname.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:47</div><div class="msg">.... does that break the entire thing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:47</div><div class="msg">10.255.220.101 nats out to 204.11.50.158</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:48</div><div class="msg">Well - you are trying to set the machine?s name to `204.11.50.158` which isn?t allowed in DRP.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:48</div><div class="msg">It has nothing to do with NAT is appears.  It is how your DNS is setup, I think.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:48</div><div class="msg">hrm how am I trying to set that, via the DHCP /subnet options?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-19 19:49</div><div class="msg">DHCP Option 6</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:49</div><div class="msg">The DHCP client in sledgehammer gets an address, but no HOSTNAME option.  So, sledgehammer attempts to do a reverse lookup through the getent command.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:49</div><div class="msg">For one machine, it doesn?t return anything, so we set it to the default made up name.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:49</div><div class="msg">The other machine does, so we attempt to reuse it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:50</div><div class="msg">DHCP option 6 is DNS server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:50</div><div class="msg">so if it queries the DNS server and gets an IP back the whole provisioning breaks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:50</div><div class="msg">is what Im sort of reading here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:50</div><div class="msg">Yes - so sledgehammer sets that in palce and then does the reverse lookup.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-11-19 19:50</div><div class="msg">well, we are asking the DNS server "what is the hostname for 10.255.220.101"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:50</div><div class="msg">is it possible to never use DNS as the option for machine?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-11-19 19:50</div><div class="msg">and the DNS server is answering 204.11.50.158</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-11-19 19:51</div><div class="msg">which is weird.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:52</div><div class="msg">the NAT setup today was jsut a hack i had to put in to get outside connectivity so I suppose this isn't a normal setup</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-19 19:52</div><div class="msg">dots in a dns name have a fairly specific meaning. If you're trying to send an IP as a hostname, you're in for all kinds of heartache</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:52</div><div class="msg">but non the less if it breaks on that then I have to disable the DNS DHCP option 6</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-19 19:52</div><div class="msg">Not just in DRP, but pretty much everywhere.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:53</div><div class="msg">right, but there is a way around this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:53</div><div class="msg">I get that part, but I didnt expect the process to break because of DNS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:53</div><div class="msg">I thought hte whole thing would of used mac's for identifiers not DNS resolutions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:53</div><div class="msg">It does use the MAC.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:54</div><div class="msg">but in the machines list it shows under name, not mac</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:54</div><div class="msg">You haven?t told it a hostname, so it is trying to use DNS to guess a Hostname on your behalf and your system sends a bad one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:54</div><div class="msg">and it appears from above that because its the same name its an issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:54</div><div class="msg">Yes, because there are two objects representing the machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:54</div><div class="msg">One is the DHCP lease.  That is by MAC.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:54</div><div class="msg">The Machine is identified by UUID (completely separate from MAC).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:55</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:55</div><div class="msg">The machine has soft linking between mac addresses, names, and addresses.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:55</div><div class="msg">You can create a reservation for this mac to IP pair and set option 12 (hostname) in the that reservation to get around your DNS issues.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:56</div><div class="msg">can I just diable DHCP option 6 in the subnet listing as a workaround as well?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 19:56</div><div class="msg">Yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:56</div><div class="msg">ok cool let me do that then and reboot this one box</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:57</div><div class="msg">my ultimate goal is to never have to use DNS for boot strapping a machine until the OS itself is online</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-19 19:58</div><div class="msg">then you shouldn't really hand it out in the dhcp request. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 19:59</div><div class="msg">true, and i've removed it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 20:00</div><div class="msg">I guess as a user I'm surprised that the process fails with the use of DNS in it, I would have expected less dependency on DNS and in this situation 10.255.x.x should never actually resolve to anything, there's no zone file for it, so 204.11.50.158 is the IP it's getting via some other means, not DNS.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 20:00</div><div class="msg">as that 50.158 is the NAT outside IP of the fw instance</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 20:00</div><div class="msg">removing DHCP Option 6 solved the issue, systems report 'localhost' however in the mahciens list I see them all now with the mac address, perfect!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 20:02</div><div class="msg">The machine list shows localhost?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 20:02</div><div class="msg">one says localhsot the other shows dxx-xx-xx</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 20:02</div><div class="msg">it took some time to show so giving it another 10-20 s</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 20:02</div><div class="msg">the machines list has the right info</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 20:02</div><div class="msg">and there it goes, second one now has the right prompt, excellent</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 20:03</div><div class="msg">the description field it picks, should that also be the "domain name" ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 20:04</div><div class="msg">Since you haven?t set one, it does that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 20:04</div><div class="msg">ok cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 20:05</div><div class="msg">now onto more testing :slightly_smiling_face: thnx!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 21:01</div><div class="msg">hrm, so if I remove the DNS Option 6, I can't actually do an install of an OS, at least not CentOS that has to go out to the repo since it can't determine any DNS servers.  Maybe reservation is my only option.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 21:02</div><div class="msg">For that one machine, it is likely.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 21:15</div><div class="msg">Are workflows stores on the local DRP endpoint system or somehow centralized?  Just thinking if I had 125 sites how would I best push the workflow to all of them, or have them constantly in sync without using something like chef or puppet.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-19 21:19</div><div class="msg">I see that for sledgehammer, control.sh runs `drpcli machines processjobs {{.MachineUUID}}`. This, I assume creates an EventStream websocket. All good.  What I've been seeing is that if I create a reservation and the machine changes its ip, that breaks the websocket and you it can't process any more jobs.  At this point I have to reboot the machine OR ssh in and run my own instance of `drpcli machines processjobs $RS_UUID`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 21:21</div><div class="msg">@nistor - There are RackN road map items for that.  Content packages are a simple start.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-19 21:21</div><div class="msg">I guess my question is if there is a way to force processjobs to re-establish connection on an ip change, or if that would be something of interest for a feature request?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 21:22</div><div class="msg">@john - Feature / Bug Request.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-19 21:22</div><div class="msg">If the connection drops, it should reestablish.  The main thing is that the DRP Endpoint is still routable to the Client after the IP change.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-07/473864229811_35a057fb2fad9535f10a_72.jpg" /><div class="message"><div class="username">nistor</div><div class="time">2018-11-19 21:23</div><div class="msg">@greg, ok cool! thnx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-11-20 00:06</div><div class="msg">Is there a way to change the machine state to go back to first in the task list instead of reading from the previous installation? We ran into an issue that even after we change the machine stage and retry deploying the machine, DRP still reads the information from a previous installation failure.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/d537d7e0451bc8278bade3f9020973ae.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">rvakkalagadda</div><div class="time">2018-11-20 00:07</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-20 00:23</div><div class="msg">@b.quan - Yes, but it if you need it, it usually means that you are not doing something quite right.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-20 00:23</div><div class="msg">So, for example, if you set a machine stage to the current stage, nothing changes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-20 00:24</div><div class="msg">Or you didn?t restart correctly, or change bootenvs or something to make the system different to make it think that something has changed to warrant starting over.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-20 00:24</div><div class="msg">With that said,</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-20 00:25</div><div class="msg">You can do this: `drpcli machines update &lt;uuid&gt; '{ "CurrentTask": -1 }' --force`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-20 00:25</div><div class="msg">This will force the current task backwards and start over.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-20 00:25</div><div class="msg">It should even wake up a runner.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-20 00:28</div><div class="msg">@rvakkalagadda $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-20 00:28</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-11-20 03:42</div><div class="msg">Thank you Greg! We'll give it a try.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-20 13:05</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-20 13:10</div><div class="msg">hello everyone :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-20 14:20</div><div class="msg">@martin.olsson $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-20 14:20</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-20 14:39</div><div class="msg">I'm currently trying out digital rebar, which I find to be a very interesting tool :slightly_smiling_face:. I've been following the quickstart and I've been reading other digital rebar docs as well. I haven't found any documentation in regards to my problem , so therefore I ask it in here :slightly_smiling_face:
I'm trying to install ubuntu 18.04 according to the quickstart steps with a workflow.
It seems to start the installation nicely (and also finish it) but afterwards it doesn't boot into the OS (which it should do according to the quickstart (it goes into PXE boot, and jumps out to HDD boot and says similar with "no operating system found")).
Could this be a legacy / uefi bios issue?
I'm thankful for any tips anyone may have.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-20 15:06</div><div class="msg">That is most certainly a UEFI issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-20 15:08</div><div class="msg">If the install isn't going to a hdd in the uefi boot list then you should probably use legacy boot. I ran into the same issue a few weeks ago.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-20 15:31</div><div class="msg">@martin.olsson - by default the installer assumes `/dev/sda` as the target install disk.  If your bootloader is booting "something else" as the default Boot Device, then post-install reboot will fail.   You can boot the machine in to Sledgehammer and log in to the console (or add your SSH keys, and SSH to it) - and see what Sledgehammer identifies as the disk ordering and names (eg `lsblk`).   You can specify an alternate Install Disk by setting the Param `operating-system-disk` to an alternate device (eg `sdb` - no preceding `/dev`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-20 15:32</div><div class="msg">if that is not the correct disk you want the OS installed/booted from, then you need to modify your boot order appropriately to insure the BIOS/bootloader loads the correct drive for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-20 15:33</div><div class="msg">(there are RackN commercial plugins for manipulating/managing BIOS/Firmware as part of Workflow)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-20 15:38</div><div class="msg">@martin.olsson if that works, please let us know and we'll add it to the FAQs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-20 15:38</div><div class="msg">notes the FAQs are getting long enough to need to re-organization</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-20 15:40</div><div class="msg">(it's on my list ... :slightly_smiling_face: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-20 15:54</div><div class="msg"><!here> reminder &gt; community meeting in 3 hours</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-20 17:35</div><div class="msg">wow! thanks for all the tips guys :slightly_smiling_face: , i'll try them once I'm at the office again, and get back to ya!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-20 23:12</div><div class="msg"><!here> Community Meeting Recording posted:
<a href="https://youtu.be/2cXmM8OLX1o">https://youtu.be/2cXmM8OLX1o</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-20 23:12</div><div class="msg">We covered A LOT of new cool stuff including extensions to the plugin system and running the runner in a container.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-21 14:46</div><div class="msg">@shane I'm having some trouble logging into the sledgehammer discovery environment. It says invalid password or user when using details from the docs below
<a href="https://provision.readthedocs.io/en/tip/doc/configuring.html#rs-configuring-default">https://provision.readthedocs.io/en/tip/doc/configuring.html#rs-configuring-default</a> - section 6.3 specifies a username and password which I interpret should be valid for sledgehammer env as well or did I understand it wrong? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e1551b58a1a37620e9bb87e682693b21.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">f.hufenreuter</div><div class="time">2018-11-21 14:48</div><div class="msg">(user/pass for sledgehammer is:   `root`/`rebar1`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-21 14:49</div><div class="msg">I'm in, thanks @f.hufenreuter :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-21 14:50</div><div class="msg">@martin.olsson you can also add your SSH public key half as a Param on the machine (either directly, in the `global` profile, or a profile you attach to the machine) - then you can log in with SSH directly - see the $faq for details</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-21 14:50</div><div class="msg">FAQs are here &gt; <a href="http://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html">http://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-21 14:52</div><div class="msg">see section 24.4 - you can also add keys via the Web portal too - of course</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-21 14:57</div><div class="msg">got ya!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/957a42bb34e017df463cd3bd039d5161.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">toby.owen</div><div class="time">2018-11-21 17:34</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-21 18:49</div><div class="msg">@toby.owen $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-21 18:49</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-21 22:21</div><div class="msg">Happy Thanksgiving everyone!  We'll be lurking on the channel but responses will be slower than usual due.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-21 22:21</div><div class="msg">:turkey:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0a3a44079a9164c2d10f9813aad29d7f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">robin.cordier</div><div class="time">2018-11-22 18:39</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-22 19:35</div><div class="msg">@robin.cordier welcome</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-23 09:35</div><div class="msg">has joined #community201811</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-23 12:25</div><div class="msg">@shanegreetings again!, just a follow-up on the issue I asked about before.
I have performed "lsblk in the sledgehammer env (also got ssh key and remote login to work as well, yay!)  and the harddrive is identified as "sda" with underlying sda1, sda2 partitions etc (can supply structure if you wish).

I've played around in the bios setting/unsetting uefi/legacy, but haven't managed to get it to proper boot from the hard drive.
Any other suggestions? :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-23 13:30</div><div class="msg">I also had another problem with actually performing pxe booting against the server I'm testing digital rebar with. Sometime it worked fine a few times, then had issues, and then totally stopped working. I changed a lot of configurations, trying to pinpoint the problem.
It turns out I had to enable a setting, and fill in some fields that would ensure compatibility with digital rebar in the unifi controller software.
Thought you guys could add the following below to your FAQ perhaps? :slightly_smiling_face:
Unifi network equipment (using unifi security gateway) digital rebar support in the Unifi software controller:
settings --&gt; networks ---&gt; &lt;select your network&gt; --&gt; advanced dhcp options
tick in "enable dhcp network boot"
 -- specify ip address to DRP endpoint
 -- specify bootfile to use (my case: "lpxelinux.0")

I also had digital rebar subnet with dhcp proxy settings (and "lpxelinux.0") with this config.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-23 17:36</div><div class="msg">@martin.olsson if you have dhcp set correctly then you should not need to set the endpoint because of nextboot.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-23 19:04</div><div class="msg">@martin.olsson I?m not sure lpxleinux0 will work with uefi </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-25 01:11</div><div class="msg">@diego.oberlin $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-25 01:11</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-26 14:36</div><div class="msg">Hi @shane, greetings from a newbie to digital rebar. I'm currently testing it. I've done an --isolated setup,  and completed all minimal configs. I've created a vm on our XenCenter and when booting such vm, i got the following message from drp:
``` Nov 26 15:13:53 n15-drp-001 dr-provision[3779]: dr-provision2018/11/26 14:13:53.313176 [3:1]dhcp:dhcp [ warn]: /home/travis/gopath/src/github.com/digitalrebar/provision/midlayer/pxe.go:74
Nov 26 15:13:53 n15-drp-001 dr-provision[3779]: [3:1]Incoming iPXE does not support comboot ```
Any idea what the problem might be? Thank you!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-26 15:15</div><div class="msg">These are okay. They indicate that the ipxe agent isn?t as full featured as drp expects.  It should have sent a different ipxe and booted that.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-26 15:16</div><div class="msg">@diego.oberlin it should have booted a new ipxe and continued.  Make sure you set a default unknown bootenv </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-26 15:18</div><div class="msg">oh... I see. I'll try that. Thanks @greg!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-26 15:43</div><div class="msg">@diego.oberlin to expand a touch more on what @greg says:  DRP PXE boot process goes through some "magic" where it tries to properly identify what ipxe boot file to send to the client - part of that will trigger a few WARN messages of the type you saw, until it hits on a successful boot file for your PXE environment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-26 15:44</div><div class="msg">I thought we had a $faq entry related to that - but it looks like we don't - so I'll add one</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-11-26 15:44</div><div class="msg">FAQs are here &gt; <a href="http://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html">http://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-26 15:52</div><div class="msg">I'll take a look at the FAQs as well. Thanks @shane!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/008a5dd53b8227c8e15c79f25f24cf51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">s.pisarski</div><div class="time">2018-11-26 16:33</div><div class="msg"><!here> - Did the DRP download URL change or is it down?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-26 16:33</div><div class="msg">which?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/008a5dd53b8227c8e15c79f25f24cf51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">s.pisarski</div><div class="time">2018-11-26 16:34</div><div class="msg">get.rebar.digital/stable</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-26 16:34</div><div class="msg">that's backed by a CNAME to s3 now, should be v4 and v6</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-26 16:35</div><div class="msg">@s.pisarski - yes it has changed - looks like something broke - checking</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/008a5dd53b8227c8e15c79f25f24cf51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">s.pisarski</div><div class="time">2018-11-26 16:35</div><div class="msg">@zehicle, thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/008a5dd53b8227c8e15c79f25f24cf51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">s.pisarski</div><div class="time">2018-11-26 16:35</div><div class="msg">@shane - thanks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-26 16:36</div><div class="msg">you can use <a href="http://get.rebar.digital.s3-website-us-west-2.amazonaws.com/stable">http://get.rebar.digital.s3-website-us-west-2.amazonaws.com/stable</a> in the interrum</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-26 16:39</div><div class="msg">^interim</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-11-26 16:39</div><div class="msg">not that I'm a spelling pedant or anything.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/008a5dd53b8227c8e15c79f25f24cf51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">s.pisarski</div><div class="time">2018-11-26 16:39</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-26 16:42</div><div class="msg">@greg found the problem... fixed now.  No trailing / w CNAMES</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/008a5dd53b8227c8e15c79f25f24cf51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">s.pisarski</div><div class="time">2018-11-26 16:43</div><div class="msg">@greg, @shane, &amp; @zehicle - Thank you all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-26 16:44</div><div class="msg">@s.pisarski the v6 is not working</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/008a5dd53b8227c8e15c79f25f24cf51.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0020-72.png" /><div class="message"><div class="username">s.pisarski</div><div class="time">2018-11-26 16:45</div><div class="msg">@zehicle - thanks for the warning :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-26 16:54</div><div class="msg">@s.pisarski I think it was a short lived warning... that's fixed too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-26 16:54</div><div class="msg">just use the get.rebar.digital  It now is dual stack.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-26 17:54</div><div class="msg"><!here> - our "curl to bash" installer is dual-stack for IPv4 and IPv6.  We are going to remove the `get6.rebar.digital` DNS record - unless there are any major objections - I don't think there is much usage of that record in the first place</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-26 17:55</div><div class="msg">@diego.oberlin - were you able to get past the PXE boot issue ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-27 09:25</div><div class="msg">good morning! @shane - no, wasn't able to get in place yesterda. I'm currently getting back into it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-27 12:36</div><div class="msg">@shane ok, i was able to get pass the pxe boot issue. Now i've got a properly installed os on the vm. Thanks.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-27 13:05</div><div class="msg">yeah... now more questions, for instance, ipv6... can dr-provision/rackn dhcp server handle ipv6?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-27 14:28</div><div class="msg">No.  Drp dhcp is V4.  V6 is a roadmap item. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-27 14:29</div><div class="msg">@diego.oberlin happy to talk about customers/sponsors for it to accelerate development</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-27 14:30</div><div class="msg">DRP will work in conjunction with an external v6 DHCP service just fine, though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-27 15:19</div><div class="msg">thanks @zehicle
@shane, in that case I need to --disable-dhcp at start, right? Involves that other config changes at drp (subnets, reservations,etc) ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-27 15:24</div><div class="msg">Glad to talk more about this in a near future. Right now, we need to able to have ipv6 dhcp service in place by any other way. :man-shrugging:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-27 15:28</div><div class="msg">more questions: what about IMPI plugins for vcenter and xencenter? I wasn't able to find docs related to that. I need to be able to create virtual machines directly through drp api (or eventually through drp ui)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 15:31</div><div class="msg">We don?t have IPMI plugins for vcenter or xencenter.  Would be interesting to have them, but not now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-11-27 15:37</div><div class="msg">I have a suggestion for another future release: please don't allow us to be able to display *all* jobs. I just missclicked that on an environment that has been there for a while and I am still crying from the pain it causes to by browser :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 15:40</div><div class="msg">@florent.wagener - makes sense.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-11-27 15:46</div><div class="msg">ok...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-11-27 15:52</div><div class="msg">I also like the new view of the jobs :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 15:53</div><div class="msg">in tip?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:09</div><div class="msg">has something changed with the rackn portal in the last day or so?  UX v1.5.0   I have two instances of DRP, one on my dev server and one running in docker in localhost. I wasn't able to look at a bootenv on the localhost, and today I super refreshed the one on my dev server and started encountering the same problem.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:10</div><div class="msg">I thought it was ublock blocking <a href="http://hs-analytics.net">http://hs-analytics.net</a> but I've disabled ublock and tried different browsers with the same issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:13</div><div class="msg">sorry.. I just tried again and it's only my localhost install.  not the dev server. So I guess UX portal is fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 16:14</div><div class="msg">Do you have `tip` DRP?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 16:14</div><div class="msg">`tip` has arch support</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:14</div><div class="msg">yes. it looks like this is a CORS issue for localhost</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:14</div><div class="msg">Versions: DR v3.11.0-tip-72 &amp; UX v1.5.0\</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 16:15</div><div class="msg">which changed Bootenv.  So, bootenv won?t render correctly with <a href="http://portal.rackn.io">http://portal.rackn.io</a>.  You need <a href="http://tip.rackn.io">http://tip.rackn.io</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:16</div><div class="msg">ahh</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:16</div><div class="msg">that does it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:17</div><div class="msg">thanks for the info</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 16:17</div><div class="msg">Yeah - make sure you have tip content as well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:23</div><div class="msg">that i have. I've been pulling tip code and tip content. But I suppose i should start looking at testing in stable</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 16:24</div><div class="msg">your PRs are in tip.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 16:24</div><div class="msg">I need to cut a release soon.  We haven?t had one for a while and we?ve amassed some features.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:25</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 16:26</div><div class="msg">a while by our standards.  A month or two  :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:26</div><div class="msg">Also I wanted to just say that the content bundle feature is amazing. I converted a bunch of objects into a content bundle yesterday and it's pretty impressive.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-11-27 16:28</div><div class="msg">In our last tool, we had to lay out a bunch of json files in a repo and ship a loader tool that would recurse through making api calls. The bundle takes care of that, deletes things you no longer need, and makes the rest as readonly. You guys were definitely thinking that through.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 16:49</div><div class="msg">@john - glad you like it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-11-27 20:28</div><div class="msg">i am pxe booting an ubuntu machine, and the load keeps haulting at the end of the install at the same point. would it be waiting for something from my workflow that is missing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:02</div><div class="msg">Quick question, when the sledgehammer image does it's thing and sets params at discovery, what user does it use to talk to the rebar server?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:04</div><div class="msg">That looks very familiar @jzimmer When I've seen that in the past on my systems it's because a post-install action that I had created was failing.  Try watching the text console (alt-f4 I think) and you should see what it's doing when it stalls out there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:05</div><div class="msg">Also check in your jobs to see if any of them failed.  Sometimes you get useful stuff there when something goes sideways.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-11-27 21:06</div><div class="msg">ok i will take a look thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:33</div><div class="msg">@dave.parker it is a dynamic token for the specific machine with restricted scope to that machine </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:41</div><div class="msg">Ok.  Should I be able to run drpcli commands from the command line after I log into the running sledgehammer image?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:42</div><div class="msg">well - maybe.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:42</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:42</div><div class="msg">If you didn?t change the default password for the `rocketskates` user, yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:43</div><div class="msg">@dave.parker - drpcli uses defaults - helps the peoples learn.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:44</div><div class="msg">Ah ok, so if the rocketskates user got deleted I won't be able to run commands interactively?   How about stages I add to the discovery process via a workflow, will those work?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:45</div><div class="msg">hmm - well - maybe. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:46</div><div class="msg">The tasks run by stages can use template expansion to get a token for that machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:46</div><div class="msg">Basically I'm running a bash script as a stage after the discovery stage that just grabs the system UUID and adds it as a param.  And I can't get it to work and am trying to figure out why.  I get some stuff in the job log about a template error and a stage step not existing, but I don't know what that's all about because the stage step does exist.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:46</div><div class="msg">okay - cool.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:47</div><div class="msg">You have this:
```
#!/bin/bash
SUID="GOTSOMECOOLWAY"
drpcli machines set {{.Machine.UUID}} param my-cool-parm to "$SUID"
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:48</div><div class="msg">You need to make sure you have credentials and endpoint set.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:49</div><div class="msg">The fastest way to do this is to insert.
```
{{template "setup.tmpl" .}}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:49</div><div class="msg">This will under the covers expand and do a few things.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:49</div><div class="msg">Actually I have this, should this work?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:49</div><div class="msg">```#! /usr/bin/env bash

cat /sys/class/dmi/id/product_uuid | /usr/local/bin/drpcli machines set ${RS_UUID} param system-uuid to - ```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:49</div><div class="msg">I verified that RS_UUID is set as an environment variable.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:50</div><div class="msg">Hrm ok.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:50</div><div class="msg">That line will work.  You still need RS_ENDPOINT and RS_TOKEN set.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:50</div><div class="msg">The setup.tmpl is a template that expands to set those.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:50</div><div class="msg">Ah ok.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:50</div><div class="msg">Let me try that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:50</div><div class="msg">It is in the community content.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:52</div><div class="msg">hmmm - it seems like that might work with out.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 21:55</div><div class="msg">I always do the setup.tmpl thing.  It appears that if the runner is started with those as env vars, it will then pass them on to the children.  Now, this is the trick .  Depending upon which bootenvs they may or may not be set.   I find it is always safer to not make that assumption.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:59</div><div class="msg">Ok so logged in interactively, I see that RS_UUID and RS_ENDPOINT are set, but RS_TOKEN isn't.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 21:59</div><div class="msg">So let me see what setup.tmpl does to fix that and see if I can get my interactive session working at least.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:00</div><div class="msg">`export RS_TOKEN="{{.GenerateInfiniteToken}}"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 22:01</div><div class="msg">Ah.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 22:01</div><div class="msg">Magic!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:01</div><div class="msg">edited for completeness.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:02</div><div class="msg">setup.tmpl also does a few things to make sure the right arch executables are in place.  Handles CoresOS BS and so on.  Fixes up path to find drpcli and jq.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 22:04</div><div class="msg">Oh I do have setup.tmpl already on my server.  So let me just add that to my script and see what happens.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 22:05</div><div class="msg">lol hey that worked!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 22:05</div><div class="msg">Awesome.  Thanks for your help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:06</div><div class="msg">`setup.tmpl` is part of the default community content.  We use it all over the place for this reason.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 22:06</div><div class="msg">Very handy.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:06</div><div class="msg">it also for tasks pulls in the exit helpers.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:07</div><div class="msg">exit helpers are bash functions that exit with the correct return code to tell the runner what to do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:08</div><div class="msg">`exit_stop` will exit the task and stop the runner.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:08</div><div class="msg">`exit_reboot` will exit the task with a success and reboot the machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:08</div><div class="msg">`exit_shutdown` will exit the task with success and shutdown the machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:09</div><div class="msg">a couple of other useful things that get pull in are `set_param` and `get_param`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:10</div><div class="msg">`set_param "param-name" "value"`  or `echo "fred" | set_param "param-name"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:10</div><div class="msg">`get_param "param-name"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-27 22:11</div><div class="msg">Cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-27 22:11</div><div class="msg">That is useful because it has the `--aggregate` flag set so that it will do the hierarchical lookup for that parameter through machine, profiles, global profile, and defaults.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-27 23:21</div><div class="msg">@jzimmer I'm late to the thread, but see if this FAQ was helpful and let us know: <a href="https://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html?highlight=faq%20ubuntu#booting-ubunutu-without-external-access">https://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html?highlight=faq%20ubuntu#booting-ubunutu-without-external-access</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-11-27 23:50</div><div class="msg">Will do!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-11-28 00:16</div><div class="msg">@zehicle, that was the issue, when i took over dhcp for the server i forgot to update my dns server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 13:59</div><div class="msg"><!channel> - A couple of things - I?m thinking about cutting a release shortly (within a week or so).  Other than the usual, move all parts at once, tip seems to be stable and workable.  Let me know if there are any concerns.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 14:03</div><div class="msg"><!channel> - Second thing - I?m looking at networking features and automation around that. I?d like to poll the crowd on a couple of things.  first, what network manager do you us in your OSes by OS.  Like systemd-networkd for c7/r7/u18+, ? Or ifupdown for r6/c6, ?.  And second what do you use for IP management?  spreadsheets, manual assignment, IPAM XXXX, ?, and third (I lied about a couple) what flow do you use for control today.   High level answers are fine.  Let?s try and use slack threading for this one (or DM me.).  Thanks for your participation!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 14:03</div><div class="msg">Threead here for more comments!!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-28 14:06</div><div class="msg">RHEL interface files (ifupdown?) for SL6 and C7 (`network` service), we disable NetworkManager and don?t use networkd yet. Not wed to anything in particular, but the interface files seemed less shit compared to `nmcli`. I?d hope we switch to networkd at some point? For IP assignment we use Netbox, some stuff is DHCP?d but most of the active addresses (e.g. in VM or container host clusters) are manually assigned and then read from Netbox during install process.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-28 14:08</div><div class="msg">ubuntu has some awful network manager now that we are starting to use on 18.04 machines.  IPAM is Netbox</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-11-28 15:14</div><div class="msg">We pretty much write lovingly hand-crafted /etc/network/interfaces files on Ubuntu systems. IPAM is Netdot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 16:53</div><div class="msg">@zdunn - I think you should be able to do systemd-networkd on it instead, but I haven?t tried yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 16:53</div><div class="msg">This leads to a different question.  Do you care which one you use if it was automated?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-11-28 16:56</div><div class="msg">@greg nope.  As long as it's automated, we can build a bond, and layer interfaces I don't care</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-28 16:59</div><div class="msg">it might be nice to have multiple options for edge cases, but for the most part I?d prefer not to have to think about interfaces at all and have something else deal with it entirely :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 17:01</div><div class="msg">so as some of you may have guessed, I?m trying to expand and finish an MVP for our netwrangler feature.  I?m currently thinking of three parts to it.  One is get network config, this would query something (netbox for example) and build a network plan that is stored in a parameter.  This could be skipped and just set the parameter on the machine.  The second step would be to write the config files for the OS/style choice.  The third step would be to enable the services and restart them.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-09/476096969698_f0bb32a972f76e899bae_72.jpg" /><div class="message"><div class="username">christian.tardif</div><div class="time">2018-11-28 18:32</div><div class="msg">We're playing mostly with systemd-networkd these days, as it's common to Ubuntu, RedHat and CoreOS. But you're right @greg, if it's automated, we don't care much. Ubuntu is doing great with Netplan, but that's completely useless, thinking at automated stuff.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 18:38</div><div class="msg">well - we are looking at using the netplan format and a go program to convert that into config files.  For us, that leads to easy stages and parameters to drive this stuff in an automated way.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 18:39</div><div class="msg">hence the three steps.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 18:39</div><div class="msg">Does that sound reasonable to people?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-28 18:50</div><div class="msg">I wasn't aware of the netplan format actually,  quick read seems promising</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 18:54</div><div class="msg">It seems to be reasonably complete.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-28 19:13</div><div class="msg">So the idea might be a set of exporters for the various ipam systems to netplan, and then a binary that converts that to interface configs? Seems sane to me</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-28 19:14</div><div class="msg">Rather similar to the tool I wrote internally actually, except i didn't separate those steps into different execution steps</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 19:15</div><div class="msg">That would be the idea. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-28 19:22</div><div class="msg">Only thing I can see which doesn't quite match up is the renderer setting in the netplan format itself, that'd mean that whatever writes the plan to a param would need to know the renderer that the end system wanted to use</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-28 19:22</div><div class="msg">But if you're writing your own netplan output system then I suppose you can just ignore that field, have it pulled from cli arg or whatever</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 19:31</div><div class="msg">We ignored that right now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 22:55</div><div class="msg">ipmi plugin docs - <a href="https://provision.readthedocs.io/en/latest/doc/content-packages/ipmi.html">https://provision.readthedocs.io/en/latest/doc/content-packages/ipmi.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-28 22:55</div><div class="msg">well first pass anyway.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-29 08:19</div><div class="msg">a bit late answer, been a busy week :open_mouth:  , thanks for the comments and tips above  @greg and @zehicle  for the dhcp and uefi :slightly_smiling_face:. I've managed to provision and boot into OS with two servers with digital rebar so far :tada:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-11-20/484010787171_d59b8798822af0e09fd4_72.jpg" /><div class="message"><div class="username">martin.olsson</div><div class="time">2018-11-29 08:21</div><div class="msg">Haven't found any mentioning of it (do appologize if I missed it) , but is Digital Rebar able to provision a machine / device of ARM architecture (for example, a Raspberry Pi ) ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-29 12:52</div><div class="msg">Yes ARM.  Maybe Pi due to its special pxe approaches.  I think Pi was done in community - we don't have any for test. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-29 12:52</div><div class="msg">There's a meetup recently showing ARM work.  It mostly just works</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 14:29</div><div class="msg">Hmm? so I?m wondering if I can get drpcli up and running on cumulus linux using a ZTP script. Aiui the sledgehammer image starts a ?sledgehammer? service that extracts some details from the DHCP lease, and then uses that information to download `start-up.sh` from DRP. That?s a script in a `bootenv` which generates a token and outputs the service url, downloads drpcli, and uses it to register the machine and then act as a runner.

Given that, it seems like I?d need to create a custom boot env with a custom startup script that does something similar - but since these switches come with an OS preinstalled (or at the very least ONIE, which doesn?t do PXE either), there?s not really a ?boot image? that can be used? does that matter? can a non-machine-specific but still-templated file like start-up.sh be placed somewhere more appropriate than a bootenv?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 14:30</div><div class="msg">I think I have it down to 4 output formats (not that I?m going to implement all of these).  RedHat ifcfg-* files with router friends, Debian /etc/network/interface file, NetworkManager, and systemd/networkd.  Input would be <a href="http://Netplan.io">http://Netplan.io</a> format.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 14:30</div><div class="msg">actually, you may not.  if you use tip.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 14:31</div><div class="msg">In tip content, you can do. drpjoin from tools.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 14:31</div><div class="msg">ooh cool. I?ll give it a poke, thanks @greg</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 14:31</div><div class="msg">`curl -fsSL "$1/machines/join-up.sh" | bash --`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 14:32</div><div class="msg">where $1 is `<a href="http://DRPIP:DRPFILEPORT">http://DRPIP:DRPFILEPORT</a>` or `<a href="http://1.2.3.4:8091">http://1.2.3.4:8091</a>`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 14:34</div><div class="msg">holy cow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 14:34</div><div class="msg">worked first time :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 14:47</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 14:54</div><div class="msg">is it possible to use template vars in subnet options? e.g. ?{{.ProvisionerURL}}/machines/join-up.sh?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 14:54</div><div class="msg">(have to send option 239 which is classed as the ZTP script)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 14:54</div><div class="msg">url to the ZTP script rather*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 14:54</div><div class="msg">it might work.  :neutral_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 14:57</div><div class="msg">does it default to next boot server if http?. not specified?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:00</div><div class="msg">suspect not, there?s no mention of next boot server anywhere in the doco i can find? and ZTP scripts require `CUMULUS-AUTOPROVISIONING` somewhere in the source to trigger the script run</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:00</div><div class="msg">so i think i have to wrap it anyway</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:11</div><div class="msg">@bagricola - I just checked.  No, template vars don?t work in options. You can use sprig and a couple of functions, but not the normal task template helpers/</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:16</div><div class="msg">gotcha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:45</div><div class="msg">@bagricola - can you explain the script requirement?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:46</div><div class="msg">or link</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:46</div><div class="msg">I can generally read.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:46</div><div class="msg">haha</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:46</div><div class="msg"><a href="https://docs.cumulusnetworks.com/display/DOCS/Zero+Touch+Provisioning+-+ZTP">https://docs.cumulusnetworks.com/display/DOCS/Zero+Touch+Provisioning+-+ZTP</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:46</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:46</div><div class="msg">basically when CL first boots it looks for a ZTP script somewhere (usb, local or DHCP)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:47</div><div class="msg">DHCP is option 239, and the script has to have `CUMULUS-AUTOPROVISIONING` in it (usually a comment)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:47</div><div class="msg">those are the only requirements</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:47</div><div class="msg">so machines/join-up.sh is actually perfect, except for not containing the autoprovisioning line</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:49</div><div class="msg">the only other problem is having to provide an absolute URL to the script to run via DHCP, but don?t think thats a significant issue as I have to specify the subnet settings manually anyway</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:50</div><div class="msg">Yeah - it looks like a comment.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:53</div><div class="msg">This might hang the ztp service or manual script.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:53</div><div class="msg">but ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 15:55</div><div class="msg">ahh yes i guess ztp is expecting the script to exit eventually</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:55</div><div class="msg">Though - you could do that? in a task.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:56</div><div class="msg">Install the runner as a server from the task library, start it, and then stop the current runner.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:56</div><div class="msg">That is really strange, but okay.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 15:56</div><div class="msg">our I can make another change as well.  thinking about it too.  Back in a second.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-29 16:00</div><div class="msg">omg... adding a COMMENT allows Cumulus ZTP?!   that's crazy</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 16:01</div><div class="msg">@bagricola - if you update to tip content, the join script now has the comment.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 16:01</div><div class="msg">haha :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 16:01</div><div class="msg">well adding a comment and a DHCP option, but close enough</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 16:04</div><div class="msg">i tried to update to tip but sopmething has broken authenticating downloads of our content pack from gitlab, so i?ll have to fix that first</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 16:04</div><div class="msg">thanks though @greg I?ll give it a shot soon :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 16:05</div><div class="msg">np - keep me informed.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 16:53</div><div class="msg">interesting</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 16:53</div><div class="msg">`[82:5]Failed to render option 239: <a href="http://10.10.254.1:8091/machines/join-up.sh">http://10.10.254.1:8091/machines/join-up.sh</a>, strconv.Atoi: parsing "<a href="http://10.10.254.1:8091/machines/join-up.sh">http://10.10.254.1:8091/machines/join-up.sh</a>": invalid syntax`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 16:56</div><div class="msg">ahh, default (unknown) option type is assumed to be a list of integers, I guess?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 17:01</div><div class="msg">probably</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 17:41</div><div class="msg">yeah can?t work around that :slightly_smiling_face: so close, haha</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-29 17:41</div><div class="msg">home time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 17:42</div><div class="msg">yeah - I?m looking at it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 18:00</div><div class="msg">@bagricola - there is an answer that is not user friendly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 18:01</div><div class="msg">Take the `<a href="http://10.10.254.1:8091/machines/join-up.sh">http://10.10.254.1:8091/machines/join-up.sh</a>` and convert it to a comma seperated string of byte numbers.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 18:10</div><div class="msg">I?m testing it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 18:13</div><div class="msg">This worked for me- painful but still</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 18:13</div><div class="msg">`echo <a href="http://10.10.254.1:8091/machines/join-up.sh">http://10.10.254.1:8091/machines/join-up.sh</a> | od -t d1 &gt; tmp`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 18:14</div><div class="msg">edit tmp to convert all spaces to between items into `,` then join the lines into a single line and then remove the `,10` at the end</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 18:14</div><div class="msg">Then use that string as the value for the 239 option.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 18:14</div><div class="msg">@bagricola - I?m working on thing to make this better.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f1983f6213499f500e008bb262b91280.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">michael.harp</div><div class="time">2018-11-29 20:22</div><div class="msg">Does drp support ?fips? mode during install with RHEL? ie, `fips=1 kernel option`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 20:23</div><div class="msg">not sure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 20:23</div><div class="msg">@michael.harp - is it just passing the option?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 20:23</div><div class="msg">on the kernel line?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 20:25</div><div class="msg">there is the `kernel-console` parameter that you can be used to set extra kernel parameters (originally for console options).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f1983f6213499f500e008bb262b91280.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">michael.harp</div><div class="time">2018-11-29 20:25</div><div class="msg">Not sure really, just heard about the requirement this morning and the RH doc is kinda amusing, <a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/chap-federal_standards_and_regulations">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/security_guide/chap-federal_standards_and_regulations</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f1983f6213499f500e008bb262b91280.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">michael.harp</div><div class="time">2018-11-29 20:26</div><div class="msg">&gt; Ensure that the system has plenty of entropy during the installation process by moving the mouse around or by pressing many keystrokes. The recommended amount of keystrokes is 256 and more. Less than 256 keystrokes might generate a non-unique key.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 20:27</div><div class="msg">yeah - that is funny!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 20:27</div><div class="msg">So, I think you could do `fips=1` in the `kernel-console` parameter during the redhat install and it would do what you want.  Haven?t tested it though.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f1983f6213499f500e008bb262b91280.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">michael.harp</div><div class="time">2018-11-29 20:28</div><div class="msg">will it it a try but my guess is there will be tears</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-11-29 20:31</div><div class="msg">Ah yes - the "Federally approved algorithms" ... the ones they have the keys to already ....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-29 20:42</div><div class="msg">@michael.harp - I just tried an install with kernel-console set to fips=1 on Centos and it seems to report that fips is now enabled in the post installed system.  I don?t know real that is, but ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f1983f6213499f500e008bb262b91280.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">michael.harp</div><div class="time">2018-11-29 21:27</div><div class="msg">Nice, thanks for trying that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a32f6de1fcd75ac01c0af08a3b45028.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">sramirez</div><div class="time">2018-11-29 21:48</div><div class="msg">Hi All, I'm having issues installing ubuntu 14 from the supplied bootenv</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a32f6de1fcd75ac01c0af08a3b45028.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">sramirez</div><div class="time">2018-11-29 21:49</div><div class="msg">I saw a while ago someone had an identical issue, and rolled back community contrib and content, but I can't seem to figure out how to roll back 'drp-community-content'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-29 21:55</div><div class="msg">@sramirez there's an switch option on the UX to show all content layers from the content management page.   You can also just transfer it again from library.  Be sure to pick the version you need.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a32f6de1fcd75ac01c0af08a3b45028.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">sramirez</div><div class="time">2018-11-29 22:03</div><div class="msg">Thanks @zehicle I don't seem to have the option to roll back the drp-community-content version from the UX. am I missing something?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-29 22:13</div><div class="msg">hmmm, you'll need to re-import it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-11-30 02:08</div><div class="msg">systemd-networkd, IPAM is Orion/Netbox</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-11-30 04:41</div><div class="msg">That one contact packet is special </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-30 11:26</div><div class="msg">so using that horrendous :slightly_smiling_face: `od` hack from above I got cumulus to at least attempt to boot from url</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-11-30 11:28</div><div class="msg">it fails however, because of `ZTP DHCP: URL Error &lt;urlopen error [Errno 101] Network is unreachable` which is weird because? how can it have gotten option 239 from dhcp with an IP and then not have network access? :thinking_face: Not an issue with DRP tho so further debugging required my side</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-30 14:19</div><div class="msg">okay - so if you update to tip drp @bagricola - you can do this instead, `string:<a href="http://192.168.100.10:8091/machines/join-up.sh">http://192.168.100.10:8091/machines/join-up.sh</a>`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-30 14:19</div><div class="msg">Also update tip content I add more fixes to the join-up.sh script.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-11-30 14:20</div><div class="msg">Make sure you used the proper ip in the od command.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 01:37</div><div class="msg">evening.. doing our first test with live systems on a real network. DRP is running inside docker so it sees itself with a 172 ip. Our dhcp is forwarded using dhcp helper. I was able to add the next server option so it does the tftp correctly.  But then it goes and tries to pull the ipxe template from the 172 ip.  Hoping this is a simple setting to tell the server ip.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 02:00</div><div class="msg">going to guess it's this `--static-ip=             IP address to advertise for the static HTTP file server (default: 192.168.124.11)`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 02:15</div><div class="msg">Yes and ??force-static-ip?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 02:59</div><div class="msg">does that work if dr-provision doesn't see the ip as one of the interfaces?  This container is essentially nat'd with all the ports exposed. Or is it expected to be bridged?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 02:59</div><div class="msg">yes - it is only for outbound messages</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:01</div><div class="msg">ok, then it should work. i'll do some digging on my side.. most likely an issue in how i'm kicking off the docker container</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:02</div><div class="msg">running dr-provision on the host works just fine, just the ip address of the static ip server being advertised (when in docker)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:02</div><div class="msg">You may have to expose ports or something like that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:02</div><div class="msg">Did you check the faq?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:03</div><div class="msg">I think we usually recommend a `--net host` container</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:04</div><div class="msg">Others may run it differently.  I know I could of others around here run as containers as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:05</div><div class="msg">I?m not sure what they are doing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:05</div><div class="msg">i'm seeing that here.  Mine is not running with host networking (just exposed ports), so I will try that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:05</div><div class="msg">`tftp` has always been a challenge because if its ancient back port scheme</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:07</div><div class="msg">sorry I may have lied to you;</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:08</div><div class="msg">here are the options</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:08</div><div class="msg">```
      --static-ip=              IP address to advertise for the static HTTP file server
      --force-static            Force the system to always use the static IP.
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:08</div><div class="msg">That is all you should need.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:08</div><div class="msg">If it was already working to the point in your screen shot, this should be all you need.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:11</div><div class="msg">cool.  right, it seems like essentially  ProvisionerUrl just needs to match</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:11</div><div class="msg">chain {{.ProvisionerURL}}/${netX/mac}.ipxe &amp;&amp; exit || goto chainip
:chainip
chain {{.ProvisionerURL}}/${netX/ip}.ipxe &amp;&amp; exit || goto sledgehammer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:11</div><div class="msg">yes - provisioner url is populated automagically based upon incoming interface.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:12</div><div class="msg">`--static-ip=x.y.z.a` is used as the fall through if DRP can?t figure out the interface the packet came in from.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:12</div><div class="msg">This is really raw or timing in our cache system.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:12</div><div class="msg">but it will be 100% wrong in a NATed docker container.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:12</div><div class="msg">the cache that is.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:13</div><div class="msg">so the `--force-static` says always use the `--static-ip=x.y.z.a` because you can?t tell.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:19</div><div class="msg">giving it a shot, waiting on reboot</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:21</div><div class="msg">hmm.. i saw a way to test render templates somewhere in the docs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-01 03:21</div><div class="msg">It's a command line option on the cli</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-01 03:21</div><div class="msg">You have to be in the right bootenv</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:22</div><div class="msg">for the default.ipxe, you can do: `curl http://&lt;drp ip&gt;:8091/default.ipxe`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-01 03:38</div><div class="msg">$faq</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-01 03:38</div><div class="msg">FAQs are here &gt; <a href="http://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html">http://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-01 03:38</div><div class="msg">It's in there, look for "render" templates </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:42</div><div class="msg">without --net host, i get the docker ip.  but it does seem to work with --net host

```
localhogenj@metal35-r01:/tmp/drp$ sudo docker run -d --volume=drprovison_data:/provision/drp-data:rw -p 8091:8091 digitalrebar/provision --static-ip=10.130.194.5 --force-static
be3fe3f7b501b96734b19755ab8ba4728430ce0acdca6ea9f39e053f2afdc769
localhogenj@metal35-r01:/tmp/drp$ curl <a href="http://localhost:8091/default.ipxe">http://localhost:8091/default.ipxe</a>
#!ipxe
chain <a href="http://172.17.0.7:8091/${netX/mac}.ipxe">http://172.17.0.7:8091/${netX/mac}.ipxe</a> &amp;&amp; exit || goto chainip
:chainip
chain <a href="http://172.17.0.7:8091/${netX/ip}.ipxe">http://172.17.0.7:8091/${netX/ip}.ipxe</a> &amp;&amp; exit || goto sledgehammer
:sledgehammer
chain <a href="http://172.17.0.7:8091/${builtin/buildarch}.ipxe">http://172.17.0.7:8091/${builtin/buildarch}.ipxe</a>
```

I get some interesting dynamics with `--net host`

```
localhogenj@metal35-r01:/tmp/drp$ sudo docker run -d --volume=drprovison_data:/provision/drp-data:rw --net host  digitalrebar/provision --static-ip=10.30.194.5 --force-static
35c4c2915e932d205cf447af704d628452f169ff846b25321ab33524aa6f11b3
localhogenj@metal35-r01:/tmp/drp$ curl <a href="http://10.30.194.5:8091/default.ipxe">http://10.30.194.5:8091/default.ipxe</a>
#!ipxe
chain <a href="http://10.30.194.5:8091/${netX/mac}.ipxe">http://10.30.194.5:8091/${netX/mac}.ipxe</a> &amp;&amp; exit || goto chainip
:chainip
chain <a href="http://10.30.194.5:8091/${netX/ip}.ipxe">http://10.30.194.5:8091/${netX/ip}.ipxe</a> &amp;&amp; exit || goto sledgehammer
:sledgehammer
chain <a href="http://10.30.194.5:8091/${builtin/buildarch}.ipxe">http://10.30.194.5:8091/${builtin/buildarch}.ipxe</a>
localhogenj@metal35-r01:/tmp/drp$ curl <a href="http://localhost:8091/default.ipxe">http://localhost:8091/default.ipxe</a>
#!ipxe
chain http://[::1]:8091/${netX/mac}.ipxe &amp;&amp; exit || goto chainip
:chainip
chain http://[::1]:8091/${netX/ip}.ipxe &amp;&amp; exit || goto sledgehammer
:sledgehammer
chain http://[::1]:8091/${builtin/buildarch}.ipxe
localhogenj@metal35-r01:/tmp/drp$ curl <a href="http://10.25.196.69:8091/default.ipxe">http://10.25.196.69:8091/default.ipxe</a>
#!ipxe
chain <a href="http://10.25.196.69:8091/${netX/mac}.ipxe">http://10.25.196.69:8091/${netX/mac}.ipxe</a> &amp;&amp; exit || goto chainip
:chainip
chain <a href="http://10.25.196.69:8091/${netX/ip}.ipxe">http://10.25.196.69:8091/${netX/ip}.ipxe</a> &amp;&amp; exit || goto sledgehammer
:sledgehammer
chain <a href="http://10.25.196.69:8091/${builtin/buildarch}.ipxe">http://10.25.196.69:8091/${builtin/buildarch}.ipxe</a>
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:44</div><div class="msg">do `ps auxwww | grep dr-provision`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:44</div><div class="msg">are the options actually making it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:44</div><div class="msg">What is the version of that container?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:45</div><div class="msg">doesn't look like it
```
localhogenj@metal35-r01:/tmp/drp$ ps auxwww | grep dr-provision
root     17280  0.3  0.0   4292   756 ?        Ss   03:44   0:00 /bin/sh -c dr-provision --base-root=/provision/drp-data --local-content= --default-content= --static-ip=10.30.194.5 --force-static
root     17314 19.7  0.0 122948 103612 ?       Sl   03:44   0:01 dr-provision --base-root=/provision/drp-data --local-content= --default-content=
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:47</div><div class="msg">hmmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:49</div><div class="msg">try this ,please: `sudo docker run --entrypoint=dr-provision digitalrebar/provision --version`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:49</div><div class="msg">I think</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:51</div><div class="msg">that works.
```
$ sudo docker run --entrypoint=dr-provision digitalrebar/provision --version
dr-provision2018/12/01 03:50:50.701841 Version: v3.11.0-tip-78-641cca862b5711f61009e77a40d586d67233bb30
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:51</div><div class="msg">hmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:51</div><div class="msg">without the `--entrypoint`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:52</div><div class="msg">hmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:52</div><div class="msg">nvm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:52</div><div class="msg">something is busted.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:52</div><div class="msg">in the container startup.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:52</div><div class="msg">not completely sure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:52</div><div class="msg">anyway, you can do this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:52</div><div class="msg">`sudo docker run --entrypoint=dr-provision digitalrebar/provision --base-root=/provision/drp-data --local-content= --default-content= --static-ip=10.30.194.5 --force-static`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:54</div><div class="msg">:+1:   that works</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:54</div><div class="msg">```
$ curl <a href="http://localhost:8091/default.ipxe">http://localhost:8091/default.ipxe</a>
#!ipxe
chain <a href="http://10.30.194.5:8091/${netX/mac}.ipxe">http://10.30.194.5:8091/${netX/mac}.ipxe</a> &amp;&amp; exit || goto chainip
:chainip
chain <tftp://10.30.194.5/${netX/ip}.ipxe> || exit
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 03:55</div><div class="msg">(well i have a shortened form without the base-root, but the static-ip bit works)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:57</div><div class="msg">Dockerfile ENTRYPOINT is doing something strange?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 03:57</div><div class="msg">to me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 04:02</div><div class="msg">I think I see what I need to do to ?fix? it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 04:03</div><div class="msg">thanks for the help. The option was correct, just getting it through docker was the problem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 04:04</div><div class="msg">Yeah - the Dockerfile we use to build the container needs another element to let additional options in without the entrypoint part.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 04:04</div><div class="msg">You should be able to do:
`sudo docker run digitalrebar/provision --version`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 04:04</div><div class="msg">and get the version.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 04:16</div><div class="msg">okay - much better - new container coming with fixes eventually - probably by mrning.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 04:40</div><div class="msg">@john - `docker pull digitalrebar/provision`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-01 04:41</div><div class="msg">the options will now pass in correctly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-01 04:44</div><div class="msg">Thanks Greg. I will check it out.</div></div></div><br/>
</div></body></html>