<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-01 08:26</div><div class="msg">virtualbox VM is not PXE booting from DRP (bootenv: sledgehammer). after tftp'ing lpxelinux.0. VM network logs (wireshark) show following error: 
477	0.378296662	10.10.20.76	10.10.31.96	TFTP	159	Error Code, Code: File not found, Message: open /var/lib/dr-provision/tftpboot/pxelinux.cfg/16089a59-9abd-48c2-850a-2ac3bc134935: no such file or directory</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-01 08:27</div><div class="msg">I see that there is no such file in dr-provision file area</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-01 08:27</div><div class="msg">what can be possible bug. I might have done something.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-01 08:27</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-01 13:19</div><div class="msg">That is expected behavior for lpxelinux.0. see <a href="http://www.syslinux.org/wiki/index.php?title=PXELINUX#Configuration">http://www.syslinux.org/wiki/index.php?title=PXELINUX#Configuration</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-01 14:52</div><div class="msg">Specifically, lpxelinux tries to fetch config files in a specific order.  The first one os the DHCP client ID, which we don't use because (for servers or anything else that network boots) the client ID is a much worse unique identifier than the MAC address of the interface or the IP address the interface was assigned.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-01 15:53</div><div class="msg">@wdennis - tip community content has a fix for ubuntu install.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-01 15:54</div><div class="msg">You can use the current content tip with stable drp.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-01 15:55</div><div class="msg">I also have PR in community content that moves all the partman options into the schema file.  I know this will break community and haven?t pulled it in.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-01 15:55</div><div class="msg">I also want to spend more time on it to reorg it a little more.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-01 16:28</div><div class="msg">Thx @greg</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-01 16:30</div><div class="msg">I do think consolidating all partman directives into a single template is the sanest option... But do recognize the need to get current users on board with that change.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-02 12:47</div><div class="msg">thanks !</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-02 17:07</div><div class="msg">@greg Confirming new partman preseed directives in `tip` community content work now...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-02 17:07</div><div class="msg">I got:
```
#Partitioning Scheme
d-i partman-auto/disk string /dev/sda
d-i grub-installer/choose_bootdev select /dev/sda
d-i grub-installer/bootdev string /dev/sda
d-i partman-auto/method string lvm
d-i partman-auto-lvm/guided_size string max
d-i partman-auto-lvm/new_vg_name string testnode01
d-i partman-auto/choose_recipe select atomic
d-i grub-installer/only_debian boolean true

d-i partman/confirm_write_new_label boolean true
d-i partman/choose_partition select finish
d-i partman/confirm boolean true
d-i partman/confirm_nooverwrite boolean true
```
and it successfully partitioned the drive.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-02 17:53</div><div class="msg">Refresh my memory - the string value of `select-kickseed` is the template name WITH or WITHOU the `.tmpl` at the end?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-02 17:53</div><div class="msg">with</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-02 17:54</div><div class="msg">Ah, that's why it didn't work :stuck_out_tongue_winking_eye:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-02 17:55</div><div class="msg">It's the part-scheme one that doesn't want the .tmpl</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2018-03-02 19:34</div><div class="msg">is it possible to have like a bootenv with some set templates and kernel parameters, but then also have several stages with an "extra" template and kernel parameter?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2018-03-02 19:35</div><div class="msg">and while I was typing that out, it just hit me that I guess this is a scenario I could also solve with a drpcli runner, hm...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2018-03-02 19:40</div><div class="msg">Is there a better way to get the bare DRP server IP or hostname other than parsing out `.Env.InstallUrl` or `.ProvisionerURL`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-02 19:43</div><div class="msg">@lae`.ProvisionerAddress` from <a href="http://provision.readthedocs.io/en/latest/doc/arch/provision.html#rendering-templates">http://provision.readthedocs.io/en/latest/doc/arch/provision.html#rendering-templates</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:23</div><div class="msg">FYI, something is wrong in either the upstream, or more likley the ubuntu repo pointers:
```
drpcli bootenvs uploadiso ubuntu-16.04-install
Error: Unable to initiate download of <a href="http://mirrors.kernel.org/ubuntu-releases/16.04/ubuntu-16.04.3-server-amd64.iso">http://mirrors.kernel.org/ubuntu-releases/16.04/ubuntu-16.04.3-server-amd64.iso</a>: 404 Not Found
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:23</div><div class="msg">this was from a new install against stable.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:24</div><div class="msg">@rstarmer checking it ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:24</div><div class="msg">we had an issue w/ CentOS yanking the 7.3 ISOs with zero warnings</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:25</div><div class="msg">seems .3 ISO is gone.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:25</div><div class="msg">also note ... if you have a copy of the ISO (Until we update the Contents) - you can install the ISO via the UX - go to the Boot ISOs menu item</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:26</div><div class="msg">or you can copy the ISO to your tftpboot/isos/ directory (either in ~/drp/drpdata, or the /var/lib/dr-provision directory)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:26</div><div class="msg">then restart DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:27</div><div class="msg">we'll put out an updated version of Contents shortly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:34</div><div class="msg">Ubuntu has the older ISOs here too for future reference:
<a href="http://old-releases.ubuntu.com/releases/xenial/ubuntu-16.04.3-server-amd64.iso">http://old-releases.ubuntu.com/releases/xenial/ubuntu-16.04.3-server-amd64.iso</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:34</div><div class="msg">yeah ... never mind using a symlink to point "latest" at the moving target ... sigh ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:35</div><div class="msg">Question, or docs pointer if possible:  The host I installed DR on has letsencrypt credentials, how do I tell DR who it actually is?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:36</div><div class="msg">did you do `isolated` or production install ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:36</div><div class="msg">production</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:50</div><div class="msg">also, can I pass a domain name rather than IP address to the config?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:53</div><div class="msg">@rstarmer there is a cert and key that gets installed (the self-signed).  It's either in `/` or in `/var/lib/dr-provision/` directories.  replace those with your certs and restart dr-provision</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:53</div><div class="msg">on the domain name - are you referring to `drpcli` commands ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:56</div><div class="msg">no, I was thinking about advertised address from the server, I?d rather it passes out the domain name than the IP.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:56</div><div class="msg">was wondering if I should have passed a name with --static-ip=</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:56</div><div class="msg">via the `--static-ip` flag ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:57</div><div class="msg">yeah, that?s what I was wondering :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:57</div><div class="msg">ah - you really don't need `static-ip` we do a bunch of magic with caching address tables and interface info - and we dynamically serve the correct IP to a client based on their network connection</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:58</div><div class="msg">the problem w/ using a hostname/domain - you have to make sure that resolves at the PXE firmware/boot level ... and any DNS issues will impact your provisioning activities</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:58</div><div class="msg">you can of course hand out DNS servers w/ the DHCP assignment ... nothing stopping you from doing that ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:58</div><div class="msg">ok, won?t worry there then.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 00:58</div><div class="msg">but you'll be circumventing our magic logic</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:59</div><div class="msg">so the key/cert are in /, this seems like a bad place to put these items. And in reality, I?d rather point to their locations in the letsencrypt directories (so that they stay up to date).  IS there a config parameter I can set somewhere?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 00:59</div><div class="msg">no desire to bypass the magic!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 01:00</div><div class="msg">```dr-provision --help
      --tls-key=               The TLS Key File (default: server.key)
      --tls-cert=              The TLS Cert File (default: server.crt)```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 01:00</div><div class="msg">k. will re-provision with those.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 01:01</div><div class="msg">you can specify the location ... that's just the default</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 01:23</div><div class="msg">so that doesn?t seem to be working. when I restart dr-provision it regenerates new self signed keys.  Note I?m passing in .pem formatted key/cert, but I also don?t see any errors in trying to read them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 01:24</div><div class="msg">@rstarmer I'm not sure if we accept a PEM format ... will have to check w/ @greg and/or @vlowther on that one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 01:24</div><div class="msg">Ok, I?m seeing the following:
```
curl -fsSL get.rebar.digital/stable | bash -s -- --tls-key=/etc/letsencrypt/live/gitlab.kumulus.co/privkey.pem --tls-cert=/etc/letsencrypt/live/gitlab.kumulus.co/cert.pem install
Overriding TLS_KEY with /etc/letsencrypt/live/gitlab.kumulus.co/privkey.pem
Overriding TLS_CERT with /etc/letsencrypt/live/gitlab.kumulus.co/cert.pem
'dr-provision' service is not running, beginning install process ...
Ensuring required tools are installed
Installing Version stable of Digital Rebar Provision
...
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 01:28</div><div class="msg">started manually, passed the tls params, and that works.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 01:28</div><div class="msg">going to restart the service and see if it takes this time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 01:28</div><div class="msg">You have to add to the service file</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 01:29</div><div class="msg">ah</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 01:29</div><div class="msg">^which - where?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 01:29</div><div class="msg">yeah - in `/etc/systemd/system/dr-provision.service` - assuming SystemD</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 01:29</div><div class="msg">The install.sh script doesn?t do anything.  We need a plan for that </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 01:30</div><div class="msg">@rstarmer the content update w/ the 16.04.4 fix will be out later this evening the PR just needs to go through approval and release process now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 01:30</div><div class="msg"><a href="https://github.com/digitalrebar/provision-content/pull/65">https://github.com/digitalrebar/provision-content/pull/65</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 01:35</div><div class="msg">ok, trying that now. I?ll let you know if/as I succeed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 01:37</div><div class="msg">Yes, success, I had to update the /etc/systemd/system/dr-provision.service file:
```
[Service]
ExecStart=/usr/local/bin/dr-provision --tls-key=/etc/letsencrypt/live/gitlab.kumulus.co/privkey.pem --tls-cert=/etc/letsencrypt/live/gitlab.kumulus.co/cert.pem
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 01:39</div><div class="msg">yay !</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 01:54</div><div class="msg">now I?m stuck, the UI just spins on loading plugins</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 01:55</div><div class="msg">shift-reload</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 02:41</div><div class="msg">helps a lot if I read the error message.  gotta go find my glasses?  (e.g. you must install providers before installing plugins?)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 06:29</div><div class="msg">interesting behavior with the terraform plugin, only the first node gets provisioned, and the system state doesn?t seem to get updated completely, leaving the one provisioned node in ?power off? state, thought it is running in packet.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/be3621055d2d1d7c385f11918c11bab2.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">rstarmer</div><div class="time">2018-03-03 06:33</div><div class="msg">thoughts on how I might debug this?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 12:15</div><div class="msg">I have an Ansible role I wrote to setup dr-provision on alpine/debian/centos? just updated it to install 3.7.0, but post setup steps seem to be failing (setup a new admin user, drop the rocketskates user, setup all the preferences and profiles and setup the boot environments). Seems to be auth related? Did something change from 3.6.0? The UI seems to work fine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-03 14:28</div><div class="msg">can you share the script?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/75de6e3443bee37ff25094a1b18d2b24.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">ced.hnyda</div><div class="time">2018-03-03 17:26</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2018-03-03 17:32</div><div class="msg">hello @ced.hnyda $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-03 17:32</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 17:52</div><div class="msg">Sure? it fails in this section. <a href="https://github.com/stanchan/ansible-role-dr-provision/blob/master/tasks/setup.yml">https://github.com/stanchan/ansible-role-dr-provision/blob/master/tasks/setup.yml</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 17:53</div><div class="msg">I flipped it back to v3.6.0 and everything works? seems to be related to the new token auth system that is in place.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 19:14</div><div class="msg">@stanchan740 - I?ll check but first pass is that the drp options changed </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 20:45</div><div class="msg">Thanks for the tip? I?ll try looking at the options, but I believe I took all the defaults from dr-provision --help</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 20:48</div><div class="msg">actually, that isn?t it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 20:48</div><div class="msg">Sigh.  I?m working on it now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 20:48</div><div class="msg">I hope to have a PR for you shortly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 20:53</div><div class="msg">no rush?. thanks for the help greg!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:03</div><div class="msg">are there API docs somewhere for dr-provision? if I wanted to create a custom frontend for it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:03</div><div class="msg">yes, but that is that drpcli is.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:04</div><div class="msg">$docs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:04</div><div class="msg">$faq</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:04</div><div class="msg">$faq</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-03 21:04</div><div class="msg">FAQs are here &gt; <a href="http://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html">http://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:04</div><div class="msg">That should be close.  The nav should have API or something like that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:05</div><div class="msg">swagger?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:06</div><div class="msg">dang it.  Something broke</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:06</div><div class="msg">something else to look at.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:06</div><div class="msg">you can hit the endpoint with /swagger-ui</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:06</div><div class="msg">it will have a graphical UI</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:06</div><div class="msg">found it in the docs :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:06</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:07</div><div class="msg">This page is best: <a href="http://provision.readthedocs.io/en/tip/doc/api.html">http://provision.readthedocs.io/en/tip/doc/api.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:07</div><div class="msg">yah? I just noticed that the v3.7.0 was just released not too long ago :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 21:09</div><div class="msg">@stanchan the `drpcli` usage is a very very good tutor for the API - the CLI is dynamically generated from the API - so the resources closely follow the API resources ... that coupled with the Swagger-UI should give you the complete picture ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:12</div><div class="msg">thanks @shane</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 21:13</div><div class="msg">and ... v3.7.2 will be released shorty fixing a few minor issues</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:13</div><div class="msg">already out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 21:13</div><div class="msg">dang @greg - you's too fast !!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:15</div><div class="msg">how is logging handle? is there existing support for a prometheus endpoint? wanted to do something like opentracing against provisioning jobs and display it in something like jaeger or zipkin? just openly thinking :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:16</div><div class="msg">umm - well - umm . that sounds cool.  We don?t do that.  You can grab events from a websocket stream.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:16</div><div class="msg">or we can work with you on a plugin to push data as appropriate.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:17</div><div class="msg">plugin to push to prometheus sounds plausible.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:18</div><div class="msg">:thumbsup: would be interested on working on something like that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:18</div><div class="msg">What would ?a prometheus endpoint? need?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:18</div><div class="msg">I haven?t looked at any of it.  We can off-line it as well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:19</div><div class="msg">that part is easy to implement? opentracing would be the interesting part</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 21:19</div><div class="msg">Plugin is definitely the best way, IMO ... but we also support Websocket events - so you can register for specific events via that standard method, details:
<a href="http://provision.readthedocs.io/en/tip/doc/integrations/websocket.html#rs-websocket">http://provision.readthedocs.io/en/tip/doc/integrations/websocket.html#rs-websocket</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:21</div><div class="msg">is 3.7.2 just release? it says 7 hours ago</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:21</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-03 21:22</div><div class="msg">here's a websocket listener that can log out to prometheus
<a href="https://github.com/closeio/socketshark">https://github.com/closeio/socketshark</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:26</div><div class="msg">prometheus is more for internal service metrics? distributed tracing is used for end to end transactions. all cncf projects.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:32</div><div class="msg">still returns an error</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:33</div><div class="msg">```
2018/03/03 13:31:16 &amp;{403 Forbidden 403 HTTP/1.1 1 1 map[Date:[Sat, 03 Mar 2018 21:31:16 GMT] Content-Length:[0] Content-Type:[text/plain; charset=utf-8]] {} 0 [] false false map[] 0xc4201b6800 0xc4200a6370}
````</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:33</div><div class="msg">I?ll revert back to v3.6.0 for now for testing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:33</div><div class="msg">Your playbook needs a little tweaking.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:34</div><div class="msg">is this valid?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:34</div><div class="msg">The problem is the password setting section of the playbook</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:34</div><div class="msg">`RS_KEY=\"admin:password\""`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:34</div><div class="msg">I?m fixing other things too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:34</div><div class="msg">HMM - should be, but I?m not getting the admin password set.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:34</div><div class="msg">or should I switch to tokens</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:35</div><div class="msg">You can, but I?m almost there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:35</div><div class="msg">not sure why ```drpcli -U {{ provision_admin_user }} -P \"{{ provision_admin_password }}\" prefs list &gt;/dev/null 2&gt;&amp;1 &amp;&amp; exit 0 || drpcli users password {{ provision_admin_user }} \"{{ provision_admin_password }}\" &amp;&amp; exit 99```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:35</div><div class="msg">is not working correctly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:35</div><div class="msg">oh? that part isn?t fixed yet :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:35</div><div class="msg">sorry</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:36</div><div class="msg">where are you getting the maperror thing?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:36</div><div class="msg">just running `drpcli users list`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:37</div><div class="msg">okay - well if admin?s password isn?t set then it will have problems if you set RS_KEY=admin:password</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:37</div><div class="msg">don?t need the extra quotes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:37</div><div class="msg">ah</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:37</div><div class="msg">see the issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:37</div><div class="msg">`export RS_KEY="admin:password"`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 21:37</div><div class="msg">it never changed the password :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:37</div><div class="msg">right!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:55</div><div class="msg">I feel some more unit tests and a v3.7.3 coming on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 21:56</div><div class="msg">Can?t set user passwords for some reason.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 22:16</div><div class="msg">yah? I see the same issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 22:16</div><div class="msg">it responds back like it did something</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 22:17</div><div class="msg">yeah - in 3.7.0, to fix all the deadlocks in 3.6.0, we introduced system to prevent that.  The password save is a special pass that we didn?t undo all the testing for.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-03 22:41</div><div class="msg">I?ll use the default password for now? I tried using the API to change the password without any luck</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-03 22:41</div><div class="msg">yeah - the cli and the API use the same backend path.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-04 03:22</div><div class="msg">@stanchan740 - I fixed the user bug and cut a v3.7.3 release.  I have a pull request against your tree that does quite a few changes and fixes.  It seems to work for me.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-04 03:44</div><div class="msg">@greg Thanks! Looks good. Will merge. I added a few things for idempotence in my working branch. Decided to call the dr-provision API directly for that since it seems to be much more predictable.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-04 03:49</div><div class="msg">Really enjoy using dr-provision? much better and easier to use then cobbler! It just seems to work without much fiddling around. Will be working on an awx integration to do a tensorflow on top of kubernetes demo. Looking forward to digging into the code a bit more, too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-04 03:49</div><div class="msg">cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-04 04:28</div><div class="msg">@stanchan740 I looked at API integration w/ Tower (AWX) earlier.   It would be a natural plugin to push machine updates into the AWX including when machines are online or not.  Something to talk about 1x1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2018-03-04 19:54</div><div class="msg">@stanchan I'm only skimming through chat but 3.7.0 deployed fine for me with the following:
```
- name: Configure DR Provision API user
  shell: "drpcli users create {{ provision_api_user }}"
  args:
    creates: "/var/lib/dr-provision/digitalrebar/users/{{ provision_api_user }}.json"

- name: Update DR Provision API password
  shell: "drpcli -U {{ provision_api_user }} -P \"{{ provision_api_password }}\" prefs list &gt;/dev/null 2&gt;&amp;1 &amp;&amp; exit 0 || drpcli users password {{ provision_api_user }} \"{{ provision_api_password }}\" &amp;&amp; exit 114"
  register: provision_password_update
  changed_when: provision_password_update.rc == 114
  failed_when: provision_password_update.rc != 114 and provision_password_update.rc != 0

- name: Update shell environment with DR Provision API credentials
  copy:
    content: "#!/bin/bash\nexport RS_KEY=\"{{ provision_api_user }}:{{ provision_api_password }}\""
    dest: "/etc/profile.d/dr-provision.sh"
    mode: 0755

- name: Remove default rocketskates user if different api_user is set
  shell: "drpcli users destroy rocketskates"
  args:
    removes: "/var/lib/dr-provision/digitalrebar/users/rocketskates.json"
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2018-03-04 19:54</div><div class="msg">well 3.7.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2018-03-04 19:56</div><div class="msg">(hadn't modified that since 3.2.0 or whatever was out last august)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-04 20:17</div><div class="msg">@lae I think that would only work if you already the admin user created and password set.  A fresh install wouldn?t work. Until 3.7.3</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-04 20:41</div><div class="msg">yah? I usually create a new instance everytime I test a change</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0192050f753ff0a65abebe0f04e33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">rakeshrhcss</div><div class="time">2018-03-05 12:17</div><div class="msg">Hello all I am trying to install Centos 7  on one of our servers using our drp community content..
*It starts automated install but asks to create 1MB biosboot partition -&gt;

*Your BIOS-based system needs a special partition to boot from a GPT disk label. To continue, please create a 1MiB 'biosboot' type partition.*</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0192050f753ff0a65abebe0f04e33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">rakeshrhcss</div><div class="time">2018-03-05 12:18</div><div class="msg">so looks like we will have to modify our centos7 KS template to create biosboot partition
part biosboot --fstype biosboot --size=1 {{if .ParamExists "operating-system-disk"}}--ondisk={{.Param "operating-system-disk"}}{{end}}</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0192050f753ff0a65abebe0f04e33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">rakeshrhcss</div><div class="time">2018-03-05 12:18</div><div class="msg">Any suggestions please.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0192050f753ff0a65abebe0f04e33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">rakeshrhcss</div><div class="time">2018-03-05 12:24</div><div class="msg">And after some research I found that when exactly the biosboot partition is required -
 did the system boot in EFI mode or BIOS mode?
  - EFI
    - use gpt and never make biosboot
  - BIOS
    - is the disk larger than the max for msdos (2TB)?
      - yes
        - use gpt and ensure there's a biosboot partition
      - no
        - use msdos</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0192050f753ff0a65abebe0f04e33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">rakeshrhcss</div><div class="time">2018-03-05 12:25</div><div class="msg">So in our preinstall script (ks) we should be looking for the EFI capabilities and the disk size.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0192050f753ff0a65abebe0f04e33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">rakeshrhcss</div><div class="time">2018-03-05 12:26</div><div class="msg">Please let me know your suggestions on this. Thanks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 14:08</div><div class="msg">@rakeshrhcss - I?m guessing your system has disks that are greater than 2TB in size.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 14:09</div><div class="msg">My guess is for the time being, you will need to create a custom install bootenv with your own partitioning layout.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 14:10</div><div class="msg">until someone can get to looking into templatizing the Centos installer to take custom partition sections.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-05 16:48</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F9JNGVBH8/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F9JNGVBH8/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-05 17:02</div><div class="msg">@zehicle There are multiple ways to do handle inventory with awx. Ansible 2.5, which should hit rc soon, has a few changes to how inventory can be handled in awx as well. Going to have to experiment with a few implementations. The drp dynamic inventory script works fine as an inventory provider in awx, but pushing the inventory updates to awx might be a better option.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-05 17:10</div><div class="msg">some progress to show off... Immutable Image Deploys!  <a href="https://youtu.be/tDcEzirTLbo">https://youtu.be/tDcEzirTLbo</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2d274b96ea1d5c2a235db48dea6403b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">romain.lafontaine</div><div class="time">2018-03-05 17:55</div><div class="msg">@zehicle You made my day</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-05 18:53</div><div class="msg">when an iso is uploaded and it shows up in the isos list, it means it?s completely uploaded? is it a blocking state?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2d274b96ea1d5c2a235db48dea6403b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">romain.lafontaine</div><div class="time">2018-03-05 20:06</div><div class="msg">@zehicle May I ask more info about the packer-to-drp flow ? Like which output format is used on packer side, how it's digested on DRP side ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-05 20:07</div><div class="msg">yes!  1) Raw Format 2) you have choices, right now, it's in the ISOs area</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:11</div><div class="msg">@stanchan740 - if you use the drpcli command, it returns upon completion.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-05 20:11</div><div class="msg">just noticed that it?s blocking call :slightly_smiling_face: thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:12</div><div class="msg">With regard to polling from a different thread, then it will show up as `.&lt;filename&gt;.part` in the iso directory while it is uploading and upon completion it gets converted to `filename`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-05 20:15</div><div class="msg">for some reason, it downloads it everytime? but it should skip if it already uploaded?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-05 20:15</div><div class="msg">```
	for _, iso := range isos {
		if iso == env.OS.IsoFile {
			return nil
		}
	}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:16</div><div class="msg">no.  It assumes that you are replacing updating.  We could probably make it smarter, but ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:16</div><div class="msg">Let me check to be sure though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-05 20:17</div><div class="msg">yah? I might just add a check for it in the isos directory</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:17</div><div class="msg">Actually, that would be a pretty good enhancement.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:17</div><div class="msg">If the bootenv is already available, we don?t need to upload the iso for that bootenv.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:17</div><div class="msg">it would then skip it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:18</div><div class="msg">yeah - I think that makes sense and would make things simpler for the installer.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-05 20:20</div><div class="msg">the blobstore is currently just a wrapper around the filesystem? replaceable with S3 or minio in the future I assume?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:24</div><div class="msg">Yes to the filesystem piece.  In general, our philosophy is more to let you reference your files where you want.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:25</div><div class="msg">You can build a bootenv that references or use the repos params to define the external location of the iso repos.  The same with kernels and initrds.  we owe some more docs and examples on this, but the point is that through the repos params, you can reference separate off DRP locations for just about everything.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-05 20:26</div><div class="msg">You could use NFS today if you wanted to maintain the DRP managed location aspect.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bfbe6d725805f234c9ff0a917c600fd9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0005-72.png" /><div class="message"><div class="username">stanchan740</div><div class="time">2018-03-05 20:27</div><div class="msg">cool? that makes since</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-27/322781094678_8e0a459fa873f3b430da_72.jpg" /><div class="message"><div class="username">clint</div><div class="time">2018-03-05 21:58</div><div class="msg">Really exciting stuff!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0192050f753ff0a65abebe0f04e33d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">rakeshrhcss</div><div class="time">2018-03-06 05:00</div><div class="msg">thanks @greg</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 14:26</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 14:32</div><div class="msg">Hi all, I'm a complete noob with this lot! I'm wondering if anyone can point me in the direction of setting up Rebar to PXE boot Rock64s. I am trying to boot ayufan linux builds... Thanks in advance!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2018-03-06 14:37</div><div class="msg">hello @rackn.slack $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-06 14:37</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 14:40</div><div class="msg">I have a Rebar server set up and running. I am building Self Hosted Kubernetes clusters with it. It is awesome!!!! I am going to provide the modified krib template when I have it thoroughly tested. I have a 20xRock64 cluster that I'm now looking at installing it onto!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2018-03-06 14:45</div><div class="msg">Sounds great - the Engineering folks are driving in to work right now and will be online shortly to provide a response</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 14:45</div><div class="msg">@rackn.slack - welcome - is this what you're referring to?  
<a href="http://wiki.pine64.org/index.php/ROCK64_Main_Page">http://wiki.pine64.org/index.php/ROCK64_Main_Page</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 14:46</div><div class="msg">...yes that's the fellow! I have 20 of them in a box! 4Gb memory makes it all possible!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 14:49</div><div class="msg">Are you planning to run Digital Rebar Provision (DRP) on one of these, too - or are you just planning to install to them ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 14:49</div><div class="msg">...I thought of that but you need 6Gb minimum!?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 14:49</div><div class="msg">nah - I run DRP on 768 MB VMs regularly ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 14:51</div><div class="msg">it's possible the old Digital Rebar ver2 had a 6GB memory footprint requirement, but the current DRP ver3 does NOT</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 14:51</div><div class="msg">...I think I tried it tentatively but stopped when I got a message saying min 6Gb. I *may* have a project that could use that though...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 14:52</div><div class="msg">my first issue is installing ayufans linux on them over PXE. Once I get that cracked I'm in business!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 14:53</div><div class="msg">we do build DRP (ver3) for ARM64 architecture, but it does not receive heavy testing - in general - we're a single Golang binary (only 30 MB in size), with very very few external dependencies (currently only 7zip, bsdtar, and unzip)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 14:54</div><div class="msg">we do not have any patterns for you on PXE booting ARM64 architecture, we are certainly available to help here on the #community channel as questions or issues arise ... but right now, we haven't been PXE booting ARM64 hardware</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 14:55</div><div class="msg">Ok, thanks. I'll keep on looking.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 14:56</div><div class="msg">we def. should be able to PXE boot ARM64, just not a lot of patterns for  you to follow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 14:58</div><div class="msg"><!here> hi there! Do you guys can explain to me why after some time on sledgehammer-wait stage I am loosing the connectivity to my servers ? They seems to lose their IP even though the DHCP lease is still valid. I tried to renew it using the dhclient ethx command, they get their IP back but still impossible to ping... The only solution I have found so far is to reboot the server...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 14:59</div><div class="msg">...I have not been able to find any! I've got as far as the DHCP server returning 'a' filename for the Vendor Class, I just don't know what it should be, or where to get it!!!!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:00</div><div class="msg">post your details here - we have some guys that are really good with hardware - may be able to sort out what needs to be served for ARM64</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:02</div><div class="msg">@florent.wagener - are the machines in Sledgehammer when they lose their lease, or in a provisioned OS instance ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:02</div><div class="msg">@shane they are on sledgehammer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 15:03</div><div class="msg">What I have so far is the rom loaded with ayufan's u-boot loader. This, in theory, allows the Rock64 to PXE boot. I have a MS$ DHCP server configured to send 'a' boot file name when the Vendor Class = 'U-Boot.armv8'.... but that's as far as I have got.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:04</div><div class="msg">there are a couple of things that may be at play:
* increase the Preferences setting for DHCP Lease time
* `dhclient` may not be running persistently inside the sledgehammer image (I'll hav to check this)
* we use Tokens to authenticate the Machine to DRP - those Tokens have a timeout as well (but theoretically, that shouldn't effect the DHCP lease)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:05</div><div class="msg">I'll try to extend the active lease time/reservation lease time and see if there is a difference :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:06</div><div class="msg">looking at my sledgehammer, it's not running `dhclient` so it's probably a single `dhclient` lease request, which would explain the issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:06</div><div class="msg">nothing is trying to renew the lease</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:08</div><div class="msg">extending the Lease on the DRP side will work as long as you make it really long - but this isn't necessarily the best solution - looking in to it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:08</div><div class="msg">thanks !</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:10</div><div class="msg">on a recently rebooted machines (less than 30min) I can see the dhclient is running:
```&lt;sledgehammer&gt; [root@E16968917902274 ~]# ps aux | grep dhclient
root      3238  0.0  0.0 113372 13140 ?        Ss   15:04   0:00 dhclient eth0```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:12</div><div class="msg">on a non recently rebboted machine the dhclient isn't running:
```&lt;sledgehammer&gt; [root@localhost ~]# ps aux | grep dhclient
root      6865  0.0  0.0 112660   972 tty1    R+   16:22   0:00 grep --color=auto dhclient```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 15:12</div><div class="msg">Is drpcli still running? </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 15:13</div><div class="msg">Dhcliebt may exit when drpcli exits out of the sledgehammer service </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:13</div><div class="msg">no it isn't</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:14</div><div class="msg">on the other machine, it is:
```&lt;sledgehammer&gt; [root@E16968917902274 ~]# ps aux | grep drpcli
root      3342  0.1  0.0 731576 17120 ?        Sl   15:04   0:00 drpcli machines processjobs f8466cb9-acba-43a5-b0e8-1bcc5954b86e
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:14</div><div class="msg">that's weird because I have no job running on any machine at the time though...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:15</div><div class="msg">`f8466cb9-acba-43a5-b0e8-1bcc5954b86e` is the UUID of the last job that was executed 10min ago</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:17</div><div class="msg">`drpcli` may continue to run, depending on your stage actions when the last stage runs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:18</div><div class="msg">interesting when I try to run a drpcli command on the machine without IP, I got this error:
```Error creating sessions: CLIENT_ERROR: Get <a href="https://127.0.0.1:8092/api/v3/users/rocketskates/token">https://127.0.0.1:8092/api/v3/users/rocketskates/token</a>: dial tcp 127.0.0.1:8092: getsockopt: connection refused```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:18</div><div class="msg">the IP is wrong here...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:18</div><div class="msg">if the machine has no IP - then it can't reach back out to the DRP endpoint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:18</div><div class="msg">we provide the DRP Endpoint IP addr to the `drpcli` dynamically (if `--static-ip` is not set on the DRP side)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:19</div><div class="msg">Got it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:19</div><div class="msg">makes sense :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:19</div><div class="msg">So - the lesson is ... Sledgehammer brings up `dhclient` - and if the Runner (`drpcli`) isn't running, then the DHCP Lease times out ... there is also the Token expiry that the Runner (`drpcli`) is operating with, which can also time out</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:19</div><div class="msg">these things need to be managed for long living Sledgehammer runs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:20</div><div class="msg">most of the use case patterns with Sledehammer are quick use - and move in to installed OS ... but in the case of "ready state" infrastructure - we need to harden Sledgehammer to be longer lived with it's management of Runner token and (subsequently) DHCP client lease renewal</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:20</div><div class="msg">Yep :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 15:21</div><div class="msg">some of the can be effected with the Preferences settings by simply extending the times to really long lease lengths</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 15:21</div><div class="msg">@rackn.slack What type of firmware and network booting situation does those rock64 boards have?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:21</div><div class="msg">Anyway this is not a big issue for our testing purposes, but it could be in production as we might need to have a "ready state" for our servers.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:22</div><div class="msg">Im gonna try to extend the lease to see if that changes anything</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 15:22</div><div class="msg">@florent.wagener I think it is some legacy code left over from some DHCP shennanigans we had to pull for DRv2.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 15:23</div><div class="msg">If so, unwinding that behaviour should be a simple thing to do.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 15:25</div><div class="msg">@vlowther cool! Waiting for the fix then :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 15:35</div><div class="msg">@vlowther ...they have nothing installed by default. You flash them with <a href="https://github.com/ayufan-rock64/linux-build/releases/download/0.6.25/u-boot-flash-spi-rock64.img.xz">https://github.com/ayufan-rock64/linux-build/releases/download/0.6.25/u-boot-flash-spi-rock64.img.xz</a> to get network booting going. This all seems to work nicely.... i.e. I see the required BOOTP messages using WireShark.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 15:42</div><div class="msg">@rackn.slack - if you are using DRP as the dhcp server, it would be really useful for use to see a debug trace of the DHCP packet stream.  This can be done by turning the DHCP Debug up to debug and catching the output of DRP.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 16:01</div><div class="msg">FYI - seeing this on my Ubuntu 16.04 installs - just hangs here on this screen for a while near the end of the install...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 16:02</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F9JN6UBG8/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F9JN6UBG8/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 16:03</div><div class="msg">Ctl-Alt-F4 to see console messages</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-06 16:03</div><div class="msg">it's hanging in the preseed somewhere - should be a clue on screen 4</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 16:04</div><div class="msg">@greg...I'm not using the DRP as the DHCP server in this case. I have to use MS$. I am using WireShark however. What filter would you like on that? How do I get the reslting file to you?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 16:04</div><div class="msg">just dhcp messages. @rackn.slack</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 16:04</div><div class="msg">There is a bigger issue.   We don?t have an arm-based sledgehammer yet.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 16:05</div><div class="msg">...that will slow things down!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 16:05</div><div class="msg">@shane Interesting- Ctrl/Alt/F4 not working to bring up terminal...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 16:05</div><div class="msg">sometimes try ALT-F4</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/efacbe6aebb1df9e71fcd0510a988fb0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">rackn.slack</div><div class="time">2018-03-06 16:06</div><div class="msg">@greg is that something that is currently being worked on in V3?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 16:06</div><div class="msg">Ok @greg that worked</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 16:07</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F9KFPQ2PP/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F9KFPQ2PP/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 16:09</div><div class="msg">(Sorry for the screen reflection...) looks like it?s hauling down net-post-install.sh &amp; running it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 16:11</div><div class="msg">It has been a lower priority.  We don?t have one today.  @rackn.slack We don?t have hardware to play with it and we haven?t had customer interest to drive it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 16:12</div><div class="msg">@rackn.slack It is sorta driven by customer demand and/or comunity involvement.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 16:12</div><div class="msg">and ww mostly want to target ARM64 stuff that is running a UEFI firmware</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 16:13</div><div class="msg">rather than other, less well documented network boot protocols.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 17:35</div><div class="msg">We are working on a new job runner that may affect existing workloads, so I am looking for feedback on the design and implementation before we replace the current implementation with it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 17:37</div><div class="msg"><a href="https://github.com/digitalrebar/provision/blob/add-auto-reconnection-and-make-an-FSM-machine-agent/api/agent.go">https://github.com/digitalrebar/provision/blob/add-auto-reconnection-and-make-an-FSM-machine-agent/api/agent.go</a> &lt;-- the code for the new job runner.  @wdennis and other interested parties should take a look at the comments in that code and give me feedback as to how it will affect your current workflows.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 17:41</div><div class="msg">@vlowther What are motivations for change? (simplification?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 17:41</div><div class="msg">Easier maintenance and simplification.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 17:42</div><div class="msg">To not have to remember the dang STOP all the time.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 17:42</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 17:43</div><div class="msg">With this runner will do what I consider to be the Right Thing by waiting by default when there is nothing to do, rebooting whenever the bootenvs change (unless it shoudl exit instead to let an OS install finish)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 17:44</div><div class="msg">I do not believe it will affect anything I?m currently doing; I only have a simple workflow (not default, which in my implementation is empty, but tied to a custom profile) and the KRIB one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 17:47</div><div class="msg">This is my custom profile workflow:
```
"change-stage/map": {
      "discover": "prep-install:Success",
      "prep-install": "ubuntu-16.04-install:Reboot",
      "ubuntu-16.04-install": "complete-nowait:Success"
    }
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 17:49</div><div class="msg">And my KRIB one:
```
"change-stage/map": {
      "docker-install": "krib-install:Success",
      "finish-install": "docker-install:Success",
      "krib-install": "complete:Success",
      "runner-service": "finish-install:Stop",
      "ssh-access": "runner-service:Success",
      "ubuntu-16.04-install": "ssh-access:Success"
    }
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 17:52</div><div class="msg">Thank you, @wdennis - you answered a question for me.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-06 19:04</div><div class="msg">@florent.wagener <a href="https://github.com/digitalrebar/provision-content/pull/68">https://github.com/digitalrebar/provision-content/pull/68</a> &lt;-- should be in tip soonish.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-06 19:04</div><div class="msg">@vlowther w00t !</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 20:58</div><div class="msg">So @greg is the ?curtin? thing something you guys invented?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:06</div><div class="msg">No.  It is a tool in ubuntu/maas.  MaaS wraps a lot of crap around it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:06</div><div class="msg">We drive it for now.  It was quick and expedient.  I want to eventually replace it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:07</div><div class="msg">I?ve been looking at ignition from CoreOs ne Redhat, but it has issues too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:07</div><div class="msg">I?ve tinkered with changing ignition and have some stuff lying around to switch to it, but it has more work to do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:08</div><div class="msg">I like ignition better because it is go-based and easier to work with but it doesn?t have the pieces to handle setting up bootloaders like curtin does.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:08</div><div class="msg">Anyway, it is the way it is for right now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:08</div><div class="msg">@wdennis</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 21:09</div><div class="msg">The idea is very cool, congrats on shipping something :+1::skin-tone-2:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 21:12</div><div class="msg">In other news, all my Ubuntu installs (which are the only kind I do ;) are hanging on the net-post-install.sh phase...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 21:12</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F9KFKGWAF/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F9KFKGWAF/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:12</div><div class="msg">yeah _ I saw.  I tried it and it passed for me.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 21:13</div><div class="msg">This wasn?t happening to me pre-3.7</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:13</div><div class="msg">hmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:13</div><div class="msg">can you `alt-f2`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:13</div><div class="msg">ps -ef | grep drpcli</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 21:13</div><div class="msg">?Works on my machine? ;)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:14</div><div class="msg">Trying to think about changes that could change your path.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:14</div><div class="msg">From this work flow:  ```"change-stage/map": {
      "discover": "prep-install:Success",
      "prep-install": "ubuntu-16.04-install:Reboot",
      "ubuntu-16.04-install": "complete-nowait:Success"
    }```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 21:15</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F9LE1675L/image_uploaded_from_ios.jpg">https://rackn.slack.com/files/U416T0AAX/F9LE1675L/image_uploaded_from_ios.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:15</div><div class="msg">I prefer to do `complete-nowait:Stop`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:15</div><div class="msg">We thought what you have show have worked, but we might have been sneaky and changed something.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 21:16</div><div class="msg">I?ll change it as you prefer, and see what I get</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:20</div><div class="msg">@wdennis - what version are you running?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:27</div><div class="msg">Did your machine make it to complete-nowait while it was hung?  in the UX.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:29</div><div class="msg">I think I see the change that might have changed the behavior.  STOP should fix it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:30</div><div class="msg">@vlowther?s new stuff will also fix the problem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-06 21:31</div><div class="msg">The new stuff will fix it in two ways.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 21:40</div><div class="msg">@greg Yes, it shows as `complete-nowait` in the UX</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 21:41</div><div class="msg">I just reboot the nodes, and they're fine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-06 21:42</div><div class="msg">Also, running v3.7.1 right now - I'll upgrade soon(tm)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:28</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:31</div><div class="msg">When does the /var/lib/dr-provision/tftpboot/machines/$UUID folder get created and the kickstart file stuck in it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:31</div><div class="msg">@killsudo $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-07 04:31</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:32</div><div class="msg">Kickstarts and all templated files are never rendered to disk - they're rendered on the fly by DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:32</div><div class="msg">and served from the in-memory virtual filesystem</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:32</div><div class="msg">I've got my DR-Provision setup and working with some test vm's. I can get an ip via dhcp from rebar and see it load ipxe then sledgehammer</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:33</div><div class="msg">but after the machine is registred and I change it's bootenv to centos7 and set the ks template to 	centos-7.ks.tmpl and reboot the test vm centos7 never installs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:33</div><div class="msg">@shane uploaded a file: <a href="https://rackn.slack.com/files/U6QFVRJNB/F9KNPLMTN/view_kickstart_or_preseed.m">https://rackn.slack.com/files/U6QFVRJNB/F9KNPLMTN/view_kickstart_or_preseed.m</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:34</div><div class="msg">are you familiar with the `drpcli` command ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:34</div><div class="msg">interesting.. this very much like VMwares AutoDeploy for vCenter for automating ESXi</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:35</div><div class="msg">yea i've been playing drpcli and getting comfortable with it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:35</div><div class="msg">(except MUCH MUCH better ....) :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:35</div><div class="msg">My end goal is to wrap up the drp API for StackStorm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:35</div><div class="msg">can you  please provide `drpcli prefs list` output</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:36</div><div class="msg">@killsudo uploaded a file: <a href="https://rackn.slack.com/files/U9KSXT6CV/F9K76CKG9/-.txt">https://rackn.slack.com/files/U9KSXT6CV/F9K76CKG9/-.txt</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:36</div><div class="msg">if you have the defaultStage setting set - then you need to manipulate what machines are going to be installed with via the use of Stages (workflow), and not BootEnvs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:37</div><div class="msg">hmm yea I clicked that wizard button and was just trying to find better doc's on how to use that workflow tool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:37</div><div class="msg">since you have defaultStage set, you need to set a Stage on the machine, which contains a BootEnv definition - do not manipulate the Machine via BootEnv settings</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:37</div><div class="msg">we don't have the workflow fully documented yet</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:38</div><div class="msg">ok so Im not crazy, my research ended up at <a href="http://provision.readthedocs.io/en/stable/doc/workflows.html">http://provision.readthedocs.io/en/stable/doc/workflows.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:38</div><div class="msg">for Docs  - please switch to `tip` version - they are MUCH MUCH more updated</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:38</div><div class="msg">which while nice, doesn't help that much if you are already very familiar with dhcp/pxe/autodeploy etc</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:39</div><div class="msg">(use the lower right floating version selector)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:40</div><div class="msg">so I guess workflows are optional then?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:40</div><div class="msg">my use case might be slightly different then a normal user</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:41</div><div class="msg">"technically" workflow (stages) can be optional, but we have found everyone adopts them once they understand them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 04:42</div><div class="msg">`defaultBootEnv` should be sledgehammer to be consistent.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:42</div><div class="msg">I don't want/need a TheForeman/Cobbler etc experience with lifecycle management. When I start a provisioning run I have already acquired all of my varibles from different inventories etc so I mostly need a nice API driven way to define a machine and when it boots just pull down the os with a firstboot script etc. Once I get into the OS to pre-stage some stuff I have to back out of the OS cleanly and hand off the machine to a third party</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:43</div><div class="msg">so no leaving keys etc and zero need to be able to come back to it in the future</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:43</div><div class="msg">fire and forget style setups</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:44</div><div class="msg">ideally if I can tie a 'machine' to a dhcp option 82 string, then assign a bootenv to get the SO on disk then the better</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:44</div><div class="msg">then I don't even need to futz with subnets or mac's</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:46</div><div class="msg">I think you'll still find that Stages and workflow is useful for you.   Particularly if you're "first boot script" needs to vary between machines.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-07 04:46</div><div class="msg">considering your request, the stages/runner would do exactly what you are asking for post provision.  No keys, no ssh, no return access</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 04:46</div><div class="msg">You can build the workflow to do common boot things, select the OS, then do the post-provisioning twiddly bits.  Our install method is good because our agent disolves by default after provisioning - and you don't need to leave artifacts behind</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:47</div><div class="msg">I already have my OS's 100% handled in Ansible beautifully including backing myself out gracefully. So mostly just need winrm with https on windows and ssh on linux/esxi so stackstorm can launch my ansible/powershell plays</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:47</div><div class="msg">so this is sounding good</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:50</div><div class="msg">so Default BootEnv in global properties is now sledgehammer, thanks @greg</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:50</div><div class="msg">ok so cleared out my workflows</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:50</div><div class="msg">so should I still use the wizard or start by building a simple single line flow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-07 04:56</div><div class="msg">the wizard builds a basic one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 04:56</div><div class="msg">@killsudo - let?s be clear on what you are trying to do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 04:56</div><div class="msg">You already have inventoried, IPMI managed, Raid configured, Bios adjusted system that you control from another system or systems.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:56</div><div class="msg">+1 - <a href="http://provision.readthedocs.io/en/tip/doc/arch/provision.html">http://provision.readthedocs.io/en/tip/doc/arch/provision.html</a>  tip has much better write up and starting to make some sense</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:57</div><div class="msg">@greg yup lets assume that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 04:58</div><div class="msg">You want the to PXE boot these machines (triggered externally) and the result of some intervening process is a booted OS (of some type) with an ssh key (on winrm enablement).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 04:58</div><div class="msg">I assume you also probably want some notification that this is done.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:58</div><div class="msg">notification would be a nice extra</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 04:59</div><div class="msg">I can listen for or poll events (stackstorm uses OpenStack Mistral under the hood for workflows)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:00</div><div class="msg">How do you expect to inform the black box of the OS selection and ssh key to use?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:00</div><div class="msg">I assume the ssh key will be consistent and constant to your secondary provisioner.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:01</div><div class="msg">depends on the logic once I start manipulating it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:01</div><div class="msg">but yea the key could be static to start with and just a simple edit to the kickstart</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:02</div><div class="msg">not hard for me to have the OS call my stackstorm hook to notify it that it's alive and send along some info</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:02</div><div class="msg">I plan to put the mistral workflow into pause state while I wait around for the boot/dhcp/pxe/os load part</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:03</div><div class="msg">then I can resume when I see the incoming call</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:03</div><div class="msg">okay - now we are getting some where.  A `task` that calls home when ready.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:03</div><div class="msg">How do you want to install the OS?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:03</div><div class="msg">you mean from where or do I want to use disk images?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:04</div><div class="msg">well - kickstarts/preseeds, raw images, rootfs images?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:04</div><div class="msg">immutable in-memory CoreOS/Rancher?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:05</div><div class="msg">probably more then one, I have access to the mac addresses and know the OS before talking to drp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:05</div><div class="msg">ips?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:05</div><div class="msg">yup I can also know that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:05</div><div class="msg">or I can just use my option-82 string that my dhcp relays are injecting</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:05</div><div class="msg">and map that to an OS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:06</div><div class="msg">yep - both are options.  Requiring different paths.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:06</div><div class="msg">yea that's where I am stuck is trying to understand all of my options</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:07</div><div class="msg">Are you using DRP as a DHCP server?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:08</div><div class="msg">I do have a working dhcp/pxe system now, it's just old school centos/isc-dhcp/pxe with some bash and ansible automating it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:08</div><div class="msg">I can if that's best</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:08</div><div class="msg">but no issue using relays and next-boot / next-server options in regular dhcp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:08</div><div class="msg">Do the machines have sane IPXE clients?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:09</div><div class="msg">does that exist?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:09</div><div class="msg">:slightly_smiling_face: fair enough.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:09</div><div class="msg">http bzimage support</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:09</div><div class="msg">yup, all of my current systems chainload ipxe</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:10</div><div class="msg">or they can if that's what your getting at</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:10</div><div class="msg">it's all enterprise kit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:10</div><div class="msg">yeah.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:10</div><div class="msg">more concerned about uefi stuff (argh)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:10</div><div class="msg">well there is uefi ipxe bootloader</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:10</div><div class="msg">if it works</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:11</div><div class="msg">I know Hyper-v Gen2 vm's will be a pain with uefi being enforced</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:11</div><div class="msg">VM?s uefi suck</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:11</div><div class="msg">I think my first test run with drp, those failed to even reach ipxe</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:11</div><div class="msg">my other test machines seemed happy with the defaults</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:11</div><div class="msg">They all seem to assume a disk</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:13</div><div class="msg">To reduce your initial learning space, you may want to use your existing DHCP services to chain load into sledgehammer/discovery.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:14</div><div class="msg">well I have my test lab already successfully working with DRP dhcp service</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:15</div><div class="msg">Okay - well - I was more thinking for your IP management system that you already have, but either way.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:15</div><div class="msg">I?d let the machines get discovered.  Default to the `discover` stage.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:15</div><div class="msg">Transition that to a new stage with a new task that acts as an in-line classifier.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:18</div><div class="msg">what is an 'in-line classifier'? The template system?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:19</div><div class="msg">parse your option 82 and convert to an install stage.  (centos-7-install or whatever).  Transition that install stage to a stage that installs your post reboot hook and reboot the machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:20</div><div class="msg">`in-line classifier` == stage with a task represented by a template that would parse the option 82 out of the dhcp lease file and convert it to an install stage.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:20</div><div class="msg">lets start simpler so I can build up to that. I need to get my head wrapped around the basic 1.2.3 operations. otherwise my questions are not gonna be as helpful or concise</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:21</div><div class="msg">dhcp &gt; pxe &gt; discovery &gt; centos7</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:22</div><div class="msg">whats the workflow way to just discover every machine that network boots against drp and install centos7 automatically with the default ks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:22</div><div class="msg">set the default stage to centos-7-install</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:23</div><div class="msg">what about if I want to hit 'discover' first then centos7?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:23</div><div class="msg">that is where you will need a workflow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:23</div><div class="msg">ok so on that page and loaded up the default global workflow with the wizard</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:23</div><div class="msg">Read about workflows and `ssh-access`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:25</div><div class="msg">You aren?t using virtualbox</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:26</div><div class="msg">Will want this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:26</div><div class="msg">discover-&gt;centos-7-install:Reboot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:27</div><div class="msg">centos-7-install-&gt;finish-install:Stop</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:29</div><div class="msg">ok so seeing that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:29</div><div class="msg">would 'discover-&gt;sledgehammer:reboot|centos7-install:reboot-&gt;finish-install:Stop' also be acceptable?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:30</div><div class="msg">we don?t have a sledgehammer stage.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:30</div><div class="msg">*sledgehammer-wait*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:31</div><div class="msg">sledeghammer-wait is just a holding stage.  It is meant as near-line waiting system.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:32</div><div class="msg">ok, so that's more of a live environment I could break into and do actions on the box before proceeding with the OS install</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:32</div><div class="msg">like updating firmware or something if I was to write that task up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:32</div><div class="msg">or heaven forbid automate them.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:32</div><div class="msg">as Stages !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:33</div><div class="msg">RackN has stages that do that and more.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:34</div><div class="msg">Sledgehammer is pretty rich so you could use stackstorm to trigger things there if you wanted.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:34</div><div class="msg">yea your previous statement cleared it up, I was confused as to what the actual difference between discovery and sledgehammer was</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:35</div><div class="msg">Discover will put ssh keys in place if you define enough parameters.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:35</div><div class="msg">I was thinking sledgehammer was like the autodeploy boot env that loads and send the ipxe details back to vcenter and must be booted the first time thru on an unknown machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:36</div><div class="msg">it can be used that way, but not required.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:36</div><div class="msg">You could direct create machines and just jump to centos install</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:36</div><div class="msg">That was another path</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:37</div><div class="msg">well if guys like the workflows I'll give them a chance</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:39</div><div class="msg">most people want a lifecycle around their machines.  Workflows really help with that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:44</div><div class="msg">hmm still no go, still failed to fetch ks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:45</div><div class="msg">and $url:8091/machines/8bc9b109-0034-42d6-847b-91d716d65333/seed just 404's</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:45</div><div class="msg">Kickstart is rendered as `compute.ks` (not seed)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:46</div><div class="msg">for centos-7-install ... for an ubuntu-16.04-install you'll get `seed`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:46</div><div class="msg">there we go</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:46</div><div class="msg">so it did generated the ks, and this time my vm went thru discovery then auto-rebooted and pxe booted into centos7</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:46</div><div class="msg">so progress</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:47</div><div class="msg">the machine details also show it inheriting the centos7 bootenv from the workflow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:48</div><div class="msg">weird.. 'curl: (23) Failed writing body (8520 != 16384)'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:48</div><div class="msg">Depending on file and timing, it can change.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:49</div><div class="msg">the kickstart/preseed is only available to be rendered during a provisioning activity</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:49</div><div class="msg">I actually create a "phantom" machine I can place in to various BootEnvs to render templates against to test template rendering</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:51</div><div class="msg">that curl was from dracut inside the testvm when it tried to locate ks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:51</div><div class="msg">apparently 1gb of ram isn't enough with the fs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:51</div><div class="msg">nope</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:51</div><div class="msg">Correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:51</div><div class="msg">not for CentOS 7 - you need 1.5 GB</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:51</div><div class="msg">(that's what I use on my test VMs)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:51</div><div class="msg">sledgehammer is rich</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:51</div><div class="msg">Ubuntu is ok w/ 1 GB</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:51</div><div class="msg">yup you guys are on it, set 4gb and now centos7 is running KS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 05:51</div><div class="msg">I usually use 2GB.  It is designed for real servers.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:52</div><div class="msg">yea not an issue, I can change those values on vm's before and after the install</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:54</div><div class="msg">I assume windows and esxi are supported well enough if your willing to put in the grunt work?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:54</div><div class="msg">both are RackN commercial components ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:54</div><div class="msg">looked like the explode script knew how to handle those isos</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:54</div><div class="msg">what does that mean? it'll never work without some addon?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:54</div><div class="msg">we support Windows via Image based deployment (eg Immutable Infrastructure)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:55</div><div class="msg">there are no community based Open Source pieces to do ESXi or Windows</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:56</div><div class="msg">but I can someone implement the details themselves if they want to?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:56</div><div class="msg">if all you want is to get pxe to launch the winpe stuff and image the disk?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 05:57</div><div class="msg">it should be possible with the right effort</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:57</div><div class="msg">I'll look into the RackN stuff, I assume questions regarding esxi/windows isn't really for this #community channel then?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 05:58</div><div class="msg">is it only windows that has a commercial piece?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 06:01</div><div class="msg">Both Windows and ESXi - both have required a lot of engineering work to get working repeatable and at scale.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 06:03</div><div class="msg">yea I bet, both gave me a headache on my current pxe system</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 06:08</div><div class="msg">heyo, first box is online. not to bad now that Im grasping the steps</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 07:30</div><div class="msg">odd one with this Hyper-V Gen2 vm.. I can see that DRP serves it up the proper efi boot file via option 67 and then ipxe loads but after ipxe tries to fetch '<tftp://ip.ip.ip.ip/ipxe.efi....ok>' it bombs out</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 07:31</div><div class="msg">dr-provision2018/03/07 07:24:38.728050 [3271:665]static [error]: /home/travis/gopath/src/github.com/digitalrebar/provision/midlayer/tftp.go:82</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 07:31</div><div class="msg">dr-provision[3877]: [3271:665]TFTP: ipxe.efi: transfer error: sending block 0: code=8, error: User aborted the transfer</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 12:50</div><div class="msg">@killsudo - check in the tftpboot directory for that file.  It should be there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-07 14:59</div><div class="msg">@killsudo What was the error on the ipxe side?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-07 15:00</div><div class="msg">Our pxe serving logic for UEFI has been built around "whatever recent-ish tianocore expects", and I have no idea if hyperv uses a tianocore based UEFI stack or if it rolls its own.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-07 15:12</div><div class="msg">and that "User aborted the transfer" error you are seeing is usually just the firmware or ipxe getting the size if the thing it wants to load next.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 16:16</div><div class="msg"><!here> - quick poll ... would you like to see Immutable Provisioning demo on the next meetup?  (Immutable = image based deployments).  Please vote on the meetup page:
<a href="https://www.meetup.com/digitalrebar/polls/1263248/">https://www.meetup.com/digitalrebar/polls/1263248/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-07 18:47</div><div class="msg"><!here> following up on the DHCP issue I mentioned yesterday (even though I know that you have fixed it in the last tip version). Extending the lease seems to do the trick !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 18:48</div><div class="msg">Yep - it's a band-aid though ... and not necessarily the right solution for some environments that want short renewal cycles on their leases ... but, glad that works for the moment :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 18:48</div><div class="msg">we'll have this fix in a release out soon ... or you can update to `tip` to get it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-07 19:37</div><div class="msg">Im working on something else right now but I will definetely test it :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 22:18</div><div class="msg">@vlowther I think it might be related to this - <a href="http://git.ipxe.org/ipxe.git/commitdiff/9366578">http://git.ipxe.org/ipxe.git/commitdiff/9366578</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-07 22:21</div><div class="msg">Possible.  We pull in the latest ipxe.efi whenever we cut a build, so given the patch date that fix should be in there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-07 22:21</div><div class="msg">Doesn't mean that patch hasn't been reverted or broken by something else in the meantime, though. :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 22:23</div><div class="msg">yea looks like hyper-v is gonna have to remain a virt disk copy as that comment doesn't sound reassuring until I can revisit it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 22:25</div><div class="msg">I usually try and start stuff with hyper-v as an edge case cause if it works in hyper-v I can pretty much make it work on anything else</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-07 22:25</div><div class="msg">That's kind of like saying "I hit my self in the face with a shovel before digging a hole, because I like the feeling it gives me ... "</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-07 22:26</div><div class="msg">yeah, I go with something a little more mainstream, like qemu+kvm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-07 22:26</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 22:31</div><div class="msg">heh it's what you live with when hyper-v is involved. Now I get to finally move on to testing proxmox and vmware. Both of their networking layers are virtualizied. proxmox is openvswitch with vlans dumping into a evpn/vxlan fabric. vsphere is the same with some nsx involved and dumping into a evpn/vxlan fabric. All subnet gateways are anycasted gateways(using evpn) on juniper mx routers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 22:32</div><div class="msg">This topology works awesome right now with the pxe booting of physical servers but the virt side throws a few extra hops in the way that *should work*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-07 22:35</div><div class="msg">@killsudo - if you already have DHCP relays working in those environments, then it should work pretty cleanly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-07 22:35</div><div class="msg">yea it's more making sure ovs or nsx doesn't eat the broadcast</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-08 07:28</div><div class="msg">@killsudo uploaded a file: <a href="https://rackn.slack.com/files/U9KSXT6CV/F9MBHMQ06/-.txt">https://rackn.slack.com/files/U9KSXT6CV/F9MBHMQ06/-.txt</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/c93f97071c7d2626ae18149517e7186c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">killsudo</div><div class="time">2018-03-08 07:28</div><div class="msg">Looks like this *should* be doable on Gen2 hyper-v</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 14:14</div><div class="msg">@killsudo - if you want to try different `ipxe.efi`, you can just place them in the tftpboot directory.  If you want them to persist over drp restarts, you need to place them in the `replace` directory as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 14:15</div><div class="msg">If you are in `isolated` mode, these are in the directory you started drp from.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 14:15</div><div class="msg">If you are in `production` mode, these are in `/var/lib/dr-provision`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 14:15</div><div class="msg">If you find one that works, lets know where you got it from.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:07</div><div class="msg">Hey all.  I'm trying to create a bootable iPXE image that I can use to manually point a machine at a dr-provision host on another subnet.  I'm doing this because I can't run a DHCP server on the subnet the host to be discovered lives on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:07</div><div class="msg">Oh and for extra complications, it's also a UEFI boot only system.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:08</div><div class="msg">I have the image booting and am trying to chain boot bootx64.efi.  But I get the error 
```no config file found in
forcing interactive mode due to config file error(s)

ELILO boot: .............```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:08</div><div class="msg">Then just an endless string of dots.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:08</div><div class="msg">It never seems to get any farther.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:09</div><div class="msg">So it downloads bootx64.efi from the dr-prov server, but can't go any farther apparently.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:14</div><div class="msg">@dave.parker - There is ProxyDHCP for this case if needed.  It can in parallel only had out boot options.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:14</div><div class="msg">@dave.parker uploaded a file: <a href="https://rackn.slack.com/files/U9BU09D51/F9N2X4NG7/menu_ipxe.txt">https://rackn.slack.com/files/U9BU09D51/F9N2X4NG7/menu_ipxe.txt</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:15</div><div class="msg">@dave.parker - Second, I think we?ve dropped support fro bootx64.efi because it was buggy.  And switched to `ipxe.efi` because it worked better.  @vlowther will have better info.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:15</div><div class="msg">Ok.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:16</div><div class="msg">I can't install anything in this subnet really.  So I don't know that I can do the ProxyDHCP either.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:16</div><div class="msg">okay - so - how do you control what it is going to boot the first time?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:17</div><div class="msg">With a bootable iso, with an iPXE executable that runs that script I posted.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:18</div><div class="msg">okay - so  you could try using ipxe.efi with a pxe script that points to `http://&lt;ip&gt;:8091/default.ipxe`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:18</div><div class="msg">where `&lt;ip&gt;` is your DRP endpoint.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-08 22:18</div><div class="msg">yeah, that. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:18</div><div class="msg">and `8091` is your HTTP port on the DRP endpoint.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:19</div><div class="msg">Got it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:19</div><div class="msg">The `default.ipxe` file is rendered with enough to handle discovery and directed boot operations.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:20</div><div class="msg">It is provided by the `discovery` bootenv.  It looks like this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:21</div><div class="msg">@greg uploaded a file: <a href="https://rackn.slack.com/files/U02DGQYK1/F9M1H2DLJ/-.md">https://rackn.slack.com/files/U02DGQYK1/F9M1H2DLJ/-.md</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:21</div><div class="msg">The loopback addresses are just because it is how I asked for it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:23</div><div class="msg">It basically looks for ipxe files on the DRP endpoint for the machine specifically (`&lt;ip&gt;.ipxe` and `&lt;mac&gt;.ipxe`).  Bootenvs are supposed to provide one of those files for IPXE boots.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:23</div><div class="msg">If they don?t exist, then it boots sledgehammer and starts discovery.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:23</div><div class="msg">Ok, cool.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:24</div><div class="msg">I'll give that a try.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:31</div><div class="msg">Hey, that kind of worked.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:32</div><div class="msg">It grabbed sledgehammer and booted into it.  But it then set the IP address to 0.0.0.0 and is just looping `Sending discover...` over and over</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:34</div><div class="msg">sledgehammer expects DNS domain in the DHCP options, I think.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:35</div><div class="msg">You can log into sledgehammer from the console with root/rebar1.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:35</div><div class="msg">To see what DHCP client is getting upset about.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 22:35</div><div class="msg">That maybe where you are.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 22:43</div><div class="msg">I can't get in because it just keeps trying to send discover.  I never get a login prompt</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 23:07</div><div class="msg">So the sledgehammer image is always going to try configure the network with DHCP?  So if I can't have a DHCP server on the network (or there's one there I don't control) will sledgehammer not work?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 23:12</div><div class="msg">It needs DHCP and what you have should work.  They are a couple of things going on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 23:13</div><div class="msg">We made a change to let dhcp and drpcli run separately in sledgehammer.  This is good, but may be preventing drpcli from running.  It is a new change.  Probably a bug.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 23:13</div><div class="msg">The second is that our dhcp server requires 1 options (I think).  Dns Domain.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 23:14</div><div class="msg">We can look at removing that requirement.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 23:18</div><div class="msg">We are just a little busy with some other things at the moment.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 23:23</div><div class="msg">I don't have any subnets configured on my dr-provision server currently because I'm testing these remote installs.  Do I need one configured anyway?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 23:24</div><div class="msg">No.  It is should be fine.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-08 23:25</div><div class="msg">There are bugs for your use case.  It would be nice to know what options your dhcp server is sending </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 23:40</div><div class="msg">I don't even see anything on the server end.  Nothing in the logs at all.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-03-08 23:41</div><div class="msg">Oh well I'm going to come back to this tomorrow.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 14:27</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2018-03-09 14:29</div><div class="msg">Welcome @zerocarbthirty $</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2018-03-09 14:30</div><div class="msg">sorry, $Welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-09 14:30</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 14:35</div><div class="msg">Are there shims or example entrypoints for DRP that show things like: "This is where you put your script that SSH's into a switch and configures ip dhcp-helper on an interface so that a machine will pxeboot when it reboots" or "this is the URL where DRP can retrieve information about the network interfaces for a machine" or are defining all of the tasks left to the user?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2018-03-09 14:45</div><div class="msg">Thanks for the question, I am on our short morning meeting with engineering, they will be checking this channel shortly.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 15:30</div><div class="msg">@zerocarbthirty We provide several common tasks as part of the community content</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 15:32</div><div class="msg">For example, getting the information about network interfaces for a machine is done as part of initial system discovery, which runs the gohai task.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 15:33</div><div class="msg">We don't have one that configured the DHCP helper on a switch -- our usual assumption is that everything is using DHCP all the time anyways, and that the networking guys don't want us touching their switches.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 15:38</div><div class="msg">@zerocarbthirty - If you have the admin access to the switches in question - and if you have existing tooling to be able to implement those changes, you can build a Stage that would make switch port changes as part of the Workflow aspects of Digital Rebar Provision</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 15:39</div><div class="msg">More generally, we expect that each environment will need some customized content (tasks, stages, etc) and workflows to accomplish your deployment goals.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 15:47</div><div class="msg">however, as @vlowther states, we don't have precanned components in the community tooling that does that - there is a bit of a chicken-and-egg issue, if you are not DHCPing your host against DRP, you'd need to build Reservations for the machine in advance, and add a machine in advance of it booting against us - and your first Stage would be to configure the Switch port to dhcp relay - then power on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 15:48</div><div class="msg">you either have to have DHCP and our Discovery mechanisms to add machines in to DRP - or you have to build the information in advance to manage the Machine - then make the switch port changes and boot the machine for provisioning</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:36</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:36</div><div class="msg">@mark.yeun $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-09 17:36</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:37</div><div class="msg">howdy, very cool stuff you're doing :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:38</div><div class="msg">thanks !</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:38</div><div class="msg">i hope you don't mind me just popping in to ask questions...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:40</div><div class="msg">Well, since you ask nicxely. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:42</div><div class="msg">:slightly_smiling_face: I've got dr-provision working nicely in a libvirt environment. I'm trying to get it working on metal. I have the server set up, dhcp relay is working. I have a serial console to my baremetal box. When I pxeboot, I see on tcpdump that dhcp works, and tftp for lpxelinux.0 works.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:42</div><div class="msg">then... nothing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:42</div><div class="msg">I believe the next thing that should happen is another tftp for a series of files, which should fail, then a tftp for pxelinux.cfg/default</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:42</div><div class="msg">fw or iptables blocking ports 8091 and 8092 on the DRP endpoint ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:43</div><div class="msg">wide open</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:43</div><div class="msg">Yep, that is what you should see.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:45</div><div class="msg">so my theory is lpxelinux.0 doesn't like my hardware?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:45</div><div class="msg">What version of dr-provision are you running, what hardware are you testing, and is it booting via UEFI or legacy BIOS?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:45</div><div class="msg">...and what does your serial console on your Machine show ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:45</div><div class="msg">i _think_ it's legacy BIOS.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:46</div><div class="msg">``` $ dr-provision --version
dr-provision2018/03/09 17:45:45.087689 Version: v3.7.3-tip-5-eb82a0429c7c94bb1885cc32528c15e376417138
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:46</div><div class="msg">Cool.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:46</div><div class="msg">and I don't have access to vga -- only serial console</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:46</div><div class="msg">No worries.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:46</div><div class="msg">vga is only for winders ... a real OS only needs a serial console ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:46</div><div class="msg">heh</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:46</div><div class="msg">lol nice</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:47</div><div class="msg">do you want to see the subnet def?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:47</div><div class="msg">nothing special</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:47</div><div class="msg">What does the subnet definition looklike?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:47</div><div class="msg">yes. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:47</div><div class="msg">haha
```{
  "ActiveEnd": "10.10.24.171",
  "ActiveLeaseTime": 60,
  "ActiveStart": "10.10.24.151",
  "Available": true,
  "Description": "",
  "Enabled": true,
  "Errors": [],
  "Meta": {},
  "Name": "kube1_subnet",
  "NextServer": "",
  "OnlyReservations": false,
  "Options": [
    {
      "Code": 1,
      "Value": "255.255.254.0"
    },
    {
      "Code": 3,
      "Value": "10.10.24.1"
    },
    {
      "Code": 6,
      "Value": "10.40.20.101,10.40.20.102"
    },
    {
      "Code": 15,
      "Value": "<a href="http://tower-research.com">http://tower-research.com</a>"
    },
    {
      "Code": 28,
      "Value": "10.10.25.255"
    }
  ],
  "Pickers": [
    "hint",
    "nextFree",
    "mostExpired"
  ],
  "Proxy": false,
  "ReadOnly": false,
  "ReservedLeaseTime": 7200,
  "Strategy": "MAC",
  "Subnet": "10.10.24.0/23",
  "Unmanaged": false,
  "Validated": true
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:48</div><div class="msg">That is fine for 3.7.3</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:49</div><div class="msg">I wanted to make sure it wasn't forcing the wrong bootloader or something like that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:50</div><div class="msg">Can you throw a  screenshot of the failed boot into the channel?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:50</div><div class="msg">it's blank</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:50</div><div class="msg">...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:50</div><div class="msg">serial</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:50</div><div class="msg">so F12, then blank</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:51</div><div class="msg">so the serial console shows the nic firmware doing its thing, loads lpxelinux.0, then goes blank?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:51</div><div class="msg">^^^</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:51</div><div class="msg">yessir</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:51</div><div class="msg">you need to set serial console on the DRP side</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:51</div><div class="msg">actually, as usual, my bios is blanking the screen after POST</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:52</div><div class="msg">hm</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:52</div><div class="msg">I've set serial console, and I see it in the rendered pxelinux.cfg/default</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:52</div><div class="msg">but i'm not getting that far</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:52</div><div class="msg">can whatever you are serial cnsoling into the system cwith capture the output?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:52</div><div class="msg">ah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:52</div><div class="msg">Yeah, I suspect it is what shane mentioned then.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:52</div><div class="msg">lpxelinux.0 doesn't download the config file, so it doesn't know to output on serial</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:53</div><div class="msg">We should make having a serial console enabled the default one if these fine days.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:53</div><div class="msg">and even if it did, the rendered pxelinux.cfg/default has console=... for the kernel but not for itself</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:54</div><div class="msg">```$ tftp REDACTEDHOSTNAME -c get pxelinux.cfg/default 
$ cat default
DEFAULT discovery
PROMPT 0
TIMEOUT 10
LABEL discovery
  KERNEL sledgehammer/9743e672ff33179cd5218d8fe506c03cf2a31d18/vmlinuz0
  INITRD sledgehammer/9743e672ff33179cd5218d8fe506c03cf2a31d18/stage1.img
  APPEND rootflags=loop root=live:/sledgehammer.iso rootfstype=auto ro liveimg rd_NO_LUKS rd_NO_MD rd_NO_DM provisioner.web=<a href="http://10.40.20.30:8091">http://10.40.20.30:8091</a> -- console=ttyS1,115200n8
  IPAPPEND 2
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 17:54</div><div class="msg">Another thing to try would be to set option 67 in the subnet to `ipxe.pxe` and see if that works.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:54</div><div class="msg">is your serial console *actually* on ttyS1 ?  not ttyS0 ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:54</div><div class="msg">ttyS1 is kinda non-standard - it's what <a href="http://packet.net">http://packet.net</a> baremetal systems use by default</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:54</div><div class="msg">tried both :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:55</div><div class="msg">i tried this, no change in behavior `drpcli subnets set kube1_subnet option 67 to '{{if (eq (index . 77) "iPXE") }}default.ipxe{{else if (eq (index . 93) "0")}}lpxelinux.0{{else}}bootx64.efi{{end}}'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:55</div><div class="msg">wow, that old string is still out there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:56</div><div class="msg">try {{if (eq (index . 77) "iPXE") }}default.ipxe{{else if (eq (index . 93) "0")}}ipxe.pxe{{else}}ipxe.efi{{end}}</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:56</div><div class="msg">are you using a USB to Serial converter, or an actual 9-pin serial port ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:56</div><div class="msg">from <a href="http://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html#uefi-boot-support-option-67">http://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html#uefi-boot-support-option-67</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:57</div><div class="msg">actually i have an avocent</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 17:57</div><div class="msg">um ... that's my fault ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:58</div><div class="msg">ok trying that option67 value</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:59</div><div class="msg">```    {
      "Code": 67,
      "Value": "try {{if (eq (index . 77) \"iPXE\") }}default.ipxe{{else if (eq (index . 93) \"0\")}}ipxe.pxe{{else}}ipxe.efi{{end}}"
    }
``` gonna give it a go</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 17:59</div><div class="msg">too much</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 17:59</div><div class="msg">get rid of try</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 17:59</div><div class="msg">there is no try. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:59</div><div class="msg">lol</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 17:59</div><div class="msg">do or do not</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 17:59</div><div class="msg">What backend system does DRP use to store information gathered with gohai/etc ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:00</div><div class="msg">This command: `drpcli subnets set kube1_subnet option 67 to '{{if (eq (index . 77) "iPXE") }}default.ipxe{{else if (eq (index . 93) "0")}}ipxe.pxe{{else}}ipxe.efi{{end}}'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:00</div><div class="msg">It uses a file-based data store.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:00</div><div class="msg">@zerocarbthirty</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:01</div><div class="msg">Oh, I figured it was using Collins or something like that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:01</div><div class="msg">@zerocarbthirty - we try to keep it minimal / lightweight for embedding in things.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:01</div><div class="msg">Nope.  We want complete standalone operation + a zero-dependency install.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:02</div><div class="msg">We can use different backend but they need to be more blob store like than Collins.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:02</div><div class="msg">so the dr-provison binary embeds all the things it must have to install.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:05</div><div class="msg">So I asked the question earlier about having DRP configure switchports for DHCP when it needs to pxeboot a system rather than having DHCP always on. I've been watching alot of the videos about DRP (that use packet as infrastructure) and it seems a little odd that a network of that size would want every port forwarding DHCP traffic from every host to the DHCP server all the time. Although I guess they probably don't use DR for their own DHCP/pxe so maybe they do actually configure the ports.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:06</div><div class="msg">yes, they configure switch ports dynamically for every single host - every single host by default is isolated in a /31 size L3 boundary and VXVLAN separated (updated my typo to /31 boundary)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:06</div><div class="msg">Digital Rebar Provision can configure ports just like they do ... it would be part of the Stages of workflow that you'd write for content</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:06</div><div class="msg">lol i thought you were making a yoda joke but I get it now. removed the "try ", retrying</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:09</div><div class="msg">the open source Digital Rebar Provision out-of-the-box does not have switch management built in</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:10</div><div class="msg">boys i see many packets</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:11</div><div class="msg">@shane uploaded a file: <a href="https://rackn.slack.com/files/U6QFVRJNB/F9MKL36H3/screen_shot_2018-03-09_at_10.10.59.png">https://rackn.slack.com/files/U6QFVRJNB/F9MKL36H3/screen_shot_2018-03-09_at_10.10.59.png</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:11</div><div class="msg">Hmm I was under the impression that they didn't actually use any L2 VLAN/VXLAN stuff so that people can use their own overlays.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:12</div><div class="msg">but it's amusing to me that they use /31s just because of NANOG's history of arguing about whether or not anyone should ever use /31s haha</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:12</div><div class="msg">i forgot to put serial console back on ttyS0, but the machine showed up in drpcli machines list</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:13</div><div class="msg">will give it another crack with proper serial</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:13</div><div class="msg">but you are the _man_</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:13</div><div class="msg">seems I'd have been stuck without the slack inquiry</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:13</div><div class="msg">thanks guys! much appreciated.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:14</div><div class="msg">What type of hardware is it? @mark.yeun</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:14</div><div class="msg">supermicro X10 series with mellanox 10g</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:14</div><div class="msg">hmm - the mellanox drivers may not be in the open source centos/ubuntu - have you checked that ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:14</div><div class="msg">lpxelinux.0 might not like the mellanox.  `ipxe.pxe` is ?newer?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:14</div><div class="msg">I know they were a problem (especially Ubuntu 14.x)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:15</div><div class="msg">which Mellanox cards ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:16</div><div class="msg">Anyway, earlier I wasn't asking about whether DRP has the ability to configure networking equipment I was asking whether there were example workflows that illustrate where one might just pop in their own code to look stuff up from IPAM/configure switches, etc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:17</div><div class="msg">02:00.0 Ethernet controller: Mellanox Technologies MT27520 Family [ConnectX-3 Pro]</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:17</div><div class="msg">should be good - that's an older gen card - which I think is supported in the mlx4 driver</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:18</div><div class="msg">(it might be in the mlx5 driver - but both are in CentOS7 by default ... pretty sure ubuntu 16 too)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:18</div><div class="msg">one more quick question -- I haven't looked into this yet. is IPMI support behind the pay wall?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:18</div><div class="msg">Yep.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:19</div><div class="msg">Hmm, I think crowbar used to manage ipmi</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:19</div><div class="msg">odd that they would decide to make that a paid for feature</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:20</div><div class="msg">We have to have some encouragement to move to revenue generating customers.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:20</div><div class="msg">okay, if this sexy thing keeps looking sexy i'll hit up your sales team for at least ballpark pricing :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:21</div><div class="msg">You can play with it in the content bundles of IPMI.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:21</div><div class="msg">@mark.yeun - that is amazingly easy.  Seeing as you?ve talked with over half the team.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:21</div><div class="msg">okay that triggers one more question. what sort of features do we get with the paywall bios support?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:22</div><div class="msg">Dell firmware updates and BIOS config are there presently</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-09 18:22</div><div class="msg">Time to feed the :bear:!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:22</div><div class="msg">seeing as how that is what we have the most experience.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:23</div><div class="msg">@mark.yeun You should be able to just boot into a thin linux environment like Alpine and then use whatever vendor's tools to configure your BIOS by just having alpine curl a script that builds the config based on either the MAC or IP of the client.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:24</div><div class="msg">omconfig is especially easy to do that with</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:24</div><div class="msg">I have implemented Supermicro support (via sum) for DRv2 and an earlier customer, and have been waiting for demand to port that support over to dr-provision.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:24</div><div class="msg">@zerocarbthirty thanks, we have such stuff for our old heavy OS builds. lots of witchcraft though with our mixed hardcware platforms</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:24</div><div class="msg">I don't know how far along redfish is but some of that may be standardized now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:25</div><div class="msg">@zerocarbthirty - or you could use our tools and workflows to automate and orchestrate.  Or build a task/stage that runs your own tools as part of the process.  DRP is flexible.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:25</div><div class="msg">ya, our BIOS and RAID plugins go through an in-house tool that implements a standard format and idempotent config flow on top of vendor-provided tooling.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:25</div><div class="msg">@zerocarbthirty...it all sounds so _easy_ on paper .... :stuck_out_tongue_winking_eye:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:26</div><div class="msg">yeah, we take care of blundering into and padding all the sharp bits so you don't have to.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:27</div><div class="msg">and i'm guessing that also Windows is paywalled too?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:27</div><div class="msg">so you can (for instance) hand us a JSON blob representing a RAID config and we take care of driving megacli/storcli/whatever to make that config happen.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:27</div><div class="msg">Ditto for BIOS config.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:28</div><div class="msg">You mean in the event that we have access to the rackn stuff</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:28</div><div class="msg">@zerocarbthirty - yes, image-based deploys are paywalled.  Because they are tricky usually require consulting.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:29</div><div class="msg">oh, we have it down to where we boot into PE and use command-line DISM to do phase 1 then the system reboots and finishes the install. We didn't find it very complicated even using pxelinux</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:30</div><div class="msg">Okay - then that is good for you.  We?ve found that building images and deploying them is much faster and our customers like that workflow better.  It fits into CICD pipelines better and gives better controls.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:30</div><div class="msg">I assume you are referring to non .wim images?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:31</div><div class="msg">Correct - though I have prototypes that deploy those as well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:34</div><div class="msg">So you are referring to images that you drop onto the disk when the install is past what is commonly referred to as the 'PE' phase?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-09 18:34</div><div class="msg">hey I want to thank you guys again. will go have a play, and may come back for more magic.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:35</div><div class="msg">@zerocarbthirty: yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-09 18:36</div><div class="msg">@mark.yeun: No problemo.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:41</div><div class="msg">That is interesting, I haven't really looked for different imaging formats than .wim since we used ghost+floppies to do installs but I suppose if you include the right drivers or only use hardware that has native drivers in $target_windows_version that method could be a bit faster.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:42</div><div class="msg">It is extremely fast - only requires one reboot of the machine to provision to a completed OS, and we support adding in post-provisioning bootstrap config changes as well</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:42</div><div class="msg">along with our Agent, which you can enable longer term lifecycle management (if desired, by default our Agent "dissolves" after initial provisioning" )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:43</div><div class="msg">coupled with a CI/CD pipeline to validate/test your "gold" image, you can roll out patch updates very very quickly across very large scale infrastructure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:44</div><div class="msg">you also can roll forward/roll back images quickly through this mechanism in the event a new image exhibits behavior problems "in the wild"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:45</div><div class="msg">So, pardon me if I am nosy but you would take the image when it is at the "Please wait while we are setting everything up for you" phase which I believe they still call OOBE and then have an execution configured to grab a script in powershell or (whatever) to execute the changes?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:47</div><div class="msg">I suppose one could also just roll cloud-init into an imagine for physical hosts</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:47</div><div class="msg">err image</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:48</div><div class="msg">Hmmm. Maybe. :grinning:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:50</div><div class="msg">although you would want to avoid joining the domain with such a host until after the computer name is changed for obvious reasons</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 18:50</div><div class="msg">If that is a concern. Most definitely </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:57</div><div class="msg">Discovery uses open sledgehammer? does that do cdp/lldp to gather network info?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 18:58</div><div class="msg">lldp is in the Sledgehammer image so you can definitely build a Stage to collect switch port info</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 18:59</div><div class="msg">Cool, i'm having the team install 40 PowerEdge 440s to play with DRP next week so I'm just trying to think of everything I am going to wonder about ahead of time.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:00</div><div class="msg">Stages can be used to integrate in to external DCIM/Asset Mgmt/Cfg Mgmt databases as well - we can either push inventory info to them, or pull info to build provisioning decisions against</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:00</div><div class="msg">(and IPAM as well)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:03</div><div class="msg">The problem I find mostly is that the team will rack 500 servers and then make a bunch of mistakes describing them whether it's the actual specs, the network info, whatever. so thats really the part that is the biggest pain in the ass. I didn't realize this until today but Packet never changing their hardware after it is installed makes alot of things a whole lot easier.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:03</div><div class="msg">yep, I know that pain ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:04</div><div class="msg">correlating the physical infrastructure design from what it _should_ be to what it really is (or isn't; if it's broken) ... can be a mess</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:04</div><div class="msg">you can audit via Sledgehammer what the reality of your network ports are and compare that to a "it should be this" design</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:05</div><div class="msg">we use the LLDPD implementation which supports LLDP, CDP, EDP, SONMP, and FDP protocols</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:05</div><div class="msg">Well, if you devote a portion of your DC to being totally 'fixed' i.e. you won't change the specs/wont change the network, etc it makes alot of that trivial</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:06</div><div class="msg">but if you are constantly adding/removing drives+ram+pci-e cards, etc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:06</div><div class="msg">your inventory is going to get out of date pretty quickly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:07</div><div class="msg">one could implement use of our Agent (i.e. not let it dissolve), and built in `gohai` inventory to report back to your provisioning service or other external services on a periodic basis</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:08</div><div class="msg">then you can support continual sweeping of inventory management - these are some of the larger lifecycle management solutions that can be built around the Agent if desired</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:08</div><div class="msg">my initial thought on that was to have a maintenance mode that would cause it to boot back into the discovery to update the inventory but then I just figured out that we could probably just make a certain percentage of stuff not changeable</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:09</div><div class="msg">Sledgehammer is designed to support that use, and DRP is designed to let you in-memory/live boot systems "do stuff", then boot them back to their installed OS easily enough</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:09</div><div class="msg">but that's a fairly disruptive pattern to have ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:09</div><div class="msg">I always find it humorous that if you add RAM to a dell server it takes a new inventory but there is no way to tell it to send that information anywhere</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-09 19:09</div><div class="msg">Time to feed the :bear:!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:10</div><div class="msg">use of the Agent reporting back to DRP can centralize and manage that information as opposed to the rebooting - our Agent is crosscompiled for Arm, Intel, 32, 64bit, Linux, Windows, and Darwin (Mac) currently - pretty easy to port to other things if desired</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:10</div><div class="msg">Oh, yeah man but it's not like you are going to upgrade RAM on a server while it's running</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 19:10</div><div class="msg">I would call those workflows. :grinning:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:11</div><div class="msg">so there will be some amount of disruption anyway</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:11</div><div class="msg">and if it's something that can't be disrupted it should be running on block storage that is accessible from more than a single host anyway</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:12</div><div class="msg">that is a good modern design pattern, but sadly, not all shops are there ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:15</div><div class="msg">Yeah earlier I was moslty just asking if there were example workflows that are just missing the rackn pieces</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:15</div><div class="msg">like "this would be where rackn did this cool thing"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:15</div><div class="msg">that would make it easy to figure out what pieces we have/need to build/want to buy</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4661458cbf7e3f308820d0e6d17abb9e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0025-72.png" /><div class="message"><div class="username">zerocarbthirty</div><div class="time">2018-03-09 19:23</div><div class="msg">You guys have piqued my interest on this windows image thing, must find file format :smiley:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:27</div><div class="msg">this Tuesday we will be demo'ing our Image Deployment capabilities - including the Windows Image deploy on the weekly Meetup</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-09 19:33</div><div class="msg">@zerocarbthirty - The default community content has stages and tasks in it.  You can see the tasks / stages in the RackN content that is available by logging into the RackN SaaS.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-09 19:33</div><div class="msg"><a href="https://portal.rackn.io/">https://portal.rackn.io/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-09 22:47</div><div class="msg">When you create an account,  you'll have access to some licensed content on a trial basis from the catalog.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-09 22:48</div><div class="msg">The account turns on "registration wall" UX features.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-10 03:03</div><div class="msg">little bonus features.... added live Task view to Bulk Edit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-10 03:03</div><div class="msg">@zehicle uploaded a file: <a href="https://rackn.slack.com/files/U02DHRR2L/F9MMKKU04/image.png">https://rackn.slack.com/files/U02DHRR2L/F9MMKKU04/image.png</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-10 03:03</div><div class="msg">It will be in the latest after we test it a bit</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/82e200163517fe6b4c653f45b4eb23a4.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">jweber</div><div class="time">2018-03-11 16:57</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2018-03-11 16:58</div><div class="msg">$Welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-11 16:58</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-12 14:08</div><div class="msg"><!here> hey guys, quick question, I have 3 burnin jobs that are stuck in a "running" state and I can't delete them. How can I force them into a fail state ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-12 14:08</div><div class="msg">I've tried this: `drpcli jobs destroy ce9c668a-7888-4308-84c6-e1591deedc0d --force` without success :disappointed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8ed489f4fec23363fa7edff0cf3fab50.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">florent.wagener</div><div class="time">2018-03-12 14:10</div><div class="msg">nevermind I find it:
`drpcli jobs update ce9c668a-7888-4308-84c6-e1591deedc0d '{"State": "failed"}'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 06:41</div><div class="msg">am trying to setup kubernetes cluster on virtualbox VMs (3 VMs)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 06:41</div><div class="msg">have completed kubernetes setup via kubespray playbooks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 06:42</div><div class="msg">however, unable to access the dashboard</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 06:42</div><div class="msg">it says 'unauthorized'. Any idea how to fix it ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 06:42</div><div class="msg">Thank you !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 06:42</div><div class="msg">```
{
  "kind": "Status",
  "apiVersion": "v1",
  "metadata": {
    
  },
  "status": "Failure",
  "message": "Unauthorized",
  "reason": "Unauthorized",
  "code": 401
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-13 12:56</div><div class="msg">@amit.handa - I think you need some kubeproxy magic, but not sure.  Something like this may help you start. <a href="https://github.com/kubernetes/dashboard/issues/692">https://github.com/kubernetes/dashboard/issues/692</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 12:58</div><div class="msg">thanks greg. Let me look for cure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-13 13:11</div><div class="msg">@amit.handa are you trying to access via the `kubectl proxy` command ?  
<a href="http://provision.readthedocs.io/en/tip/doc/integrations/krib.html#kubernetes-dashboard-via-proxy">http://provision.readthedocs.io/en/tip/doc/integrations/krib.html#kubernetes-dashboard-via-proxy</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 13:12</div><div class="msg">I am opening it via https://&lt;kube-master-ip&gt;:6443</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 13:12</div><div class="msg">as mentioned in the drp docs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9b5ff40232c1dfd61238c2a90467f84.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wayneeseguin</div><div class="time">2018-03-13 14:00</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-13 15:26</div><div class="msg">@amit.handa if kubespray changed security defaults then the docs will be out of date.  The integration just supplies the inventory.  It's likely they tweaked the auth system</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-13 15:27</div><div class="msg">@wayneeseguin $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-13 15:27</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 15:58</div><div class="msg">thanks @zehicle for the info, I am new to kubernetes. ll check and update.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 17:18</div><div class="msg">thanks @greg</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 17:19</div><div class="msg">I stopped the docker proxy container and ran following on master node</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 17:19</div><div class="msg">```kubectl proxy --address 0.0.0.0 --accept-hosts '.*'```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-22/319086048851_7a4ae7875a810fbe33e3_72.jpg" /><div class="message"><div class="username">amit.handa</div><div class="time">2018-03-13 17:19</div><div class="msg">I can see the dashboard</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/042856fd975e74c90b05cb98832e6fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">jpresley</div><div class="time">2018-03-13 17:41</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/042856fd975e74c90b05cb98832e6fa7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">jpresley</div><div class="time">2018-03-13 17:57</div><div class="msg">I'm exploring use of digital rebar to provision bare metal machines in the office and in the data center. Is it a lot of effort use digital rebar when the local network already has a dhcp server? My experience is more in devops and software provisioning rather than traditional ops</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-13 18:59</div><div class="msg">@jpresley there are several ways to handle shared DHCP including setting nextboot from your DHCP and not using DRP and using DRP as a DHCP Proxy to add nextboot instructions to DHCP requests</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-13 18:59</div><div class="msg">I think some of those are in the $faq</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-13 18:59</div><div class="msg">FAQs are here &gt; <a href="http://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html">http://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-13 19:13</div><div class="msg">@jpresley I am using DRP on a subnet with existing DHCP server - I just am setting ?next server? and ?default file name? params to appropriate values </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-13 19:30</div><div class="msg">@jpresley - proxy dhcp may work for you </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fda255472dae5a40ba27f1349fc7e7fd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">lcrozzoli</div><div class="time">2018-03-13 23:11</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 00:49</div><div class="msg">@lcrozzoli $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-14 00:49</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/b9b5ff40232c1dfd61238c2a90467f84.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">wayneeseguin</div><div class="time">2018-03-14 13:36</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-14 14:52</div><div class="msg">Good morning @wayneeseguin</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/fda255472dae5a40ba27f1349fc7e7fd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">lcrozzoli</div><div class="time">2018-03-14 15:13</div><div class="msg">Hello and thanks to all. i'm very glad to be here</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/61119754a4243cf77768250a6fb6c84d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nkabir</div><div class="time">2018-03-14 16:08</div><div class="msg">Hello, all. I've managed to navigate the documentation well enough to create a bundle, upload it, and successfully provision machines. It works beautifully and I appreciate everyone's hard work. I have two questions about the process: 1) I'd like to customize the ubuntu preseed "late_command" but cannot find references to it in the documentation. Nor could I find references to it in the standard collection of parameters (I used "select-kickseed" to customize other parts of the installation which worked perfectly). What is the preferred way to override "late_command"? 2) I have a "discover -&gt; prep-install -&gt; ubuntu-16.04-install -&gt; finish-install -&gt; complete-nowait" workflow to accomplish this. Is this reasonable? Apologies if I should open these questions as Github issues. I know it's always a challenge to document every possible use case. I'd like to help out any way I can so I'd be happy to post these questions as Github issues so they can be organized/triaged.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:09</div><div class="msg">hi @nkabir - glad to hear you've gotten things rolling !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:12</div><div class="msg">taking a look at your late_command question</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:17</div><div class="msg">currently - there are two paths for you:
 1. with `select-kickseed` - you can define you're own post install script - either replacing the `post-install.sh` call, or adding a second line after it ... 
 2. you can clone the ubuntu-16.04-install BootEnv, and make the `template` call changes in that - using your cloned BootEnv</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:17</div><div class="msg">However, if you clone the BootEnv, when we make DRP Community Content updates, you won't get those changes for that cloned BootEnv - but the original ubuntu-16.04-install BootEnv will be updated</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:20</div><div class="msg">it looks like we actually call "post-install.sh" twice (erroneously) - we call it once in the BootEnv definition in the `templates` section, then again in the `net-seed.tmpl`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:25</div><div class="msg">since you are already using `select-kickseed`, the `net-seed.tmpl` that you (presumably) originally cloned can be modified to point to a different `post-install.sh`; and our `post-install.sh` will still run, as it's defined by the BootEnv definition to run last - and you don't want to disturb the `reset-workflow` and `runner` template calls in that, otherwise you'll get bad behavior with the Workflow/Stages and jobs.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/61119754a4243cf77768250a6fb6c84d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nkabir</div><div class="time">2018-03-14 16:28</div><div class="msg">Thank you for the clarification, @shane. I'll give that a try!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:29</div><div class="msg">Also - if  you are unsure exactly what a template is going to do - you can render it to see the final product - not everything can be rendered in it's final state, since the context in which it was called matters in some cases</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:29</div><div class="msg">but there is a $faq on test rendering templates</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-14 16:29</div><div class="msg">FAQs are here &gt; <a href="http://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html">http://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:31</div><div class="msg">the rendering works for other things too, any template defined in a BootEnv can be rendered against the "machines" url, example:
<a href="http://drp.domain.com:8091/machines/817cbf29-30be-4807-b5a0-1234567890/post-install.sh">http://drp.domain.com:8091/machines/817cbf29-30be-4807-b5a0-1234567890/post-install.sh</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:32</div><div class="msg">the trick is ... the machine must be in the Stage that the templates are defined in - so the `ubuntu-16.04-install` Stage - defines templates, put a "phantom" machine in to that bootenv, and then render away</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:32</div><div class="msg">this is true for other stages too - I use a phantom machine to render stuff all the time</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/61119754a4243cf77768250a6fb6c84d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nkabir</div><div class="time">2018-03-14 16:37</div><div class="msg">I was able to get that far. I wanted to work within DRP preferred conventions and ensure I didn't customize too far afield of the tool's best-practices. Would my custom post-install.sh script need to follow the BootEnv post-install script's configuration of the chroot environment i.e. using a here-doc and executing in /target?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 16:41</div><div class="msg">I'd suggest cloning the existing `net-post-install.sh.tmpl`, and work with in the same conventions - just modify in the HereDoc what you want to actually perform - and change the name of the written out file from `update_system2.sh` to something like `update_norms_secret_post_install.sh` - otherwise keeping everything else intact around the HereDoc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/61119754a4243cf77768250a6fb6c84d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nkabir</div><div class="time">2018-03-14 16:41</div><div class="msg">:+1: will give that a try!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 17:35</div><div class="msg">@nkabir - additionally you could add a new Stage, with a Task `norms-post-install`, which calls the new `post-install` script - you'd then insert that in your work flow between `ubuntu-16.04-install` and `finish-install`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/61119754a4243cf77768250a6fb6c84d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nkabir</div><div class="time">2018-03-14 19:36</div><div class="msg">@shane I like your suggestion better. It's more discoverable and self-documenting. Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 19:36</div><div class="msg">The Stage/Task/Template solution?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-14 19:38</div><div class="msg">^^^ was @greg and @vlowther reminding me that is the better path to follow ... :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 00:55</div><div class="msg">@shane Speaking of stages and tasks, I'm having a problem with a custom Stage/Task as follows...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 00:56</div><div class="msg">I made a custom stage based on `prep-install` named `necla-prep-install` which is as follows:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 00:56</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F9Q60RWN6/necla-prep-install.txt">https://rackn.slack.com/files/U416T0AAX/F9Q60RWN6/necla-prep-install.txt</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 00:57</div><div class="msg">This uses the Task I named `totally-erase-sda` which is as follows:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 00:58</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F9R1HV37G/totally-erase-sda.txt">https://rackn.slack.com/files/U416T0AAX/F9R1HV37G/totally-erase-sda.txt</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 00:58</div><div class="msg">I wired the stage up in a stage-map in my profile as follows:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 00:59</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F9Q56J8J0/stage-map.txt">https://rackn.slack.com/files/U416T0AAX/F9Q56J8J0/stage-map.txt</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 01:01</div><div class="msg">So, as I understand it, this will boot SH, then execute the template script in the task called by the `necla-prep-install` stage, which should do the `dd` command which will zero out /dev/sda. After this completes, the system will reboot, and go into the Ubuntu 16.04 install.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 01:02</div><div class="msg">The systems calling the profile with the stage map are booting SH, but then nothing is executing (no `dd` is happening.) Why might this be?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 01:06</div><div class="msg">I should also mention that `necla-prep-install` is a modified clone of `prep-install`, and `totally-erase-sda` is a modified clone of `erase-hard-disks-for-os-install`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 01:08</div><div class="msg">The prior stage map was calling the `prep-install` Stage, which was successfully executing the template in `erase-hard-disks-for-os-install`, but the disk wipe was not sufficient, and the Ubuntu install thereafter was failing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 01:09</div><div class="msg">I have found that if I do a `dd if=/dev/zero of=/dev/sda bs=512` then all goes smoothly with the resulting install</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-15 02:23</div><div class="msg">not sure off the top of my head, I'm out at dinner right now - will look at this a little bit later</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 14:14</div><div class="msg">Mornin', DR folk!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 14:15</div><div class="msg">Any ideas on my problem above? ^^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-15 14:20</div><div class="msg">sorry - had client work I was dealing with didn't get a chance to look at it ... will try and take a peek soon</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-15 14:21</div><div class="msg">@shane Thx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 00:59</div><div class="msg">OK, I give up... Pretty sure it's not a DRP problem (except for the disk wiping issue not working as above) - dd'd the disks with zeros manually and the Ubuntu preseed still crapping out. Going to try MAAS and see if I have a different experience.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-16 01:04</div><div class="msg">I believe Ubuntu writes the partition tables in a way that is hard to undo.  Greg has had to fix it for other people.  I don't know the details.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 01:07</div><div class="msg">@zehicle Zeroing the disk should overwrite all of that, yes? I don't believe I ever ran into this problem though using Cobbler to reinstall previously-installed machines, and of course doing a manual install via USB on a previously-used disk work fine...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 01:08</div><div class="msg">It's just that I have machines to reinstall, and I can't get DRP to work reliably on used disks...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-16 01:24</div><div class="msg">There is data written in places you can't easily find.   Sorry I don't have the details.  It's a Ubuntu install issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-16 01:33</div><div class="msg">I'm not assuming that I google better than you -&gt; there's something about how the partition table is written.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-16 01:34</div><div class="msg">It took Greg a while to fix it before (I remember him describing it as "blah Ubuntu blah Drive Paritions blah install turds blah" so I know it's a thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-16 01:34</div><div class="msg">Greg never says turds, that's my color commentary</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/61119754a4243cf77768250a6fb6c84d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nkabir</div><div class="time">2018-03-16 02:12</div><div class="msg">@wdennis I am running Ubuntu 16.04 installs (and re-installs) on a set of machines to familiarize myself with the tool. I started with "discover (start) -&gt; prep-install (reboot) -&gt; ubuntu-16.04-install (reboot) -&gt; finish-install (reboot) -&gt; complete-nowait (success)" before venturing into custom stages.  To restart the process, I'm executing "# dd if=/dev/zero of=/dev/sda bs=1024 count=1", resetting the DRP Machine entry stage to "discover", and rebooting. It appears to re-install successfully.  Have you managed to get a stock life-cycle working? I've noticed it's easy for me to make typos in "shell + template" files. I started out with MAAS until I discovered DRP. I prefer DRP.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 13:53</div><div class="msg">@nkabir Yes, your workflow was just about exactly like mine -- but I find that `prep-install` doesn't do enough to clear the disk for re-use (I'm using LVM, and I'm pretty sure that's causing the issue.) I have done "stock" DRP-provided template installs, and they do work. But, I cannot stick with that due to my partitioning needs (as well as other preseed needed customizations.) I realize that RackN doesn't support debugging preseed problems, but I'm loosing too much time on this trying to figure it out myself... So I'm going to do a test using MAAS and see what my experience is there. Maybe I'll quickly come back to DRP :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-16 13:56</div><div class="msg">`prep-install` seems to work for many.  It would be good to see your workflow again @wdennis.  I?m out though and will get yelled at for this message.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 13:56</div><div class="msg">@greg - go back to your vacation</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 13:57</div><div class="msg">Wow, that didn't take long...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-16 13:58</div><div class="msg">@nkabir - I think you can remove the `prep-install(reboot)` with `prep-install(success)` - one less reboot that way.  `finish-install(reboot)` should be `finish-install(stop)`, but with the tip code base it will ?fix? it for you.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 14:45</div><div class="msg">hi guys i'm back. I had dr-provision working well with mellanox cards, but now on a machine with SolarFlare, I'm getting stuck.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 14:46</div><div class="msg">I have the option 67 override, which I needed for mellanox: `67: "{{if (eq (index . 77) \"iPXE\") }}default.ipxe{{else if (eq (index . 93) \"0\")}}ipxe.pxe{{else}}ipxe.efi{{end}}"`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 14:47</div><div class="msg">I have only serial console to the machine I'm trying to provision. the screen goes blank.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 14:47</div><div class="msg">i have a tcpdump on the drp box, and it shows tftp transfer of ipxe.pxe, then nothing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 14:53</div><div class="msg">Ah I got someone to take a pic of the screen. I have this, and it froze
```PXE-&gt;EB: !PXE at (AC0:0790, entry point at 9AC0:0248
  UNDI code segment 9AC0:0838, data segment 9B44:1c??
  UNDI device is PCI 06:00.0, type gPXE
  619kB free base memory after PXE unload
Oops! Unable to find realmode segment```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/61119754a4243cf77768250a6fb6c84d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nkabir</div><div class="time">2018-03-16 15:00</div><div class="msg">@greg Thank you. That will save me some time as I iterate through my set up! Now back to enjoying Mai Tais (or equivalent)! @wdennis I am using LVM on a single disk but I haven't ventured into customizing partitioning yet. My staging machines have a single boot disk (`/dev/sda`) and three additional disks that are configured for ZFS/RAIDZ by Ansible once the DRP provisioning sets up the single boot disk. Ansible handles the partitioning of ZFS. I just need the boot disk to host the OS.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:02</div><div class="msg">hm removing option 67 worked for this box.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:03</div><div class="msg">so hmm. lpxelinux.cfg freezes my mellanox box and ipxe.pxe freezes my solarflare box</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:03</div><div class="msg">that puts a skunk in the works</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 15:03</div><div class="msg">gotta love the PXE "_standards_" ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:03</div><div class="msg">do you have any tricks up your sleeve?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 15:04</div><div class="msg">@greg or @vlowther might have some iPXE script options to help - unfortunately, I'm not sure how to implement that right to work for both cards</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:09</div><div class="msg">What nic is in that solarflare box?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:10</div><div class="msg">solarflare is the nic</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:12</div><div class="msg">...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:12</div><div class="msg">Interesting.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:12</div><div class="msg">sorry, having trouble with copy/paste</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:12</div><div class="msg">Solarflare SFC9020</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:13</div><div class="msg">I see option 67 has template interpolation -- would we be able to switch on gohai inventory?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:13</div><div class="msg">I assume they work fine once we get booted into Sledgehammer?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:13</div><div class="msg">although that doesn't help for discovery</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:13</div><div class="msg">yup</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:14</div><div class="msg">Alas, the template interpolation that happens for option 67 only has access to the incoming DHCP packet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:16</div><div class="msg">hm.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:16</div><div class="msg">What firmware are those solarflare nics running?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:16</div><div class="msg">soo, we were pxe booting both types with our own pxelinux.0 via tftp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:17</div><div class="msg">maybe I can tweak option 67 to have it try pxelinux.0 instead of lpxelinux.0 / ipxe.pxe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:17</div><div class="msg">Trolling through the firmware release notes indicate that they have had a few firmware updatres to fix PXE related issues.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:18</div><div class="msg">trying to dig up the version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:18</div><div class="msg"><a href="https://support.solarflare.com/index.php/component/cognidox/?file=SF-107601-LS-53_Solarflare_Linux_Utilities_RPM_64bit.rl.txt&amp;task=download&amp;format=raw&amp;id=1945">https://support.solarflare.com/index.php/component/cognidox/?file=SF-107601-LS-53_Solarflare_Linux_Utilities_RPM_64bit.rl.txt&amp;task=download&amp;format=raw&amp;id=1945</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:18</div><div class="msg">release notes for their latrest utility bundle.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:19</div><div class="msg">It looks like they have use an embedded gPXE for their PXE booting needs.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:19</div><div class="msg">i have this so far, still trying</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:19</div><div class="msg">```Solarstorm Boot Manager (v3.2.0.6061)                                           
Solarflare Communications 2008-2010   
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:20</div><div class="msg">reading those release notes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:30</div><div class="msg">heh, later releases allow you to embed your own custom ipxe ROM image.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:30</div><div class="msg">COuld have all sorts of fun with that. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:32</div><div class="msg">ah trying to avoid that kind of fun for now :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:32</div><div class="msg">```    Firmware version:   v3.2.1
    Controller type:    Solarflare SFC9000 family
    Controller version: v3.2.0.6071
    Boot ROM version:   v3.2.0.6061
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:32</div><div class="msg">quite far behind</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:33</div><div class="msg">In the mean time, though, if you have a version of pxelinux and/or ipxe that work for both systems in question you could just chuck them into /var/lib/dr-provision/tftpboot and rewrite your option 67 to use them instead.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:35</div><div class="msg">ok thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:35</div><div class="msg">or...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:36</div><div class="msg">sorry, bad advice.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:38</div><div class="msg">Make /var/lib/dr-provision/replace. and name then the same as their respective files in /var/lib/dr-provision/tftpboot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:39</div><div class="msg">sorry, I am in the bad habit of just recompiling when I want to test different embedded assets</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:40</div><div class="msg">so mkdir /var/lib/dr-provision/replace; cp pxelinux.0 /var/lib/dr-provision/replace/mypxelinux.0, then change option 67 to send mypxelinux.0</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:41</div><div class="msg">no, I think it will have to be named lpxelinux.0</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:41</div><div class="msg">and you will need to include the related .c32 files for pxelinux</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:42</div><div class="msg">ipxe is easier because it will not try to load binary modules.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:42</div><div class="msg">but I bet you will need a firmware update to get ipxe working.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:44</div><div class="msg">oooh i c. so /var/lib/dr-provision/replace masks /var/lib/dr-provision/tftpboot?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:44</div><div class="msg">i'm bricking, er, working on upgrading the firmware</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:45</div><div class="msg">That is the idea, yes. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:46</div><div class="msg">does sledgehammer on serial console have password login?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:46</div><div class="msg">root/rebar1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:46</div><div class="msg">silly me did the firmware update over ssh and of course lost connection</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:46</div><div class="msg">omg thank you</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:49</div><div class="msg">YES! firmware update seems to have done it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 15:50</div><div class="msg">@vlowther thank you for heroic advice :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:50</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 15:51</div><div class="msg">And it looks like the latest firmware has a slew of fixes and enhancements over your older version.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/77970b432866f4e9e8cfaece1a30d97d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">mark.yeun</div><div class="time">2018-03-16 16:01</div><div class="msg">ok i'll come back again when I get stuck</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:02</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:04</div><div class="msg">@wdennis Is it still the --force --force --I-really-mean-it thing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:10</div><div class="msg">@nkabir our erase script is a little more paranoid than zeroing the first megabyte: <a href="https://github.com/digitalrebar/provision-content/blob/master/content/tasks/erase-hard-disks-for-os-install.yaml">https://github.com/digitalrebar/provision-content/blob/master/content/tasks/erase-hard-disks-for-os-install.yaml</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:10</div><div class="msg">we iterate over all the vgs, forcibly erase them, do the same for all the pvs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:11</div><div class="msg">then wipe out the first and last meg of every partition and raw block device.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:17</div><div class="msg">wat?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:21</div><div class="msg">You had a similar issue a few weeks ago where vgremove was failing because one --force was not enough.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:23</div><div class="msg">So my solution was to zeroize the entire disk via `dd if=/dev/zero of=/dev/sda bs=512`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:23</div><div class="msg">That should do the trick, right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:24</div><div class="msg">Yes, the main reason I don't want to do that by default is because it can take hours if (for example) you are zeroing a multi-terabyte drive.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:25</div><div class="msg">so I would prefer an approach that is a bit more targeted in what it erases</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:25</div><div class="msg">Except that it doesn't... The Ubuntu install I am trying to do afterwords still craps out...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:26</div><div class="msg">possibly with fixes to the seed files for Debianoids that tell the install to really ignore anything that might already be on the disk.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:26</div><div class="msg">Yes, I'd prefer a shorter wipe as well, but only if it works...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:26</div><div class="msg">but you know all about the lack of documentation there. :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:27</div><div class="msg">I was using your `prep-install` stage but was experiencing faults when the installer got to the partitioning step</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:28</div><div class="msg">The interesting thing is that a standard USB install (i.e. a regular ISO installer) doesn't complain about anything when you use a used disk</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:28</div><div class="msg">It just partitions however you told it to and moves on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:28</div><div class="msg">So it probably knows about seed options we don't</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:28</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:29</div><div class="msg">I need a specific partitioning to support how we want to configure the boot/root disk</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:30</div><div class="msg">It's basically:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:30</div><div class="msg">```
d-i partman-auto/expert_recipe string root_home_lvm :   \
    500 533 1024 free                                   \
    	$iflabel{ gpt } $reusemethod{ }                 \
    	method{ efi } format{ }                         \
    .                                                   \
    1024 1024 1024 ext2                                 \
        $primary{ } method{ format }                    \
        format{ } use_filesystem{ } filesystem{ ext2 }  \
        mountpoint{ /boot }                             \
    .                                                   \
    1 1073741824 -1 ext3                                \
        $defaultignore{ } method{ lvm }                 \
        vg_name{ vg00 }                                 \
    .                                                   \
    50% 20 100% linux-swap                              \
    	$lvmok{ }                                       \
    	lv_name{ lv_swap } in_vg{ vg00 }                   \
        method{ swap } format{ }                        \
    .                                                   \
    204800 204800 204800 ext4                           \
        $lvmok{ } in_vg{ vg00 }                         \
        lv_name{ lv_root } method{ format }             \
        format{ } use_filesystem{ } filesystem{ ext4 }  \
        mountpoint{ / }                                 \
    .                                                   \
    512000 512000 512000 ext4                           \
        $lvmok{ } in_vg{ vg00 }                         \
        lv_name{ lv_home } method{ format }             \
        format{ } use_filesystem{ } filesystem{ ext4 }  \
        mountpoint{ /home }                             \
    .
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:31</div><div class="msg">So it makes LV's for "/", swap and "/home"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:31</div><div class="msg">The idea is to make it partition any size of disk (we have very hetero hardware here...)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/05d2680c87ef51fbdbdf0c950b1381c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">tim_epkes</div><div class="time">2018-03-16 16:32</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:32</div><div class="msg">Basically make a reasonable-sized "/" LV, reasonable-sized swap LV, then all the rest of the VG space goes to the "/home" LV</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:34</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-03-16 16:35</div><div class="msg">it is finding the right partman-lvm and partman-md and other related options to make it really clear everything and not ask questions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:36</div><div class="msg">We need that because the researchers get local home dir's on the servers, and tend to pile lots of data in them... If "/home" was a part of the "/" LV, they run the OS partition out of space and crash the servers...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:36</div><div class="msg">It's *so* easy in feekin' kickstart... Preseed is so obtuse.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2018-03-16 16:37</div><div class="msg">But, the reseachers all want Ubuntu OS...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/19739b6692770cbf1bfe19d3a521c1f8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">gary.berger</div><div class="time">2018-03-16 16:51</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2018-03-16 16:51</div><div class="msg">@tim_epkes $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-16 16:51</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/05d2680c87ef51fbdbdf0c950b1381c6.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">tim_epkes</div><div class="time">2018-03-16 16:51</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ce8455282b01d0c869bf8823b659b4f9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">fpisupati</div><div class="time">2018-03-16 18:03</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/61119754a4243cf77768250a6fb6c84d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nkabir</div><div class="time">2018-03-16 18:06</div><div class="msg">@vlowther Yes. It's very thorough! I'm repeatedly cycling through the whole process in my staging environment to get more comfortable with the moving parts. I run your erase stage in my workflow. However, I only erase the first megabyte when I want a machine to return to discovery via PXE. Then the workflow takes over.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/61119754a4243cf77768250a6fb6c84d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">nkabir</div><div class="time">2018-03-16 18:12</div><div class="msg">@nkabir uploaded a file: <a href="https://rackn.slack.com/files/U8BTZ6HPT/F9RAUAV4J/-.sh">https://rackn.slack.com/files/U8BTZ6HPT/F9RAUAV4J/-.sh</a> and commented: @wdennis with your successful manual install, have you dumped the working machine's configuration and compared it with your DRP template?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-16 18:16</div><div class="msg">@fpisupati $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-16 18:16</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ce8455282b01d0c869bf8823b659b4f9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">fpisupati</div><div class="time">2018-03-16 19:15</div><div class="msg">thanks</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-16 19:35</div><div class="msg">@nkabir commented on @nkabir?s file <a href="https://rackn.slack.com/files/U8BTZ6HPT/F9RAUAV4J/-.sh">https://rackn.slack.com/files/U8BTZ6HPT/F9RAUAV4J/-.sh</a>: @wdennis You may also want to try wipefs <a href="https://www.cyberciti.biz/faq/howto-use-wipefs-to-wipe-a-signature-from-disk-on-linux/">https://www.cyberciti.biz/faq/howto-use-wipefs-to-wipe-a-signature-from-disk-on-linux/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2d274b96ea1d5c2a235db48dea6403b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">romain.lafontaine</div><div class="time">2018-03-16 20:25</div><div class="msg">Random/unrelated : Was browsing your website and found a nice pict of you @shane @zehicle @greg <a href="https://www.rackn.com/company/">https://www.rackn.com/company/</a> ^^ I felt it was worth to share with the community</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 20:26</div><div class="msg">LOL ... yeah, well @zehicle had a "wardrobe malfunction" and didn't end up wearing his kilt that day ... that's @vlowther in the middle, @greg on the right, and /me on the left ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a2d274b96ea1d5c2a235db48dea6403b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">romain.lafontaine</div><div class="time">2018-03-16 20:26</div><div class="msg">^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2018-03-16 20:27</div><div class="msg">These are unapproved marketing show uniforms :grinning:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 20:27</div><div class="msg">s/unapproved/maverick/g</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-16 20:28</div><div class="msg">The strange part is that the merely average guy is short.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-03-16 20:28</div><div class="msg">And comfortable</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f885f900956d5d1454b5aa8f33fd1ada.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">patrick.miller</div><div class="time">2018-03-16 21:16</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-03-16 21:17</div><div class="msg">@patrick.miller $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-16 21:17</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f885f900956d5d1454b5aa8f33fd1ada.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">patrick.miller</div><div class="time">2018-03-16 21:17</div><div class="msg">thanks zehicle</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 21:17</div><div class="msg">indeed, welcome, @patrick.miller :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f885f900956d5d1454b5aa8f33fd1ada.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">patrick.miller</div><div class="time">2018-03-16 21:18</div><div class="msg">how can I display the kickstart file for a machine?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 21:18</div><div class="msg">the rendered one - or the template that builds the final KS ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f885f900956d5d1454b5aa8f33fd1ada.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">patrick.miller</div><div class="time">2018-03-16 21:18</div><div class="msg">rendered</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 21:19</div><div class="msg"><a href="http://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html#render-a-kickstart-or-preseed">http://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html#render-a-kickstart-or-preseed</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f885f900956d5d1454b5aa8f33fd1ada.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">patrick.miller</div><div class="time">2018-03-16 21:19</div><div class="msg">excellent thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 21:19</div><div class="msg">there are a lot of nuggets in the $faq</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-16 21:19</div><div class="msg">FAQs are here &gt; <a href="http://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html">http://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 21:20</div><div class="msg">(oops, I need to update Slackbot responses to point to `tip` doc instead of `latest`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 21:21</div><div class="msg">ok - done:  $quickstart</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-16 21:21</div><div class="msg">QuickStart doc is here &gt; <a href="http://provision.readthedocs.io/en/tip/doc/quickstart.html">http://provision.readthedocs.io/en/tip/doc/quickstart.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 21:31</div><div class="msg">@patrick.miller in a short bit, the `tip` docs will update with some clean ups and enhancements to that Render doc - but the info is correct as you see it right now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 23:44</div><div class="msg">@wdennis - I got a chance to look at your Erase SDA issue ... the problem is you set `sane-exit-codes` - we expect appropriate Exit Codes to mark success.  However - our "insane" (aka older Exit Code definitions) also assume Exit Code of 0 (zero) for success.  The `dd` command will always exit with code ` 1 ` and message "out of disk space".  This causes the Agent/Runner to mark the job as failed, and your Workflow won't advance.  By explicitly setting an `exit 0` at the end of the scriptlet will fix your issue.   For reference, I am attaching a content pack that contains the testing I did.  

NOTE - I moved your scriptlet out of the payload of the Task, and in to a separate Template, as it makes it easier to extend/edit/track/modify, etc.   But the principle should be the same (I did not test using the scriptlet embedded in the task w/ a modified `exit 0`). 

I'm including 2 workflows - your original NECLA and a modified `rebar-prep` workflow that does the same thing, but uses the Digital Rebar/RackN `erase-hard-disks-for-os-install` Task.   If this needs modification to work right - we'd appreciate the feedback on what needs to change.  It's 1000x's of times faster than a pure-`dd` solution to bigger disks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-16 23:46</div><div class="msg">@shane uploaded a file: <a href="https://rackn.slack.com/files/U6QFVRJNB/F9REST4BE/NECLA_and_Rebar_wipe_prep_content_.yaml">https://rackn.slack.com/files/U6QFVRJNB/F9REST4BE/NECLA_and_Rebar_wipe_prep_content_.yaml</a> and commented: Use like regular content pack.  First delete your conflicting content with the same names.  Then:

`drpcli contents create -&lt; necla-and-rebar-prep.yaml`

Attach the appropriate Workflow stagemap to your machines, and boot as usual.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-17 01:29</div><div class="msg">@wdennis commented on @shane?s file <a href="https://rackn.slack.com/files/U6QFVRJNB/F9REST4BE/NECLA_and_Rebar_wipe_prep_content_.yaml">https://rackn.slack.com/files/U6QFVRJNB/F9REST4BE/NECLA_and_Rebar_wipe_prep_content_.yaml</a>: OK, thx @shane</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-17/331685872034_32edc48c71201f92c8f8_72.jpg" /><div class="message"><div class="username">scsikid</div><div class="time">2018-03-17 02:19</div><div class="msg">has joined #community201803</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-03-17 03:18</div><div class="msg">@scsikid $welcome !</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-03-17 03:18</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f885f900956d5d1454b5aa8f33fd1ada.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0009-72.png" /><div class="message"><div class="username">patrick.miller</div><div class="time">2018-03-17 03:39</div><div class="msg">ah ok thanks Shane.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-17/331685872034_32edc48c71201f92c8f8_72.jpg" /><div class="message"><div class="username">scsikid</div><div class="time">2018-03-17 17:16</div><div class="msg">thanks @shane</div></div></div><br/>
</div></body></html>