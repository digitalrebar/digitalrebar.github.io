<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 12:39</div><div class="msg">Still getting: 
Content Upload Failed: ValidationError
New layer violates key restrictions: keysCannotBeOverridden: runner.tmpl is already in layer 1 keysCannotBeOverridden: access-keys.sh.tmpl is already in layer 1 keysCannotBeOverridden: change-stage.sh.tmpl is already in layer 1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 12:41</div><div class="msg">when attempting to add os-discovery Content Package</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 12:41</div><div class="msg">catmini:CodeOps cat$ ./dr-provision --version
dr-provision2017/11/01 12:39:56.773713 Version: v3.1.0-tip-191-7fa9a4ded571250028c61003687bd672d386910d</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-01 13:30</div><div class="msg"><!channel> If anyone is going to (or already at) LISA?17 in San Fran, @ me and let?s meet up</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-01 13:30</div><div class="msg">Be there this afternoon, leaving Fri AM</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2017-11-01 14:29</div><div class="msg">@wdennis @shane I think Shane was going to try and stop by but I think it is doing a 2nd event as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 14:38</div><div class="msg">@lae - let?s work through your remaining issue and button things up.  Something like this local-security-repo true/false.  If true don?t add the security repo lines.  If false or not present, put the security line in place?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 15:23</div><div class="msg">@greg I would be if we had that change since all of my other needed changes are in community content now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 15:23</div><div class="msg">hm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 15:23</div><div class="msg">okay - the question is: is what I described sufficient?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 15:23</div><div class="msg">yeah, I think so</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 15:30</div><div class="msg">okay pushed something - testing now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 15:50</div><div class="msg">That worked.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 15:50</div><div class="msg">@lae - review the last comment when you can.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-01 16:11</div><div class="msg">@wdennis <!channel> - I'll be at LISA today - around Noon through the rest of the day if anyone cares to meet and discuss DRP ...etc... :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 16:40</div><div class="msg">@greg ah sorry, I think I misunderstood and thought you meant the same way you implemented usage of the `local-repo` variable (because of the `if eq (.Param "local-repo") true` line). I want to be able to set `local-security-repo` to a local mirror of a security repository, if possible</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 16:41</div><div class="msg">I'm still waking up apparently</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 16:43</div><div class="msg">So a string</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 16:46</div><div class="msg">okay - I think I get it now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 16:48</div><div class="msg">mhm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 16:49</div><div class="msg">like this:
```
{{if .ParamExists "local-security-repo" -}}
d-i apt-setup/security_host string {{.ParseUrl "host" (.Param "local-security-repo")}}
d-i apt-setup/security_path string {{.ParseUrl "path" (.Param "local-security-repo")}}
{{else -}}
{{if (eq "debian" .Env.OS.Family) -}}
d-i apt-setup/security_host string <a href="http://security.debian.org">http://security.debian.org</a>
{{else -}}
d-i apt-setup/security_host string <a href="http://archive.ubuntu.com">http://archive.ubuntu.com</a>
d-i apt-setup/security_path string /ubuntu
{{end -}}
{{end -}}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 16:56</div><div class="msg">does security_path error on debian or will it just ignore it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:01</div><div class="msg">So does anyone know why I can't load a content package (even when I've log into the rackn beta)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:01</div><div class="msg">not sure - but can preface it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:01</div><div class="msg">Yeah - sorry - I forgot @ctrees.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:01</div><div class="msg">Can you send me:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:01</div><div class="msg">```drpcli contents list | jq .[].Name```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:02</div><div class="msg">@lae ```
{{if .ParamExists "local-security-repo" -}}
{{if (eq "debian" .Env.OS.Family) -}}
d-i apt-setup/security_host string {{.ParseUrl "host" (.Param "local-security-repo")}}
{{else -}}
d-i apt-setup/security_host string {{.ParseUrl "host" (.Param "local-security-repo")}}
d-i apt-setup/security_path string {{.ParseUrl "path" (.Param "local-security-repo")}}
{{end -}}
{{else -}}
{{if (eq "debian" .Env.OS.Family) -}}
d-i apt-setup/security_host string <a href="http://security.debian.org">http://security.debian.org</a>
{{else -}}
d-i apt-setup/security_host string <a href="http://archive.ubuntu.com">http://archive.ubuntu.com</a>
d-i apt-setup/security_path string /ubuntu
{{end -}}
{{end -}}```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:02</div><div class="msg">catmini:CodeOps cat$ ./drpcli contents list | jq .[].Name
null
null
null
catmini:CodeOps cat$</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:02</div><div class="msg">oops</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:03</div><div class="msg">```drpcli contents list | jq .[].meta.Name```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:03</div><div class="msg">catmini:CodeOps cat$ ./drpcli contents list | jq .[].meta.Name
"BackingStore"
"drp-community-content"
"BasicStore"
catmini:CodeOps cat$</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:04</div><div class="msg">@ctrees you are trying to update the content with the update button?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:04</div><div class="msg">I did try that...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:04</div><div class="msg">Just wanting to make sure where the error is coming from</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 17:04</div><div class="msg">@greg might want to use the Param as-is for debian, since it supports a string with a path</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 17:05</div><div class="msg">so no ParseUrl</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:05</div><div class="msg">okay - From the UX while logged in to both saas and DRP @ctrees</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:05</div><div class="msg">remove the `drp-community-content`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:05</div><div class="msg">then add it back.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:06</div><div class="msg">ok..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:07</div><div class="msg">Ok... removed, Added back, then attempted to add os-discovery and got the Content Upload Failed: ValidationError</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:09</div><div class="msg">Content Upload Failed: ValidationError
New layer violates key restrictions: keysCannotBeOverridden: change-stage/map is already in layer 1 keysCannotBeOverridden: gohai-inventory is already in layer 1 keysCannotBeOverridden: kernel-console is already in layer 1 keysCannotBeOverridden: access-keys is already in layer 1 keysCannotBeOverridden: access-ssh-root-mode is already in layer 1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:10</div><div class="msg">[GIN] 2017/11/01 - 12:08:37 | 200 |      28.719µs |   192.168.1.200 | OPTIONS  /api/v3/contents
[GIN] 2017/11/01 - 12:08:37 | 200 |    1.343583ms |   192.168.1.200 | GET      /api/v3/contents
[GIN] 2017/11/01 - 12:08:48 | 200 |      12.763µs |   192.168.1.200 | OPTIONS  /api/v3/contents?version=tip
[GIN] 2017/11/01 - 12:08:49 | 422 |  173.273486ms |   192.168.1.200 | POST     /api/v3/contents?version=tip</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:13</div><div class="msg">can you send me: ```drpcli stages list | jq .[].Name```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:13</div><div class="msg">@lae - ```{{if .ParamExists "local-security-repo" -}}
{{if (eq "debian" .Env.OS.Family) -}}
d-i apt-setup/security_host string {{.Param "local-security-repo"}}
{{else -}}
d-i apt-setup/security_host string {{.ParseUrl "host" (.Param "local-security-repo")}}
d-i apt-setup/security_path string {{.ParseUrl "path" (.Param "local-security-repo")}}
{{end -}}
{{else -}}
{{if .ParamExists "local-repo" -}}
{{if eq (.Param "local-repo") true -}}
# Use local-repo and !local-security-repo - no security to specify
{{else -}}
{{if (eq "debian" .Env.OS.Family) -}}
d-i apt-setup/security_host string <a href="http://security.debian.org">http://security.debian.org</a>
{{else -}}
d-i apt-setup/security_host string <a href="http://archive.ubuntu.com">http://archive.ubuntu.com</a>
d-i apt-setup/security_path string /ubuntu
{{end -}}
{{end -}}
{{end -}}
{{end -}}```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:14</div><div class="msg">@ctrees - tip may have leaked out.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:15</div><div class="msg">You may not need os-discovery.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-01 17:17</div><div class="msg">@greg - remove the 'local' and that other file ??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-01 17:17</div><div class="msg">not looking at a working drp right now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:18</div><div class="msg">well - I think our SaaS got a dev update that I?m working on and it is getting in the way.  I suspect travis/SaaS interaction is a little funky.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:18</div><div class="msg">I?m about to push this all anyway and document a procedure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:18</div><div class="msg">@ctrees may be starting it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:18</div><div class="msg">yea I remember you telling wdennis that os-discovery was going into core ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:18</div><div class="msg">I suspect that @ctrees doesn?t need os-discovery and os-linux anymore.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:18</div><div class="msg">me too...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:19</div><div class="msg">```drpcli stages list | jq .[].Name```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:19</div><div class="msg">will probably show lots of stages</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:19</div><div class="msg">The next step will be to convert the defaults to from ce-* to *</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:20</div><div class="msg">and check machines stages and bootenvs to make sure they are converted over.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:21</div><div class="msg">@ctrees suspects @ctrees issue is just as the tip and content packages ... should I just wait for @greg merge fix'n</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 17:22</div><div class="msg">I'm not really in a rush.... but willing to test things... just let me know... I'll go learn more of the drcli commands</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 17:23</div><div class="msg">@greg lgtm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:23</div><div class="msg">@lae - thanks.  testing the not specified path .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:24</div><div class="msg">@ctrees - hopefully a few hours and I?ll make a consistent tip step.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 17:37</div><div class="msg">Oh yeah, I just remembered (while cleaning up our content to be fireeye-only) the other part to the `part-scheme` feature I wanted to implement - have the part-scheme templates be usable on both centos/debian (so checks included for OS family). Is it alright if I push some changes for that? (not urgent since we're not doing any centos installs anytime soon, I don't think)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:37</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 17:37</div><div class="msg">That sounds good</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 20:17</div><div class="msg">@greg are you working on documentation to build content? or is it possible it's been done already (haven't looked into building drbundle yet)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:18</div><div class="msg">That is on the list but not done or really started.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:19</div><div class="msg">drbundler allows you to do this:
```
go get -u <a href="http://github.com/digitalrebar/provision/cmds/drbundler">http://github.com/digitalrebar/provision/cmds/drbundler</a>
PATH=$PATH:$GOPATH/bin
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:20</div><div class="msg">in a go1.9 build environment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:20</div><div class="msg">```drbundler &lt;directory&gt; &lt;yaml file&gt;```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:21</div><div class="msg">the directory is a digitalrebar/store in directory format.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:21</div><div class="msg">That bundles it up into a digitalrebar/store file format.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:21</div><div class="msg">The content API uses the file format as the transport form</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-01 20:22</div><div class="msg">@lae - that's on my plate - I'm working on documentation updates, but haven't gotten to building custom content yet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:23</div><div class="msg">You can also bundle with drpcli.  You would cd into the directory, run `drpcli contents bundle ../file.yaml --format=yaml`.  It will produce the same thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 20:33</div><div class="msg">it looked like for the `provision-content` repo you had a drp-community-content.yml file but I'm not sure what the contents of that should be</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:34</div><div class="msg">So in tip, there are now two directories.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:34</div><div class="msg">content and contrib - one for each of the two content bundles.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 20:34</div><div class="msg">mhm, realised that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-01 20:34</div><div class="msg">(just reading through package.sh)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:48</div><div class="msg"><!channel> - TIP UPDATE - all components have been update and should be updated as a set (really).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:48</div><div class="msg">To update to tip, you should do so in the following order.  More specific steps for each will follow.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:49</div><div class="msg">1. Update DRP to tip
2. Remove Old Content
3. Update Add Content
4. Update plugins
5. Fix up things</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:49</div><div class="msg">Okay so the first step - updating DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:49</div><div class="msg">If you are running isolated, I do this: ```curl -fsSL <a href="https://raw.githubusercontent.com/digitalrebar/provision/tip/tools/install.sh">https://raw.githubusercontent.com/digitalrebar/provision/tip/tools/install.sh</a> | bash -s -- --isolated install --drp-version=tip --force```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:50</div><div class="msg">This will force the update of the local binaries to tip.  Make sure you stop drp.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:50</div><div class="msg">You can do this for provision as well.  If you modified your service file, you should check to make sure that it is still valid.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:50</div><div class="msg">Restart drp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:51</div><div class="msg">Don?t forget to copy `drpcli` to where you put to make it always available.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:51</div><div class="msg">Second Step - Remove old content</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:52</div><div class="msg">With the rework of content, you need to remove the following content packages.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:52</div><div class="msg">os-linux</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:52</div><div class="msg">os-discovery</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:52</div><div class="msg">drp-community-content (if you are really behind, Digital Rebar Community Content).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:53</div><div class="msg">ipmi</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:53</div><div class="msg">packet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:53</div><div class="msg">virtualbox</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:53</div><div class="msg">Ensure those are gone.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:54</div><div class="msg">Third Step- Put the content back.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:54</div><div class="msg">drp-community-content - it is a must just get it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:54</div><div class="msg">task-library - New RackN library of services for doing interesting things.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:55</div><div class="msg">drp-community-contrib - this is old or experimental things like centos6 or SL6.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:55</div><div class="msg">Step Four - update the plugins.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:55</div><div class="msg">If you have any plugins installed, update them now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:57</div><div class="msg">To facilitate version tracking, plugins provide their own content as a injected content from the plugin.  When the plugin is added, it will also add a content layer that will show up in the content packages section.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:57</div><div class="msg">Step Five - fix things up.  This is mainly if you were using the ce-* version of things.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:58</div><div class="msg">AND making sure all the bootenvs are up to date.  This is a task you should always do after updating content.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:58</div><div class="msg">Go to BootEnvs and make sure that discovery, sledgehammer, and your OS install images are still good.  These could have updated and new ISOs need to be downloaded.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:58</div><div class="msg">Fix those.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:59</div><div class="msg">Then go to Info and preferences and make sure your default stage and bootenvs are still valid.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 20:59</div><div class="msg">this is where `ce-sledgehammer` become `sledgehammer` and `ce-discovery` becomes `discovery`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:00</div><div class="msg">The same with `ce-ubuntu-16.04-install` becomes `ubuntu-16.04-install`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:00</div><div class="msg">The same with `ce-centos-7.4.1708-install` becomes `centos-7-install`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:05</div><div class="msg">I'm up to step 5, so far so good (loading iso now)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:06</div><div class="msg">Cool! One last thing.  Make sure your machine?s stages and bootenvs are valid and update them if not.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:07</div><div class="msg">will do... I'm doing before and after screen shots too... in hopes that I don't need them :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:09</div><div class="msg">I was attempting to figure out how to do the content package remove and update via command line... but seems the gui is involved in gen of tokens ... so used GUI</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:16</div><div class="msg">well the GUI (or UX as we call it) has the login access to the SaaS to get the content.  You can use the cli if you have the yaml files locally.  We don?t have a way for you to get this outside of the UX yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:16</div><div class="msg">The content flow is:
SaaS -&gt; UX -&gt; DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:16</div><div class="msg">where the UX acts a bridge between the two systems.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-01 21:28</div><div class="msg">@ctrees - you can do via CLI - it's just not "very pretty" yet, since we don't have the `drpcli` binary baked w/ the content download pieces yet</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-01 21:28</div><div class="msg">```drpcli contents list   # see all contents
drpcli contents list | jq -r '.[].meta.Name'  # get raw output of just the content packs
drpcli contents destroy &lt;name&gt;   # remove content
# go to RackN UX - log in, go to Hamburger menu (upper left, 3 horizontal lines)
# go to Organization - User Profile - copy your UUID for Unique User Identity
export RACKN_AUTH="?username=&lt;UUID_Unique_User_Identity&gt;"
export CATALOG="<a href="https://qww9e4paf1.execute-api.us-west-2.amazonaws.com/main/catalog">https://qww9e4paf1.execute-api.us-west-2.amazonaws.com/main/catalog</a>"
curl -s $CATALOG/content/&lt;content_name&gt;${RACKN_AUTH} -o &lt;content_name&gt;.json
drpcli contents create -&lt; &lt;content_name&gt;.json

# same steps for Plugins - but replace "content_name" with "plugin_name"
# change "contents" commands to "plugin_provider"```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-01 21:30</div><div class="msg">you can (obviously) chuck the output  of the `contents list` and `jq` filter command in to a loop to vaguely automate destroy/curl/create operations</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:31</div><div class="msg">So I was having an issue with sledgehammer coming up as a stage... but I only loaded :
drp-community-content(tip) and task-library(tip)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:31</div><div class="msg">`sledgehammer` should be in `drp-community-content`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:33</div><div class="msg">ok... I see it there... so should it show up in the Pref dropdown ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:33</div><div class="msg">and in stages, it an X</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:34</div><div class="msg">if it is available.  You have to check the bootenv and the stages.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:34</div><div class="msg">if you open it, it should tell you what the error is.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:34</div><div class="msg">it's in bootenv... checking status</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:34</div><div class="msg">iso upload and explode is now async.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:35</div><div class="msg">So you may need to refresh the screen to see if it finished.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:39</div><div class="msg">how long should I wait after iso upload for it to explode ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:40</div><div class="msg">It's in bootenv, but not in Stages</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:41</div><div class="msg">I've logged out and back in... and hit page refresh and Refresh button in Stages</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:41</div><div class="msg">Could take awhile, but not too long. 10 minutes at most.  - oh wait.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:41</div><div class="msg">did you do ```drpcli bootenvs uploadiso sledgehammer```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:41</div><div class="msg">That will do the magjc for you. or most of it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:41</div><div class="msg">I need to run.  I?ll be on later.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:42</div><div class="msg">catmini:CodeOps cat$ ./dr-provision --version
dr-provision2017/11/01 20:54:11.070347 Version: v3.1.0-tip-193-12226aa05308b164a18f164546146eac7c549986
catmini:CodeOps cat$ ./drpcli bootenvs uploadiso sledgehammer
catmini:CodeOps cat$ ./drpcli bootenvs uploadiso centos-7-install
catmini:CodeOps cat$ ./drpcli bootenvs uploadiso ubuntu-16.04-install
catmini:CodeOps cat$</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:43</div><div class="msg">```drpcli bootenvs show sledgehammer```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-01 21:43</div><div class="msg">That should show what it things the errors are</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:49</div><div class="msg">catmini:CodeOps cat$ ./drpcli bootenvs show sledgehammer
{
  "Available": true,
  "BootParams": "rootflags=loop root=live:/sledgehammer.iso rootfstype=auto ro liveimg rd_NO_LUKS rd_NO_MD rd_NO_DM provisioner.web={{.ProvisionerURL}} rs.uuid={{.Machine.UUID}} rs.api={{.ApiURL}} -- {{if .ParamExists \"kernel-console\"}}{{.Param \"kernel-console\"}}{{end}}",
  "Description": "Ram-Only image loaded with tools to allow for discovery and maintenance",
  "Errors": [],
  "Initrds": [
    "stage1.img"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:49</div><div class="msg">seems fine...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:50</div><div class="msg">Boot Environments - sledgehammer (click on it) looks fine...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 21:52</div><div class="msg">Stages - discover - Error: Stage discover wants BootEnv sledgehammer, which is not available</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 22:10</div><div class="msg">So.... reboot of server fixed it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 22:15</div><div class="msg">and I THINK I'm getting your overall pattern... saas &lt;file.yml&gt; loads lots of defaults WHICH then drp-data content can 'update'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 22:44</div><div class="msg">ohh... pretty new workflow icons</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 22:53</div><div class="msg">So... I got a VBox to start to boot... then it failed to load stage2.img</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 22:55</div><div class="msg">@ctrees uploaded a file: <a href="https://rackn.slack.com/files/U62R1805P/F7TG0BJPM/stage2_loadfail.png">https://rackn.slack.com/files/U62R1805P/F7TG0BJPM/stage2_loadfail.png</a> and commented: VBOX pxe to endpoint 192.168.1.200 from 192.168.33.10 via host vboxnet0 192.168.33.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 22:59</div><div class="msg">I'm sending broadcast to 192.168.33.1 (vboxnet0) ... route ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 23:00</div><div class="msg">@ctrees uploaded a file: <a href="https://rackn.slack.com/files/U62R1805P/F7T34CTU1/stage2_loadfail_netstat.png">https://rackn.slack.com/files/U62R1805P/F7T34CTU1/stage2_loadfail_netstat.png</a> and commented: netstat -nr on mac hosting endpoint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-01 23:33</div><div class="msg">I started drp up on the 'fake' vboxnet0 IP 192.168.33.1 and it was able to register... I guess I'll ask in the AM how you guys suggest a dev laptop setup...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 00:54</div><div class="msg">```
Nov 02 00:50:43 labs-provision dr-provision[26688]: dr-provision2017/11/02 00:50:43.588393 Static FS: Failed to render template for /machines/c25b7315-3d50-4134-9074-5cda9abaeee5/seed: template: :589:5: executing "net-seed.tmpl" at &lt;eq (.Param "local-re...&gt;: error calling eq: incompatible types for comparison
```
@greg okay so I realised I made a grave assumption of what `local-repo` had meant, didn't realise it was specifically a boolean to configure the installer to use a repo from the exploded ISO until now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 00:56</div><div class="msg">gotta go now but basically I have a need to use a locally hosted mirror for debian/ubuntu/centos</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 01:13</div><div class="msg">@lae I was waiting for this.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 01:14</div><div class="msg">@lae we can work on a change.   I?m in favor of it.  We need a better way.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 15:20</div><div class="msg">@greg I'm thinking about this more throughly --
centos/rhel "primary" mirror is specified by `url --url`, debian/ubuntu by `mirror/http`
centos extra repos/mirrors specified by `repo--name=X --baseurl=X` and debian/ubuntu by `apt-setup/local#/repository $mirror $dists` with optional comment/deb-src toggle/URL to key
I can use profiles to specify mirrors for different stages (so diff for ubuntu/deb/cent), so maybe a single `mirrors` array of objects parameter could work here? would it be doable to filter out something like a "primary" mirror for all dists and a "security" mirror for deb/ubuntu based on a child parameter?
e.g.
```
mirrors:
  - name: main
    url: <a href="http://packages.local/debian">http://packages.local/debian</a>
    dist: stretch main
    install_mirror: true
  - name: updates
    url: <a href="http://packages.local/debian">http://packages.local/debian</a>
    dist: stretch-updates main
  - name: security
    url: <a href="http://packages.local/debian-security">http://packages.local/debian-security</a>
    dist: stretch/updates main
    security_mirror: true
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 15:54</div><div class="msg">@lae, I need to think about this a little bit more.  I like where this is going.  You can then do profile specification of secondary.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 15:55</div><div class="msg">I?d add a type in the field, primary, secondary, security.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 15:56</div><div class="msg">maybe - thinking - need to look at a couple of other things first.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 15:58</div><div class="msg">nvm - no type</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 15:58</div><div class="msg">you have it in `install_mirror` and `security_mirror`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 15:59</div><div class="msg">@lae On the mirrors thing -- do you mostly care about the repos used during the OS install process, or the ones used afterwards?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 15:59</div><div class="msg">both</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:00</div><div class="msg">because one of the things I have been kicking around is how to reduce the amount of information we need to make a given bootenv work down to just needing the kernel/initrd pair</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:00</div><div class="msg">while I *could* just configure them with ansible afterwards, we've just been using preseed/kickstart to configure them for quite a while</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:00</div><div class="msg">the mirrors var would be optional, though?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:02</div><div class="msg">I have been reluctant to use distro mirroring schemes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:02</div><div class="msg">as it makes fully offline deploys much trickier.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:02</div><div class="msg">what do you mean?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-02 16:03</div><div class="msg">whe core become private? i have not access on that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:04</div><div class="msg">If I want to run DRP in an environment where I do not have Internet access at all, I cannot rely on whatever default lists of mirrors to try for distro ops.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:05</div><div class="msg">that's...true but that's not my use case</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:05</div><div class="msg">we have local mirrors within our own network</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:06</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:06</div><div class="msg">What I did for DRv2 was to provide in overarching "repos to use" list: <a href="https://github.com/digitalrebar/digitalrebar/blob/master/core/barclamps/rebar.yml#L157">https://github.com/digitalrebar/digitalrebar/blob/master/core/barclamps/rebar.yml#L157</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:08</div><div class="msg">and a dedicated role for messing with package sources on a target node: <a href="https://github.com/digitalrebar/digitalrebar/blob/master/core/script/roles/rebar-package-sources/01-config-packages-sources.sh">https://github.com/digitalrebar/digitalrebar/blob/master/core/script/roles/rebar-package-sources/01-config-packages-sources.sh</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:08</div><div class="msg">Would they meet your needs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:09</div><div class="msg">They do not solve the current requirement that DRP needs its own local mirror for OS installation purposes, but that would be a seperate step.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:10</div><div class="msg">yeah, that wouldn't</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:11</div><div class="msg">I also don't need to introduce DR in our environment, it'll just cause information overload for people on my team without much benefit over our existing infra</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:11</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:12</div><div class="msg">our environment also doesn't have that large of a pipe to the Internet, so for deployments of 5 nodes installing using Internet-hosted repos takes a pretty long time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:12</div><div class="msg">I was asking of porting those roles over to DRP tasks would be sufficient</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:12</div><div class="msg">and the debian bootenv I don't believe has a fully usable "local-repo" as it currently is specified (using the mini iso)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:13</div><div class="msg">oh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:13</div><div class="msg">ya, the Debian bootenvs were more an exercise in minimalism than anything else.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 16:13</div><div class="msg">Yeah, that would probably work then, but I would still need to be able to specify a repo for installation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:14</div><div class="msg">Swalling out the netinstall isos for a more full-featured iso should work with minimal tweaks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:14</div><div class="msg">er, swapping</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 16:17</div><div class="msg">Okay - so there are two problems.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 16:17</div><div class="msg">1. installation repo specification.  We want to values for that: exploded iso in drp, and user specified URL.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 16:18</div><div class="msg">2. Post-install repos - We want those done in post-install (kickstart,preseed) step.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 16:19</div><div class="msg">Porting DR code as a task/parameter/stage would take care of #2.  The specification structure may want to be simplified if possible.  The task should be able to run in both the ks/seed env and post install, but that is more a goal.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 16:20</div><div class="msg">With regard to #1, the current local-repo isn?t sufficient - it only points at the exploded ISOs repos.  A specifier needs to be used.  If it could use the same spec as #1 that would work.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:23</div><div class="msg">ya -- in addition to #1, we would need a codepath for taking care of kernel and initrd handling.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 16:31</div><div class="msg">This last one would be for handling not exploding isos at all and just referencing kernel/initrd images only.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:37</div><div class="msg">hm... I had forgotten how annyoing the whole security repo vs. non security repo things is for Debianoids</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:43</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:43</div><div class="msg">so how about this as a strategy</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:44</div><div class="msg">The stuff I currently use for DRv2 is not really suited to the OS installation phase</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:44</div><div class="msg">because it is based around working with file snippets, not raw repo information</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:45</div><div class="msg">So instead, we have a two-part solution.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:46</div><div class="msg">1: A parameter that defines repo information in as OS agnostic fashion as we can reasonably define</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:46</div><div class="msg">something along the lines of whgat you described upstream, lae</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:47</div><div class="msg">The second part is code baked into DRP that knows how to take repos defined in that parameter and expand them in the context of a target OS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:49</div><div class="msg">so that we can get repo definitions approprieate for writing to /etc/sources.list, etc/yum.repos.d, preseed lines, or kickstart lines</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:53</div><div class="msg">The goal is to have somehting like this: {{range .ReposFor "target-os"}} {{ .Repo "desired-format" . }} {{ end }}</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 16:54</div><div class="msg">and have that sequence spit out the repo information for the OS we want and in the format we want.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:01</div><div class="msg">We already have a defined place in our template rendering functions to plug helpers like this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:01</div><div class="msg">and getting this into DRP is a matter of porting some code I have aying around in some older versions of DRv2.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-02 17:02</div><div class="msg">@vlowther do you already have something that can take an abstract "this repo info" and produces all of that apt/yum/ks/seed elements appropriately ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-02 17:03</div><div class="msg">that's not too hard to do - just an annoying exercise ... :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:04</div><div class="msg">I have written code to to that in at least 2 languages so far.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:04</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:12</div><div class="msg">haha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:31</div><div class="msg">One of which was some gnarly bash.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:36</div><div class="msg">@lae That sound like a reasonable path forward?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:38</div><div class="msg">Yeah, that does</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:40</div><div class="msg">does feel like it's somewhat trespassing boundaries of what DRP the binary should do vs what templates should do, but I don't really have a strong opinion on that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:45</div><div class="msg">Eh, I tend to err on the side of making the templates easier to write and read</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:46</div><div class="msg">and the current solution does not make them easy to read.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:46</div><div class="msg">and since DRP is the thing doing the template expansion...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:46</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:47</div><div class="msg">yeah, I can see this getting out of hand if it was just done through templates only with current DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:47</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:47</div><div class="msg">the local-repo/local-security-repo thing took a bit of wrapping my head around</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:47</div><div class="msg">I will get started on the DRP side of this path.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:48</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 17:48</div><div class="msg">Should have something to review in a day or so.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:50</div><div class="msg">is drpcli machines processjobs supposed to exit?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:51</div><div class="msg">it seems to process through all of the tasks for the debian-9-install stage but...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:52</div><div class="msg">I tried unsetting change-stage/map, then creating a new one with debian-9-install ? complete though it seems to still get stuck</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:53</div><div class="msg">setting the stage manually to `none` for the machine externally seems to let it proceed fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-02 17:53</div><div class="msg">@lae - set it to complete-nowait:Success</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 17:53</div><div class="msg">ah the nowait one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-02 18:26</div><div class="msg">I need to document the use of the stages.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 20:52</div><div class="msg">OK, after some more hacking and research, here is what I propose for a package-repositories parameter:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 20:53</div><div class="msg">- name: "centos-7 install"
      os: "centos-7"
      # If installSource is true, then the URL points directly
      # to the location we should use for all OS install purposes
      # save for fetching kernel/initrd pairs from (for now, we will
      # still assume that they will live on the DRP server).
      # The os field must be an exact match for the bootenv's OS.Name field.
      installSource: true
      # For redhat-ish distros, this URL contains distro,
      # component, and arch components, and as such
      # they do not need to be further specified
      url: "<a href="http://mirrors.kernel.org/centos/7/os/x86_64">http://mirrors.kernel.org/centos/7/os/x86_64</a>"
    - name: "centos-7 everything"
      # Since installSource is not true here,
      # we can define several package sources at once by
      # providing a distribution and a components section,
      # and having the URL point at the top-level directory
      # where everything is housed
      os: centos-7
      url: "<a href="http://mirrors.kernel.org/centos">http://mirrors.kernel.org/centos</a>"
      distribution: "7"
      components:
        - atomic
        - centosplus
        - cloud
        - configmanagement
        - cr
        - dotnet
        - extras
        - fasttrack
        - opstools
        - os
        - paas
        - rt
        - sclo
        - storage
        - updates
    - name: "debian-9 install"
      os: "debian-9"
      installSource: true
      # Debian URLs always follow the same rules, no matter
      # whether the OS install flag is set.  As such,
      # you must always also specify the distribution and
      # at least the main component, although you can also
      # specify other components.
      url: "<a href="http://mirrors.kernel.org/debian">http://mirrors.kernel.org/debian</a>"
      distribution: stretch
      components:
        - main
        - contrib
        - non-free
    - name: "debian-9 backports"
      os: "debian-9"
      url: "<a href="http://mirrors.kernel.org/debian">http://mirrors.kernel.org/debian</a>"
      distribution: stretch-updates
      components:
        - main
        - contrib
        - non-free
    - name: "debian-9 security updates"
      os: "debian-9"
      url: "<a href="http://security.debian.org/debian-security/">http://security.debian.org/debian-security/</a>"
      securitySource: true
      distribution: stretch/updates
      components:
        - contrib
        - main
        - non-free</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 20:53</div><div class="msg">(sorry for the spam, but it includes comments!)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-02 20:55</div><div class="msg">oye @vlowther!  use a "text snippet" for that length of paste, please :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 21:04</div><div class="msg">As a matter of policy, I only do that when Slack tells me to, :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 21:10</div><div class="msg">@lae That look sane to you?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-02 21:12</div><div class="msg">well the nice thing about text snippets is it'll also do color context highlighting which makes it a LOT easier to read</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 21:39</div><div class="msg">^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 21:43</div><div class="msg">@vlowther how do you specify arch for centos?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 21:45</div><div class="msg">Right now I am going to let it autodetect.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 21:46</div><div class="msg">through DRP?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 21:46</div><div class="msg">ya, based on whatever arch the node we are installing is.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 21:47</div><div class="msg">For Centos7 this will be pretty easy. :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 21:50</div><div class="msg">and for all yum-like repo formats it boils down to just using $basearch in the URL line for the individual repo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 21:51</div><div class="msg">The .Repo template function will be responsible for building the urls appropriately for known operating system types.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 21:52</div><div class="msg">I plan on supporting RPM distros that use yum style .repo files and deb sitros that use apt initally.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 21:53</div><div class="msg">Weirder stuff can be added on an as-needed basis.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-02 21:54</div><div class="msg">much as I like my arch linux install and pacman for package management, it doesn't exactly have a large marketshare or a decent way of doing unattended installs. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 22:09</div><div class="msg">ah right forgot about $basearch</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-02 22:10</div><div class="msg">also yeah, unattended installs of arch :joy:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-03 00:02</div><div class="msg">```
Starting Task: change-stage (8af3d3ff-4bc8-4abe-b369-944fe82a16ea)
Running Task Template: change-stage.sh.tmpl
Command change-stage.sh.tmpl failed to start: fork/exec ./script: no such file or directory
Task Template , change-stage.sh.tmpl, failed
Task: change-stage failed
```
woops</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-03 00:03</div><div class="msg">(no bash on this installer)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-03 00:34</div><div class="msg">(i'm trying a statically compiled bash aaand it turns out the kernel on this is 32 bit woops)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-03 00:39</div><div class="msg">I have a pending change scheduled to make change-stage part of the runner.  IT will avoid this problem.  Not there yet though.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-03 00:41</div><div class="msg">ok atm I guess I'm making a smaller task just to run drpcli to change stage to complete-nowait for these particular images</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-03 13:57</div><div class="msg">@lae no bash?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-03 13:57</div><div class="msg">Heresy.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-03 18:16</div><div class="msg">Just listened to @zehicle and @wdennis youtube.... I'm willing to write docs... in the past I did it by just rebuilding things over and over attempting the marketing 'demo'... So I'd basically do that for a DR demo of what @wdennis was describes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-03 18:22</div><div class="msg">What I was doing was writing myself docs to do @greg VBox demo and then move to @zehicle kubespray demo as I'm under the impression that DRP is really "PXE to Node" - (inventory def) -&gt; "Node to Cluster (or system)"... which I intend to use Ansible (as I think @wdennis also intends)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-03 18:30</div><div class="msg">... ANYWAY... workflow wise... you guys are pretty good at showing your working demos... I'm thinking if I just do what I'm doing (which is going through the video and attempting to re-create) then cross link the resources and documents...  what I did in the past was to link resource much like the angular docs but also with video step links (  <a href="https://docs.angularjs.org/api/ng/service/$document">https://docs.angularjs.org/api/ng/service/$document</a> )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-03 19:46</div><div class="msg">@lae and other interested parties: <a href="https://github.com/digitalrebar/provision/pull/530">https://github.com/digitalrebar/provision/pull/530</a> is the start of adding support baking basic repo management into DRP at template rendering time.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-03 19:48</div><div class="msg">If you want better names for the functions that the templates will use to render templates, now is the time to suggest better ones. Preferably as review comments :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-04 19:57</div><div class="msg">are you asking for "repo" vs something else?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-05/267262255939_32fd0dfd09a922a26ab7_72.jpg" /><div class="message"><div class="username">david.bruce</div><div class="time">2017-11-06 00:43</div><div class="msg">has joined #community201711</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-06 21:28</div><div class="msg"><!channel> - v3.2.1 is out for DRP.  Check out release notes here: for v3.2.1 and v3.2.0
<a href="https://github.com/digitalrebar/provision/releases/tag/v3.2.1">https://github.com/digitalrebar/provision/releases/tag/v3.2.1</a>
<a href="https://github.com/digitalrebar/provision/releases/tag/v3.2.0">https://github.com/digitalrebar/provision/releases/tag/v3.2.0</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2016-11-15/104181243072_307b971367a7363128bf_72.jpg" /><div class="message"><div class="username">spector</div><div class="time">2017-11-06 21:29</div><div class="msg">Congrats</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-06 21:30</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-06 22:15</div><div class="msg">@greg Is it doable to upgrade from v3.2.0-tip-3-00bcb20b04826393bd426478ee260c553225e463 to v3.2.1 ??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-06 22:15</div><div class="msg">Yes </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-06 22:15</div><div class="msg">3.2.0 to 3.2.1 should be easy</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-06 22:15</div><div class="msg">just the dr-provision binary needs to be replaced</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-06 23:37</div><div class="msg"><!channel> tomorrows meetup details are posted ... we look forward to seeing you if you can make it ... :
<a href="https://www.meetup.com/digitalrebar/events/243490141/">https://www.meetup.com/digitalrebar/events/243490141/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 00:58</div><div class="msg">@shane can I curl/wget the v3.2.1 dr-provision binary from somewhere?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-07 01:02</div><div class="msg">not just the binary - but you can get the zip file and just extract the binary - if you check the installer script (<a href="https://get.rebar.digital/stable">https://get.rebar.digital/stable</a>), you'll see:
```echo "Installing Version $DRP_VERSION of Digital Rebar Provision
curl -sfL -o dr-provision.zip <a href="https://github.com/digitalrebar/provision/releases/download/$DRP_VERSION/dr-provision.zip">https://github.com/digitalrebar/provision/releases/download/$DRP_VERSION/dr-provision.zip</a>
curl -sfL -o dr-provision.sha256 <a href="https://github.com/digitalrebar/provision/releases/download/$DRP_VERSION/dr-provision.sha256">https://github.com/digitalrebar/provision/releases/download/$DRP_VERSION/dr-provision.sha256</a>```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-07 01:02</div><div class="msg">so substitute the DRP_VERSION (eg "stable") for the variable - and you can wget / curl it directly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 01:12</div><div class="msg">OK, done, thx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 01:21</div><div class="msg">Is there any reason that in UX?s ?Machines?, when you edit a node, you cannot change the ?Name? of the node?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 01:22</div><div class="msg">I can see making the UUID immutable, but not the Name?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-07 01:24</div><div class="msg">Name should be Changable.  Fqdn is required </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 01:25</div><div class="msg">FQDN? I?ve always just used a shortname for ?Name?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 01:26</div><div class="msg">I think in the UI it's not changeable</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 01:27</div><div class="msg">yeah, I can't edit it from the UI</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 01:27</div><div class="msg">or at least, it's not obvious how</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 01:27</div><div class="msg">I don?t know why, I can change it thru drpcli</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 01:27</div><div class="msg">I would expect that to be a UI bug</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-07 01:29</div><div class="msg">that is a UX feature which hasn't been implemented yet ... please feel free to submit an enhancement request ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 01:34</div><div class="msg">OK, done - #537</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-07 01:35</div><div class="msg">thx!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 15:15</div><div class="msg">ssh root@912.168.1.143</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-07 15:58</div><div class="msg">Is that some cool new v4 IP address space ?  :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 18:28</div><div class="msg">Hey Guys........Can I use DRP to install Firmware on Dell Servers?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 18:41</div><div class="msg">Not yet.  I have not ported the dell-firmware-flash role over from digitalrebar yet.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 20:19</div><div class="msg">so for now...If I have to use digital rebar to update the firmware...is it not possible?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-07 20:20</div><div class="msg">hello @No1 - it's possible that it can be integrated if you have already done some of the automation with the firmware/bios tools - they can be "dropped in place"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-07 20:21</div><div class="msg">but @vlowther is referring to the work we've done in Digital Rebar v2 (DRv2) - which hasn't been ported in to Digital Rebar Provision v3 (DRPv3)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 20:21</div><div class="msg">Ohh I see...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 20:21</div><div class="msg">Excuse me here for my bluntness... Can we use DigitalRebar instead of Foreman?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 20:22</div><div class="msg">and can digital rebard do all the things that can be done by foreman?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 20:22</div><div class="msg">I don't think DR manages virtual machines/vm hosts like foreman can</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-07 20:23</div><div class="msg">well, DRP can install and provision them, but currently can?t create new instances.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 20:24</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 20:24</div><div class="msg">(I mean I'm also using it to provision VMs, but I'm using Proxmox for managing them)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-07 20:25</div><div class="msg">drp?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 20:26</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-07 20:26</div><div class="msg">I?m interested in knowing what path you took to do it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 20:28</div><div class="msg">It's...the same as any other physical machine? I just create a machine definition in DRP and let the KVM host PXE boot with DRP's instructions.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 20:29</div><div class="msg">yeah...we want to use it to provision the physical hardware...?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-07 20:29</div><div class="msg">okay - yeah.  Sorry, I thought you meant that you were having DRP create the machine.  Okay - I understand now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 20:29</div><div class="msg">Ah yeah no, although I can see a possibility of having Ansible do both the creation of a VM in Proxmox and then a machine definition in DRP</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 20:29</div><div class="msg">are there any tutorials available on how to deplot DRP and then use it?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-07 20:30</div><div class="msg">@lae, I think if you look at the new content, you should be able to use stage-chooser to not even create the machine before had if you want, but ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-07 20:30</div><div class="msg">Terraform too if only there were a maintained Proxmox provider</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-07 20:31</div><div class="msg">Yeah - that would be nice.  @shane is working on some examples with packet for that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-07 20:32</div><div class="msg">@No1 - have you seen the quickstart documentation?? 
<a href="http://provision.readthedocs.io/en/latest/doc/quickstart.html">http://provision.readthedocs.io/en/latest/doc/quickstart.html</a></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 20:33</div><div class="msg">yeah I did .. but from there how to proceed further I don't have any idea ... i will dig deep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-07 20:41</div><div class="msg">do you have specific questions ?  issues ?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 21:06</div><div class="msg">I mean would I get an userinterface to provision the systems?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 21:07</div><div class="msg">to define the subnets/domain/operating systems etc.?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-07 21:12</div><div class="msg">@No1 - if you connect to https://[endpoint ip]:8092 then you will be redirected to the UX</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-07 21:12</div><div class="msg">there are a lot of videos available that show to work the system</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 21:12</div><div class="msg">okay..thanks lemme try that !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-07 21:12</div><div class="msg"><a href="https://www.youtube.com/playlist?list=PLXPBeIrpXjfj5_8Joyehwq1nnaYSPCnmw">https://www.youtube.com/playlist?list=PLXPBeIrpXjfj5_8Joyehwq1nnaYSPCnmw</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-07 21:13</div><div class="msg">note: it's actually  https://[endpoint ip]:8092/ui</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-07 21:13</div><div class="msg">the REST api is  https://[endpoint ip]:8092/api/v3</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 22:18</div><div class="msg">okat thats great...looks like the videos got updated since I saw them last time.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-07 22:18</div><div class="msg">Thanks Zehicle :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-07 22:35</div><div class="msg">Glad to help.  If it's been a while,  then a lot has changed. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 23:26</div><div class="msg">So, let me try to define Stages and Tasks...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 23:27</div><div class="msg">Stages have a [optional] BootEnv, [optional] Profiles, and a list of Tasks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 23:28</div><div class="msg">The list of tasks [are | are not] processed serially by a Runner   &lt;-- pls advise as to which is correct</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 23:29</div><div class="msg">The stage _usually_ ends in a RunnerWait state, but may not</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 23:30</div><div class="msg">They also _may_ contain OptionalParams, RequiredParams, and Templates</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 23:32</div><div class="msg">Tasks have Templates they render, _usually_ have OptionalParams, and _may_ have RequiredParams</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 23:34</div><div class="msg">So, Stages are collections of Tasks, which the Runner processes, then when it hits the end, it [usually] waits for more Tasks to be submitted, which may be the result of a Stage change (which has it's own list of Tasks)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 23:36</div><div class="msg">(May be good to have official definitions of these somewhere, and a graphic showing the relationship and interaction with the Runner process)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-07 23:37</div><div class="msg">(Let me know if I'm even close on the above def's)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-07 23:53</div><div class="msg">@shane uploaded a file: <a href="https://rackn.slack.com/files/U6QFVRJNB/F7W3M7P1P/runner-workflow.pdf">https://rackn.slack.com/files/U6QFVRJNB/F7W3M7P1P/runner-workflow.pdf</a> and commented: Work In Progress - but this is what runner workflow looks like ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-08 00:46</div><div class="msg">The runner process the list of tasks on a machine in order and stops on first failure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 02:41</div><div class="msg">Precisely what happens in encapsulated in the large comment at the top of <a href="https://github.com/digitalrebar/provision/blob/master/backend/jobs.go">https://github.com/digitalrebar/provision/blob/master/backend/jobs.go</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 02:42</div><div class="msg">We should probably turn that (and the POST logic for api/v3/jobs at <a href="https://github.com/digitalrebar/provision/blob/master/frontend/jobs.go#L241">https://github.com/digitalrebar/provision/blob/master/frontend/jobs.go#L241</a>) into an actual document.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-08 14:50</div><div class="msg">Speaking of BM FW.... <a href="https://tools.ietf.org/html/draft-moran-suit-architecture-00">https://tools.ietf.org/html/draft-moran-suit-architecture-00</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-08 14:51</div><div class="msg">ietf IoT firmware update working draft</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-08 21:21</div><div class="msg">got around to updating the drpcli package in AUR to 3.2.1 <a href="https://aur.archlinux.org/packages/drpcli/">https://aur.archlinux.org/packages/drpcli/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 22:15</div><div class="msg">aieee!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 22:16</div><div class="msg">you have AUR rights!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 22:17</div><div class="msg">Feel free to do one for dr-provision as well. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 22:19</div><div class="msg">I will also gleefully accept a PR for a pkgbuild</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 22:19</div><div class="msg">I could use it locally. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 22:20</div><div class="msg">although I will have to refresh my makepkg memory.  It has been awhile.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-08 22:28</div><div class="msg">do you run dr-provision on arch? I don't exactly have that requirement (it gets deployed in a Debian LXC container running in our engineering environment)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 22:28</div><div class="msg">In fact, I do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 22:30</div><div class="msg">Although in my case, it is from locally-built source, not from the pre-built tarballs. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 22:31</div><div class="msg">sudo systemctl stop dr-provision &amp;&amp; tools/install.sh install &amp;&amp; sudo systemctl start dr-provision is a fairly common thing for me.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-08 22:33</div><div class="msg">In fact, I will whip up a -git version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-09 14:24</div><div class="msg">has joined #community201711</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-09 14:41</div><div class="msg">good morning/@justin - welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-09 16:47</div><div class="msg">Was going through kubespray and ran into jujucharms... has anyone used ? seems to terraform 'like'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-09/270672278598_df9f8ded712fa6da7356_72.jpg" /><div class="message"><div class="username">will.acheson</div><div class="time">2017-11-09 17:16</div><div class="msg">has joined #community201711</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-09 17:28</div><div class="msg">welcome @will.acheson</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-09/270672278598_df9f8ded712fa6da7356_72.jpg" /><div class="message"><div class="username">will.acheson</div><div class="time">2017-11-09 17:29</div><div class="msg">Hey shane!  Thanks for the invite.  I think it was a great idea for us to use slack for comms.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-09 17:29</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-09 17:53</div><div class="msg">@ctrees juju is pretty much a Canonical thing, not nearly as mainstream - it's the basis of all their installers so Ubuntu focused.  It's pretty interesting in how it builds a deployment graph.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-09 17:56</div><div class="msg">typically, Juju is coupled with MaaS (which I consider a DRP alternative) because of the Canonical angle.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-09 17:58</div><div class="msg">@justin if you want to follow-up on the twitter thread about RR, this is the place.  We can talk about using the runner for post-provision in Sledgehammer (or any O/S) or other approaches.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-09 17:58</div><div class="msg">I believe the runner workflow was a topic on the last community meeting (which was recorded).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-09 17:59</div><div class="msg">@zehicle @justin - the community meeting centered around `stages`, we indirectly touched on the runner in that presentation - there was some spirited discussion on the Runner (tasks/jobs/queues/etc) related to Stages after the slide-ware presentation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-09 18:00</div><div class="msg">the recorded video can be found at:
<a href="http://bit.ly/2yfRXVW">http://bit.ly/2yfRXVW</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-09 18:08</div><div class="msg">Baked-in repo management support in dr-provision is about ready: <a href="https://github.com/digitalrebar/provision/pull/530">https://github.com/digitalrebar/provision/pull/530</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-09 18:08</div><div class="msg">@lae ^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-09 18:12</div><div class="msg">@ctrees DRv2 built and maintained a complete graph of everything that should happen to all machines.  It actually turned out to be harder to explain and made things too rigid once the complexity of what any given workload was trying to do got past a certian point.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-09 18:15</div><div class="msg">is why DRP has a per-machine list of tasks that get executed in order by the runner (in-order execution is easy to explain and reason about), and a mechanism for making bulk changes to that list (stages)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-09 18:19</div><div class="msg">Thanks... going over the stages in community and @wdennis summary is really helping it to sinking in...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-09 18:29</div><div class="msg">I'm going into UNI tomorrow to talk to Dr. Paul Gray... then it's off to talk to prof's at ISU... basically going to see what he thinks of the kubespray and terraform demo's for his microservices classes I think he's using Ceph storage now, but had an AFS (OpenAFS) stack also (which ISU also has)  Dr. Gray is a Proxmox fan.  My boss just wants to make sure he can hire out of the Universities to support what-ever...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/89bd905d0755692422c0d4341787579b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">marco.simoes</div><div class="time">2017-11-09 19:00</div><div class="msg">has joined #community201711</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-09 19:17</div><div class="msg">welcome @marco.simoes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-09 19:41</div><div class="msg">@ctrees cool and good luck</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-09 19:46</div><div class="msg"> I've heard of Proxmox but don't know any users.  How light weight?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-09 20:17</div><div class="msg">So... I take it @shane 5min example is 'sort-of' what provision's CI/CD is/will be ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-09 20:18</div><div class="msg">Oh... I'm sure if DocGray likes this, I'll be doing a proxmox setup...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-09 20:19</div><div class="msg">and I'm pretty sure he will... I already mentioned PXE swagger API and he lit up...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-09 20:27</div><div class="msg">Takes a special kind of geek to love that phrase.  Our kind of geek fwiw</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-09 20:27</div><div class="msg">I'm going to end up doing a Xen one too... plus supporting some Vagrant up... (though I hope to remove as much ruby code as possible as I move old puppet to ansible)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-09 22:27</div><div class="msg">@ctrees - the 5min-drp stuff is a good model for integrating DRP into a CI/CD pipeline - right now it has "packet specific" plugin_provider, but it's pretty easy to tweak it to change-up the various content you inject</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-09 22:29</div><div class="msg">@ctrees after listening to the OpenStack discussions about Edge, there's a chance that Proxmox would be interesting if it's lighter weight than openstack</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-09 22:31</div><div class="msg">proxmox has grown a lot since I last looked at it - it used to be just a lightweight "manage VM compute instances on KVM</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-09 22:31</div><div class="msg">seems to have matured a fair bit beyond just that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-09 23:24</div><div class="msg">*drop* <a href="https://github.com/lae/ansible-role-proxmox">https://github.com/lae/ansible-role-proxmox</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-09 23:24</div><div class="msg">but yeah, I mean it still is lightweight compared to openstack</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-10 14:34</div><div class="msg">@lae  THANKS (nice repo)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-10 15:03</div><div class="msg">@lae - I think the Moon is lightweight compared to OpenStack now ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-10 17:02</div><div class="msg">hides from all the shade</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-10 17:03</div><div class="msg">Moon Shade.... </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-10 17:06</div><div class="msg">The repo management patch has been merged.  You can try it out by building from source and doing the needful based on <a href="https://github.com/digitalrebar/provision/blob/master/doc/arch/data.rst#package-repositories">https://github.com/digitalrebar/provision/blob/master/doc/arch/data.rst#package-repositories</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-10 17:09</div><div class="msg">tip has it too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-10 17:10</div><div class="msg">The next content and DRP release will have a valid param definition for package-repositories and the server will know how to handle templates that use the .InstallRepos and .MachineRepos helpers.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-10 17:10</div><div class="msg">The rest of the default templates will be converted over the next few releases.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-10 17:12</div><div class="msg">The default behaviour in the absence of any defined repos is to fall back to the current local-repos behavior, so current content will continue to function normally.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-10 17:20</div><div class="msg">Nice! </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 02:53</div><div class="msg">I can't assume anyone is hanging out here on a Saturday night. I FINIALLY got systems to boot to DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 02:54</div><div class="msg">woot!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 02:54</div><div class="msg">(yeah - I'm hanging out here...)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 02:54</div><div class="msg">what was the hurdle ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-12 03:02</div><div class="msg">Nice!!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:18</div><div class="msg">lots of hurdles. I already have dhcp on my network so enabling it in dr-provision will break other clients. I tried running a dhcp proxy server <a href="https://github.com/digitalrebar/provision/issues/532">https://github.com/digitalrebar/provision/issues/532</a> but had multiple problems with that (port conflicts on a single machine, legacy and efi hosts)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:19</div><div class="msg">so now I literally have a CD in the drive that ipxe boots to DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:20</div><div class="msg">proxy DHCP service isn't something we've enabled at the moment (as you are painfully aware) ... we've got it in the issues list, and we'll add it to the back log</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:20</div><div class="msg">but I need to read through docs on what to actually do with it. First I'm looking to see how to put unknown machines into a discovery mode (so I don't have to manually add them). Then I need to figure out how to actually provision a k8s cluster with it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:20</div><div class="msg">we do support external DHCP - we just assume a full-featured DHCP server implementation - not the hobbled versions you'll find in (I think it was) wifi routers/etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:21</div><div class="msg">I just added that documentation to the quickstart - for "latest" doc revision</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:21</div><div class="msg">right, I'm running now with `--disable-dhcp` but I needed a proxy (or in my case a CD) to do anything with it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:21</div><div class="msg"><a href="http://provision.readthedocs.io/en/latest/doc/quickstart.html#install-your-first-machine">http://provision.readthedocs.io/en/latest/doc/quickstart.html#install-your-first-machine</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:21</div><div class="msg">make sure you're on "latest" version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:21</div><div class="msg">I thought sledgehammer would autodiscover machines but I guess I was wrong. Reading through the docs now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:22</div><div class="msg">the basics are to set the "prefs"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:22</div><div class="msg">by default - we attempt to "do no harm" first and foremost</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:22</div><div class="msg">so you have to set the default stage/unknown bootenv/default bootenv ... so "discovery" will be enabled after those are set</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:28</div><div class="msg">once your Machines are discovered after setting Prefs - you can then add BootEnvs to them and reboot them to be installed.  Advanced workflows and adding the IPMI plugin to do machine reboots from DRP can be done as well those require RackN registered account</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:29</div><div class="msg">you can also pre-add machines if you know MACs - by setting a reservation - using the "MAC" as the "Strategy", and the "Token" is the MAC address itself</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:30</div><div class="msg">`drpcli prefs set unknownBootEnv discovery defaultBootEnv sledgehammer defaultStage discovery` gave Error: POST: prefs: defaultStage: Stage discovery does not exist</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:30</div><div class="msg">what version of DRP are you running?
```drpcli info get```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:31</div><div class="msg">did you do a `drpcli bootenvs uploadiso sledgehammer` ??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:31</div><div class="msg">version v3.2.1-0-2ab654478528d1ee59781f7d53bc8f8b9c6853dd</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:31</div><div class="msg">I uploaded the iso in 3.2.0. Let me run it again to make sure it has the right image</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:32</div><div class="msg">have to rerun - it - as the sledgehammer image gets updated, and you'll need to make sure the content (v3.2.1) that requests sledgehammer matches the version of sledgehammer that is needed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:32</div><div class="msg">are you using the UX ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:33</div><div class="msg">I logged into the web interface but mostly using cli</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:33</div><div class="msg">it's easy to check status of Stages - go to "stages" (oddly enough) - and make sure you have a check mark and not X next to the stage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:33</div><div class="msg">crap</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:33</div><div class="msg">my fault</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:33</div><div class="msg">same error after uploading the sledgehammer iso</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:33</div><div class="msg">`defaultStage discover` (no 'y' on end)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:35</div><div class="msg">hurriedly checks in doc patch ....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:37</div><div class="msg">rebooting system to see if it does the right thing now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:38</div><div class="msg">ok - fixed doc ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:41</div><div class="msg">k, it added the machine and now in stage discover. The system looks like it loaded sledgehammer and then rebooted to local disk. Is that expected?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 03:41</div><div class="msg">I'm used to foreman which keeps the system in the discovery image until you decide to provision it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:56</div><div class="msg">can you paste `drpcli prefs list` here ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:57</div><div class="msg">if `defaultBootEnv` is set to `local`, then that's what it'd do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:58</div><div class="msg">uh - do `drpcli prefs list | grep -v Secret`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 03:58</div><div class="msg">I don't wanna see your secrets</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 05:33</div><div class="msg">Sorry, got distracted with other things. Looking at this again now ```{
  "debugBootEnv": "0",
  "debugDhcp": "0",
  "debugFrontend": "1",
  "debugPlugins": "0",
  "debugRenderer": "0",
  "defaultBootEnv": "sledgehammer",
  "defaultStage": "discover",
  "knownTokenTimeout": "3600",
  "unknownBootEnv": "discovery",
  "unknownTokenTimeout": "600"
}```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 05:33</div><div class="msg">I need to burn some more CDs so I can leave them in the drive. That way I don't have to go out in the garage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-12 06:20</div><div class="msg">It should have stayed in sledgehammer @justin </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-12 06:21</div><div class="msg">Unless you have a workflow defined </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 06:46</div><div class="msg">nope, no workflows defined. I just redid my boot iso. Then going to look at the DPR settings again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-11/270895586546_46fe93f673ea6809ddeb_72.jpg" /><div class="message"><div class="username">justin</div><div class="time">2017-11-12 08:04</div><div class="msg">Well I'm going to call it a night. I tried provisioning centos7 on one system but couldn't figure out the necessary steps. 
@shane I'm assuming you want to update discovery -&gt; discover <a href="http://provision.readthedocs.io/en/stable/doc/operation.html#preference-setting">http://provision.readthedocs.io/en/stable/doc/operation.html#preference-setting</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-12 16:37</div><div class="msg">He did on the latest tree.  Once we push the next release stable will update.  </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-12 18:34</div><div class="msg">HI all, I seem to be missing something. In the docs you claim 5mins to install on a R-Pi, but there are no ARM binaries?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 18:37</div><div class="msg">hi @chriscowley - welcome ...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-12 18:38</div><div class="msg">hi @rackneng </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 18:38</div><div class="msg">Install can indeed happen in under 5mins - however, I believe our ARM builds were dropped due to lack of interest - if you have an ARM platform w/ Go 1.9 on it - you can pretty easily build from source</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 18:38</div><div class="msg">if there's enough interest in ARM platform - we definitely would add it back in to the builds</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-12 18:38</div><div class="msg">Given the proliferation of R-Pis in the world, I think it would be cool - at least remove it from the docs :-)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 18:39</div><div class="msg">can you point me to which doc specifically you're referring to ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 18:39</div><div class="msg">I'm working on some doc cleanup right now - I'll address that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 18:39</div><div class="msg">(BTW - this is Shane, pleased to meet you)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-12 18:45</div><div class="msg">http://rebar.digital/#overview "Our extensible stand-alone DHCP/PXE/IPXE service has minimal overhead so it can be installed and provisioning in under 5 minutes on a laptop, RPi or switch"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 18:48</div><div class="msg">Ah yes - the claim is still true, we just haven't released ARM binaries for a while.   Thank you for pointing that out - I'm not hacking on those docs at the moment, but we'll get that cleaned up.   It's possible that @greg can add cross-compile support for ARM via our existing build system - not sure off hand how hard that will be to add in though ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 18:49</div><div class="msg">In the meantime - I'm taking off for a motorcycle ride ... back in a bit ... :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-12 18:51</div><div class="msg">The compilation is easy.  The packaging isn?t too bad.  The challenge is the target. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-12 18:51</div><div class="msg">Finishing a Sunday. Thing. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 20:01</div><div class="msg">@chriscowley - if we cut an ARM release for you - do you have a RPi you'll play with it on ??</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-12 20:02</div><div class="msg">Odroid actually (which is ARM64)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 20:07</div><div class="msg">if you intend to run w/ the TFTP services enabled for DRP - you'll need the bsdtar, p7zip, and unzip tools installed in your Linux OS - those are (currently) the only external dependencies we have.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-12 20:07</div><div class="msg">I know</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 20:07</div><div class="msg">We have plans to get away from them as external dependencies, but the Go Lang libraries are still lacking in ISO support features we need</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 20:07</div><div class="msg">Cool ... just wanted to highlight that.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-12 20:10</div><div class="msg">@rackneng I can read the docs - even if I am apparently not capable of reading the architecture of the golang binary I download :-( (arm6l != arm64)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-12 20:11</div><div class="msg">I've probably got an R-Pi I can test on too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 21:24</div><div class="msg"><!channel> - before you get your Turkey fix ... we hope you plan on joining us for our 5th installment of the Digital Rebar Provision online meetup ... our primary discussion will be around the Runner and Jobs as they relate to stage transitions - this was a hot topic we touched on in the previous meetup - and we'll continue in more depth ... see the Meetup pages for more details, RSVP, and link to full agenda:
<a href="https://www.meetup.com/digitalrebar/events/243490159/">https://www.meetup.com/digitalrebar/events/243490159/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-12 21:25</div><div class="msg">Meetup is schedule for Tuesday November 21st at 11am PST ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-13 14:42</div><div class="msg">has joined #community201711</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-13 15:03</div><div class="msg">hello </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 15:04</div><div class="msg">good morning, @hyusuf01 welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-13 16:45</div><div class="msg">UX added a feature over the weekend... you can now rename your org and endpoints in your org information.  This is handy if you have multiple endpoints and switch between them</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-13 16:46</div><div class="msg">on request, RackN can create orgs that are shared by multiple users.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-13 16:49</div><div class="msg">ok . thank you</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:39</div><div class="msg">Can someone explain what the sledgehammer image is exactly? when I PXE a system with sledgehammer as the bootenv should I expect to see any kind of install screen or any output from BMC console?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:40</div><div class="msg">hi @spencerj</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:40</div><div class="msg">Hey Shane! :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:40</div><div class="msg">Sledgehammer is a live boot linux distro (based on Centos)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:40</div><div class="msg">it only "live boots" - it does NOT install</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:40</div><div class="msg">we use it as a helper to perform workflow tasks (prep physical server for install, collect inventory, etc.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:41</div><div class="msg">it's primary purpose is to help implement an OS install - by "discovering" Machine info, and enabling more advanced OS install workflow scenarios</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:41</div><div class="msg">does that help understand it a bit more ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:42</div><div class="msg">okay cool! and yes it does! I'm probably doing something wrong because I just stood up DRP in "isolated" mode, setup my subnet with DHCP reservations and then PXE'd another system. watching the logs DRP got the request, found the reservation and issued the IP... but then nothing else happened.. the system failed out PXE.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:43</div><div class="msg">that's a "safety mechanism"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:43</div><div class="msg">ohhhhhh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:43</div><div class="msg">we do not do any install unless you tell us to</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:43</div><div class="msg">even for sledgehammer?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:43</div><div class="msg">that's the default bootenv I setup.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:44</div><div class="msg">yes - can you copy the `drpcli prefs list | grep -v Secret` output here ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:45</div><div class="msg">```
{
  "debugBootEnv": "0",
  "debugDhcp": "0",
  "debugFrontend": "1",
  "debugPlugins": "0",
  "debugRenderer": "0",
  "defaultBootEnv": "sledgehammer",
  "defaultStage": "discover",
  "knownTokenTimeout": "3600",
  "unknownBootEnv": "discovery",
  "unknownTokenTimeout": "600"
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:45</div><div class="msg">based on this - and assuming your subnet specification is right (along with required or optional Reservations configs)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:45</div><div class="msg">you should boot in to Sledgehammer OS instance - and then stop</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:46</div><div class="msg">after this - you'd want to manually specify a BootEnv for OS install (eg `ubuntu-16.04-install`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:46</div><div class="msg">and reboot the Machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:46</div><div class="msg">... or ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:46</div><div class="msg">delve in to the world of our Workflow (stages) to automate the process</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:47</div><div class="msg">yeah.. after the DHCP response I saw something about a "file not found" or "couldn't download file" or something along those lines but then it failed too quickly for me to capture..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:47</div><div class="msg">rebooting the node now to see if I can screenshot it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:48</div><div class="msg">does `drpcli bootenvs show sledgehammer | jq '.Available'` return "true" ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:49</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:50</div><div class="msg">also make sure that you don't have an FW rules blocking ports 67, 69, 8091, and 8092 on the DRP Endpoint</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:50</div><div class="msg">the PXE error I get is "No boot filename received."</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:50</div><div class="msg">firewall is disabled completely along with SELinux.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 20:51</div><div class="msg">are you using the built-in DHCP/TFTP - or external services ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 20:53</div><div class="msg">internal I assume.. I didn't set anything up external.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:01</div><div class="msg">@spencerj do you have another DHCP server on the network ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:02</div><div class="msg">there shouldn't be.. I'm on a private VLAN.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:02</div><div class="msg">does your DRP Endpoint have multiple NIC interfaces ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:02</div><div class="msg">a simple test would be to disable DRP on the host, then reboot your Machine to see if it gets a DHCP response</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:02</div><div class="msg">yes.. it's my "jumpnode" into the VLAN.. so it has a routable IP and private IP on separate interfaces.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:03</div><div class="msg">ah - you may need to set the `--static-ip=` option to `dr-provision` to the correct network that you are trying to provision on</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:04</div><div class="msg">:flushed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:04</div><div class="msg">LOL</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:04</div><div class="msg">I was wondering about that when I ran the little "install" script.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:04</div><div class="msg">I used the production IP because I figured that was needed to ensure the GUI was accessible.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:05</div><div class="msg">I setup the subnet to listen on the private vlan though..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:05</div><div class="msg">what's the easiest way to point the --static-ip option at the right address?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:06</div><div class="msg">Try not specifying it first.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:06</div><div class="msg">?? you mean just re-run the script?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:07</div><div class="msg">When dr-provison ran, did it run wilt a --static-ip option set?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:08</div><div class="msg">yes.. from the docs I ran this:
`sudo ./dr-provision --static-ip=&lt;production_ip&gt; --base-root=/root/dr-test/drp-data --local-content="" --default-content="" &amp;`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:08</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:08</div><div class="msg">FYI - the UX never directly talks to the DRP Endpoint (or the other way-round - endpoint never directly talks to UX)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:08</div><div class="msg">Try deleting the --static-ip option</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:09</div><div class="msg">do I need to stop any services or anything before re-running?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:11</div><div class="msg">Yeah, kill dr-provision first. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:12</div><div class="msg">okay!  it seems to have run.. anyway to check values now?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:13</div><div class="msg">or should I just try to PXE the machine again?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:13</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:17</div><div class="msg">same behavior:
```
dr-provision2017/11/13 22:16:43.501114 Received DHCP packet: type Discover xid 0x67cba53e ciaddr 0.0.0.0 yiaddr 0.0.0.0 giaddr 0.0.0.0 chaddr 00:1e:67:cb:a5:3e
dr-provision2017/11/13 22:16:43.501992 Reservation for 10.0.0.3 has a lease, using it.
dr-provision2017/11/13 22:16:43.504871 xid 0x67cba53e: Discovery handing out: 10.0.0.3 to 00:1e:67:cb:a5:3e via 10.0.0.10
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:17</div><div class="msg">but the system says "No boot filename received".</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:17</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:18</div><div class="msg">What is the system?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:18</div><div class="msg">what do you mean? what is the hardware?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:18</div><div class="msg">is it hardware , a VM, etc.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:18</div><div class="msg">oh.. hardware. standard Intel server in a rack.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:19</div><div class="msg">ok, cool.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:19</div><div class="msg">hm.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:20</div><div class="msg">Do you just have a reservation for that mac address, or is there a subnet definition as well?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:20</div><div class="msg">I defined a subnet 10.0.0.1/16 and specified "Require DHCP Reservation".</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:20</div><div class="msg">and then a created the reservation using MAC for the sytem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:21</div><div class="msg">ok cool..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:21</div><div class="msg">You have drpcli on the system?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:21</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:21</div><div class="msg">Just saw that in the backscroll</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:21</div><div class="msg">LOL.. no worries!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:21</div><div class="msg">What does drpcli subnets list show?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:22</div><div class="msg">```
[root@master dr-test]# drpcli subnets list
[GIN] 2017/11/13 - 14:22:05 | 200 |   93.935055ms |       127.0.0.1 | GET      /api/v3/subnets
[
  {
    "ActiveEnd": "10.0.0.5",
    "ActiveLeaseTime": 60,
    "ActiveStart": "10.0.0.2",
    "Name": "enp4s0f1",
    "NextServer": "10.0.0.10",
    "OnlyReservations": true,
    "Options": [
      {
        "Code": 1,
        "Value": "255.255.0.0"
      },
      {
        "Code": 28,
        "Value": "10.0.255.255"
      }
    ],
    "Pickers": [
      "hint",
      "nextFree",
      "mostExpired"
    ],
    "ReservedLeaseTime": 7200,
    "Strategy": "MAC",
    "Subnet": "10.0.0.1/16"
  }
]
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:22</div><div class="msg">Well, that would do it. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:23</div><div class="msg">No PXE options there.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:23</div><div class="msg">:flushed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:23</div><div class="msg">**facepalm**</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:24</div><div class="msg">how do I add that? I'm looking at the "Edit" page for the subnet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:25</div><div class="msg">Add an option, code=67, value=lpxelinux.0</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:25</div><div class="msg">Here is what mine liike like for reference:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:25</div><div class="msg">[
  {
    "ActiveEnd": "192.168.124.254",
    "ActiveLeaseTime": 60,
    "ActiveStart": "192.168.124.10",
    "Available": true,
    "Enabled": true,
    "Errors": [],
    "Name": "docker0",
    "NextServer": "192.168.124.11",
    "OnlyReservations": false,
    "Options": [
      {
        "Code": 3,
        "Value": "192.168.124.11"
      },
      {
        "Code": 6,
        "Value": "192.168.124.11"
      },
      {
        "Code": 15,
        "Value": "<a href="http://example.com">http://example.com</a>"
      },
      {
        "Code": 67,
        "Value": "lpxelinux.0"
      },
      {
        "Code": 1,
        "Value": "255.255.255.0"
      },
      {
        "Code": 28,
        "Value": "192.168.124.255"
      }
    ],
    "Pickers": [
      "hint",
      "nextFree",
      "mostExpired"
    ],
    "ReadOnly": false,
    "ReservedLeaseTime": 7200,
    "Strategy": "MAC",
    "Subnet": "<tel:192.168.124.11/24|192.168.124.11/24>",
    "Validated": true
  }
]</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:26</div><div class="msg">okay awesome! giving this a try now!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:26</div><div class="msg">does this support iPXE and UEFI?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:27</div><div class="msg">Not with that ilename, you will need something a little more complicated for that. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:28</div><div class="msg">okay I didn't think so. :slightly_smiling_face: We are using Cobbler right now and I'm evaluating DRP as a replacement.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:29</div><div class="msg">we were able to get iPXE and UEFI to work in Cobbler with a little "wizardry" but it's not may favorite solution.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:32</div><div class="msg">BINGO! that did it! thank you @vlowther</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:32</div><div class="msg">excellent !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:32</div><div class="msg">@spencerj did you use any of the DRP Docs to get started ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:33</div><div class="msg">The neat thing is that the bootfile option is actually a template that can be expanded based on the contents of the DHCP packet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:33</div><div class="msg">I an trying to find our usual example -- been awhile since I used it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-13 21:34</div><div class="msg">bootfile</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:39</div><div class="msg">Of you set option 67 to `{{if (eq (index . 77) ?iPXE?) }}default.ipxe{{else if (eq (index . 93) ?0")}}lpxelinux.0{{else}}bootx64.efi{{end}}` it will ise iPXE if that has already been loaded, otherwise it will use lpxelinux.o on BIOS systems and elilo on UEFI systems.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:39</div><div class="msg">(thank you @vlowther... for adding back ticks :slightly_smiling_face: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:40</div><div class="msg">Similarly, `{{if (eq (index . 77) ?iPXE?) }}default.ipxe{{else if (eq (index . 93) ?0")}}ipxe.pxe{{else}}ipxe.efi{{end}}` will force the use of ipxe for BIOS and UEFI systems.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:40</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:41</div><div class="msg">So you can pick and choose what to use based on what has been validated with your gear,.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:41</div><div class="msg">this looks pretty close to what we are using in Cobbler:
```
        if exists user-class and option user-class = "gPXE" {
            filename "$_system_filename";
        } else if exists user-class and option user-class = "iPXE" {
            filename "$_system_filename";
        } else if exists pxe-system-type and option pxe-system-type != 00:00 {
            filename "ipxe.efi";
        } else {
            filename "undionly.kpxe";
        }
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-13 21:42</div><div class="msg">You could add in the gpxe template test as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:42</div><div class="msg">Same idea, different mechanism</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:43</div><div class="msg">sure!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:43</div><div class="msg">I think Cobbler just uses gPXE by default which is why it's there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:44</div><div class="msg">Until someone embeds a nice scripting language into their DHCP server, template expansion or weird config language hacks are the order of the day for this particular task. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:45</div><div class="msg">That little bind config snippet (and variants of it) have been around since before gpxe was forked to make ipxe.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:45</div><div class="msg">LOL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:45</div><div class="msg">Back a few product generations when we drove bind like that we did the same thing. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:46</div><div class="msg">okay so my system booted sledgehammer! yay! is there a way to see the system specs it gathered somewhere?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:46</div><div class="msg">`drpcli machines list`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:47</div><div class="msg">yeah I saw that. but it just had basic system info, name, description and UUID... does sledgehammer gather "Facts" like ansible? system specs? memory, cpu info etc...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:47</div><div class="msg">also (if you haven't found it already) - you can append `--format=yaml` to view yaml -vs- json output</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:47</div><div class="msg">oh nice! that's helpful!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:49</div><div class="msg">If you are running on tip you should have a Sledgehammer that has gohai</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:50</div><div class="msg">I think I ran with "stable": `v3.0.1-tip-20-93fd333f6046a4f49e58720647c31e9b1ed9bf07`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:50</div><div class="msg">so part of the machine should be a huge blob containing an ever-growing list of what we consider to "interesting" hardware and basic config data</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:50</div><div class="msg">Um ... we hope not v3.0.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:50</div><div class="msg">that's ... ancient ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:50</div><div class="msg">That is a rather old stable. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:50</div><div class="msg">LOL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:50</div><div class="msg">(which doesn't have inventory capabilities)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:51</div><div class="msg">from here: <a href="http://provision.readthedocs.io/en/stable/doc/quickstart.html">http://provision.readthedocs.io/en/stable/doc/quickstart.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:51</div><div class="msg">I ran `curl -fsSL <a href="https://raw.githubusercontent.com/digitalrebar/provision/stable/tools/install.sh">https://raw.githubusercontent.com/digitalrebar/provision/stable/tools/install.sh</a> | bash -s -- --isolated install`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:51</div><div class="msg">HIGHLY recommend you switch to "latest" for the docs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:51</div><div class="msg">ohhhh.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:51</div><div class="msg">:stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:52</div><div class="msg">we're about to revision the doc versions shortly - but it's lagging a bit behind ATM</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:52</div><div class="msg">you can check your DRP endpoint version with `drpcli info get`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:53</div><div class="msg">gotcha! I just saw "stable" and well.. ya know.. it felt "safe"! :stuck_out_tongue_winking_eye:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:53</div><div class="msg">you'd want to chuck an `--upgrade=true` on the end of all of that to do an upgrade (after you kill `dr-provision`)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:53</div><div class="msg">ha ha.. I just ran `drpcli info get` and it said "unknown command "info""</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 21:53</div><div class="msg">too old for info. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:53</div><div class="msg">LOL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:54</div><div class="msg">current stable is `v3.2.1-0-2ab654478528d1ee59781f7d53bc8f8b9c6853dd`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:54</div><div class="msg">you can also shorten your `curl` a lot ....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:55</div><div class="msg">`curl -s get.rebar.digital/stable | bash -s -- install --isolated --upgrade=true`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:55</div><div class="msg">well I like that! :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:55</div><div class="msg">hmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:56</div><div class="msg">though ... there are significant changes to "content"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:56</div><div class="msg">it's really better if you wipe and restart - since updating the content pieces is a bit arduous process</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:57</div><div class="msg">I don't think we've done an in-house 3.0.1 to 3.2.1 direct upgrade - we do have upgrade steps listed in Doc - but ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:57</div><div class="msg">no worries!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:57</div><div class="msg">I did an "isolated" install so I'll just wipe the dir and start over.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:57</div><div class="msg">have you seen the UX for it yet ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:58</div><div class="msg">you mean <a href="https://localhost/provision-ux">https://localhost/provision-ux</a> ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:58</div><div class="msg">https://&lt;your_drp_endpoint&gt;:8092/</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:58</div><div class="msg">yes! I LOVE IT!!!!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 21:58</div><div class="msg">cool - @zehicle will get a warm fuzzy glow hearing that statement ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-13 21:59</div><div class="msg">yes, I did!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:59</div><div class="msg">ha ha ha!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 21:59</div><div class="msg">:thumbsup: :thumbsup:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-13 22:00</div><div class="msg">if you are coming from v3.0 then it's a big jump</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:00</div><div class="msg">ohh.. I haven't seen the ux for 3.2</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:00</div><div class="msg">working on the install now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:01</div><div class="msg">the UX you've seen - is it "green" theme - or "blue" theme ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:02</div><div class="msg">blue theme:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:02</div><div class="msg">ok - that's the new UX :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:02</div><div class="msg">@spencerj uploaded a file: <a href="https://rackn.slack.com/files/U574XHDJN/F7ZH894H1/pasted_image_at_2017_11_13_02_02_pm.png">https://rackn.slack.com/files/U574XHDJN/F7ZH894H1/pasted_image_at_2017_11_13_02_02_pm.png</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:02</div><div class="msg">oh okay cool!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:02</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:02</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:02</div><div class="msg">what's with the URL though? mine shows: <a href="https://rackn.github.io/provision-ux/#/e/10.54.4.118:8092/machines">https://rackn.github.io/provision-ux/#/e/10.54.4.118:8092/machines</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:03</div><div class="msg">is this going outside my network for anything?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:03</div><div class="msg">your DRP Endpoint never reaches out (nor does the UX reach in to endpoint)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:03</div><div class="msg">your browser is operating in CORS model - basically a "go-between" for the RackN Portal, and connecting to the DRP Endpoint</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:03</div><div class="msg">it's a single page React application  you run in your browser</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:04</div><div class="msg">oh okay!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:04</div><div class="msg">connection is `endpoint &lt;-- browser --&gt; rackn portal`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-13 22:04</div><div class="msg">and that <a href="http://rackn.github.io">http://rackn.github.io</a> is just where the app part loads from.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:04</div><div class="msg">(had my arrows bass-ackwards - sorry)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:05</div><div class="msg">exactly - there are some "content" Library pieces that rely on the RackN portal service - so you're browser will call out to our Portal for things like Contents, Plugins, etc...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:06</div><div class="msg">Authentication is two-part - your Auth to your DRP Endpoint (that's the simple Auth w/ the default "rocketskates" username)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:06</div><div class="msg">ohhh.. okay! :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:06</div><div class="msg">and then the RackN (optional) Portal account for storing and managing your endpoint(s) information and managing them - and the contents you use across your infrastructure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:07</div><div class="msg">again - that's Optional - as Endpoint management will work fine without the RackN Portal account - but you lose access to the advanced workflow management pieces w/out the Portal account</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:08</div><div class="msg">Are you guys collecting data/metrics/telemetry based on access to the Portal (even for non-RackN accounts)? I work for Intel so I gotta ask the "security" questions! :stuck_out_tongue:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:08</div><div class="msg">we have some training slide decks that might be interesting for you:
Feature Landscape: 		<a href="https://goo.gl/GYtwNS">https://goo.gl/GYtwNS</a> 
Installation: 			        <a href="https://goo.gl/BoQG8J">https://goo.gl/BoQG8J</a> 
Configuration:  			<a href="https://goo.gl/BzJzTP">https://goo.gl/BzJzTP</a>  
Content Introduction:  		<a href="https://goo.gl/LChN6r">https://goo.gl/LChN6r</a>  
Understanding Stages:		<a href="https://goo.gl/iUjNNJ">https://goo.gl/iUjNNJ</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:12</div><div class="msg">awesome! I'll look all of this over.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:16</div><div class="msg">@spencerj uploaded a file: <a href="https://rackn.slack.com/files/U574XHDJN/F80N2SYFR/pasted_image_at_2017_11_13_02_16_pm.png">https://rackn.slack.com/files/U574XHDJN/F80N2SYFR/pasted_image_at_2017_11_13_02_16_pm.png</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:16</div><div class="msg">not sure if this is a bug.. I was just trying to update the MAC for the reservation but it wont let me.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:19</div><div class="msg">also... I ran the new install command:
`curl -s get.rebar.digital/stable | bash -s -- install --isolated --upgrade=true`
but after drpcli still shows v3.0.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:30</div><div class="msg">so - you must have an older version binary that's getting started up from a previous install ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:30</div><div class="msg">did you do a "production" mode install that put a `dr-provision` binary in `/usr/local/bin` ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:31</div><div class="msg">(and presumably, you're running `drpcli` on the same node as the `dr-provision` binary - the DRP Endpoint) ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:32</div><div class="msg">yes, drpcli is on the same node as dr-provision.. checking /usr/local/bin</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:32</div><div class="msg">in _isolated_ install mode - the`dr-provision` binary should be installed as:
`bin/linux/amd64/dr-provision`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:32</div><div class="msg">if you run that binary w/ `--version` flag, what does it spit out ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:33</div><div class="msg">```root@demo:~$ bin/linux/amd64/dr-provision --version
dr-provision2017/11/13 22:32:05.195814 Version: v3.2.1-0-2ab654478528d1ee59781f7d53bc8f8b9c6853dd```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:33</div><div class="msg">whoa... I guess I was on this same system back in May!! LOL.. whoops!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:33</div><div class="msg">drpcli and dr-provision both in /usr/local/bin.. LOL</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:33</div><div class="msg">I guess I'll delete those and start over.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:33</div><div class="msg">yeah - that would be what we call "production" install mode</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:34</div><div class="msg">I'd recommend wiping (or at least archiving off - if you were previously using them and worried about preserving) the following:
```/usr/local/bin/dr-provision
/usr/local/bin/drpcli
/var/lib/dr-provision/
/var/lib/tftpboot/```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:35</div><div class="msg">those are the defautl paths that v3.0.1 used - so adjust accordingly if you installed in a different location</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:35</div><div class="msg">okay! all cleaned up!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:36</div><div class="msg">also - there might be an
```/etc/systemd/system/dr-provision```
start up script that should be checked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:36</div><div class="msg">(or other appropriate init script)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:45</div><div class="msg">okay I think I'm back up! :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:45</div><div class="msg">```
  "version": "v3.2.1-0-2ab654478528d1ee59781f7d53bc8f8b9c6853dd"
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:45</div><div class="msg">Yay!  Welcome to the modern Era !</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:46</div><div class="msg">LOL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-13 22:46</div><div class="msg">lol</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:48</div><div class="msg">@spencerj uploaded a file: <a href="https://rackn.slack.com/files/U574XHDJN/F7Z0X1MUG/pasted_image_at_2017_11_13_02_48_pm.png">https://rackn.slack.com/files/U574XHDJN/F7Z0X1MUG/pasted_image_at_2017_11_13_02_48_pm.png</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:48</div><div class="msg">booting to sledgehammer but it looks like it's bombing out.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-13 22:49</div><div class="msg">Make sure that your static-ip is not set (and if its not, you may need to specify it).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-13 22:49</div><div class="msg">It appears that it is use the static-ip fall back</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:49</div><div class="msg">wasn't your DRP endpoint 10.0.0.10 ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:49</div><div class="msg">LOL.. yeah it's not set, or at least I didn't specify one for the initial dr-provision command.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-13 22:50</div><div class="msg">192.168.124.11 is our default thing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:50</div><div class="msg">the DRP host has 2 NICs.. one routeable and one private.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:50</div><div class="msg">`ps -ef | grep dr-provision | grep -v grep` (plz)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:50</div><div class="msg">I only want to listen on the private interface. but I want to access UX on routable.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:51</div><div class="msg">the DRP Endpoint doesn't need access to public internet/RackN Portal for UX</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:51</div><div class="msg">you just have to be able to reach the DRP Endpoint from your laptop/desktop/whatever</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:51</div><div class="msg">```
root      15445  13994  3 15:38 pts/0    00:00:27 ./dr-provision --base-root=/root/dr-test/drp-data --local-content= --default-content=
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-13 22:52</div><div class="msg">so, we try and guess, but somethings we get it wrong.  The `static-ip` is the fallback if we can?t guess the outbound interface.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-13 22:52</div><div class="msg">Sooo - `--static-ip=10.0.0.10`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:52</div><div class="msg">oh okay!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:52</div><div class="msg">got it!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-13 22:53</div><div class="msg">We may want to re-evaluate that code.  It seems like it may not be working correctly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:54</div><div class="msg">so to be clear.. the static-ip should be the interface targeted for DHCP/PXE traffic?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 22:54</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 22:54</div><div class="msg">okay cool!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-13 23:00</div><div class="msg">@spencerj we collect the "drpcli info get" information about endpoints that connect to the UX.  That's what we use to determine the features that can be enabled and if there are any version warnings.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:00</div><div class="msg">oh okay cool!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-13 23:00</div><div class="msg">we don't store any passwords, content or other data about the endpoint.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:01</div><div class="msg">sweet thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:01</div><div class="msg">so now that I'm running the latest stuff on 3.2. Is there a way to see the info that sledgehammer collected? does it collect "facts" like ansible?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 23:02</div><div class="msg">`drpcli machines list`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 23:03</div><div class="msg">or, get a list of Machine names:
`drpcli machines list | jq '.[].Name'`
`"snoopy"`
and then show a specific machine:
`drpcli machines show snoopy`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 23:03</div><div class="msg">the Machines menu entry in the UX also shows the inventory information</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 23:07</div><div class="msg">to dump *just* the inventory for a given machine:
`drpcli machines list | jq -r '.[] | "\(.Name)  \(.Uuid)"'`
`snoopy  80b86604-be25-4f27-ba0b-f8382db42b96`
then use the UUID to get the inventory for the given machine:
`drpcli machines get 80b86604-be25-4f27-ba0b-f8382db42b96 param gohai-inventory`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-13 23:09</div><div class="msg">@spencerj RE inventory... there are params on the machine AND params from the profiles that are on the machine (including global by default).  So the "inventory" per machine merges both together when it expands params in templates</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:18</div><div class="msg">awesome thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:19</div><div class="msg">now who can tell me about the RAID/BIOS capabilities? what does this mean? can DRP automate RAID configuration?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:20</div><div class="msg">specifically I'm asking about HW raid controllers like LSI.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 23:21</div><div class="msg">yes - we can, however - it's not yet 100% baked - @vlowther has been working on the RAID capabilities - porting the MegaRAID tools (which support LSI controllers) from our older DRv2 product to our current DRPv3</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:22</div><div class="msg">okay awesome!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 23:22</div><div class="msg">same story - but I believe the porting is a lot further behind ... for BIOS/Firmware capabilities</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 23:22</div><div class="msg">note that RAID/BIOS stuff are "premium" features that are paid content pieces w/ RackN - not part of the OpenSource provisioning pieces</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:24</div><div class="msg">okay cool! and yeah.. I saw that on the RackN pricing page. so what exactly do we get for the "$1 per server per month" ? obviously not the RAID/BIOS stuff, but what are the main added features with the paid plan?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:24</div><div class="msg">I think you, or someone mentioned "Control Workflow" earlier? is that not included with DRP?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-13 23:26</div><div class="msg">that base is for RackN support of the open source.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-13 23:26</div><div class="msg">the control workflow was moved into the open source for v3.2</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:27</div><div class="msg">OH.. SWEET!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-13 23:28</div><div class="msg">you are right, RAID/BIOS, metal IPMI, direct to disk imaging, licensed O/Ses, etc are ala cart pricing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:29</div><div class="msg">okay cool! thank you!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/16b8395323d0858ad89ff9a762fb2584.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0010-72.png" /><div class="message"><div class="username">spencerj</div><div class="time">2017-11-13 23:30</div><div class="msg">and thank you to everyone who's chimed in today! SUPER helpful!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-13 23:41</div><div class="msg">no problem !  let us know if you run into any other issues ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-14 20:04</div><div class="msg"><!channel> ( @chriscowley ) - we now have an arm64 Linux build in our "tip" version...  NOTE - this is extremely minimally tested (i.e. I chucked it on an arm64 centos7 platform in <a href="http://packet.net">http://packet.net</a> ... and it worked, but YMMV) - please treat it like "alpha" feature.  To install - use "tip" version, like:
`curl -s get.rebar.digital/tip | bash -s -- install --isolated --drp-version=tip`</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-15 07:51</div><div class="msg">@rackneng I'll try it on oDroid C2 when I get a chance. The Rpi is not ARM64 though - it is ARMv7 :-)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-15 07:51</div><div class="msg">While ARM64 sits me, I think the wider community would benefit more from an ARMv7 build</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-15 15:21</div><div class="msg">@chriscowley - what does `uname - m` on those v7 platforms return? </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-15 18:10</div><div class="msg">hello</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-15 18:10</div><div class="msg">can i assign a static ip for guest vm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-15 18:20</div><div class="msg">@yusuf.hussein - yes, you would use a "Reservation" to do that - but you do need to know "some info" about your Guest VM to assign an IP to it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-15 18:20</div><div class="msg">usually that's the MAC address</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-15 18:23</div><div class="msg">for one server we can have mac address</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-15 18:23</div><div class="msg">what if for more than 100</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-15 18:25</div><div class="msg">the (minimal) UX doc we have is:
<a href="http://provision.readthedocs.io/en/latest/doc/ui.html#reservations">http://provision.readthedocs.io/en/latest/doc/ui.html#reservations</a>
or - via the `drpcli` command line, you could do:
```echo '{
  "Addr": "1.2.3.4",
  "Available": true,
  "NextServer": "1.2.3.10",
  "Options": [],
  "ReadOnly": false,
  "Strategy": "MAC",
  "Token": "00:0c:3f:f1:13:d3"
}'  &gt; my_reservation.json
drpcli reservations create -&lt; my_reservation.json```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-15 18:25</div><div class="msg">you could allow the machines to be discovered automatically by DRP - then convert an existing Lease to a static reservation - if you don't want to collect the MAC addrs of all of your Machines</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-15 18:38</div><div class="msg">ok thank you</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-15 18:38</div><div class="msg">let me try</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-15 22:57</div><div class="msg">is it going to be any impact in our excising DHCP server if we add these parameter</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-15 22:57</div><div class="msg">set next-server 192.168.19.79 ? Rackn server 
set filename " lpxelinux.0"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-16 01:27</div><div class="msg">@yusuf.hussein the system can also be set to reserve the ip after assignments.  So it keeps getting the same address after the first dhcp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-16 01:29</div><div class="msg">Oh, @shane said the sand thing earlier</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-15/274336440551_b0737ffea5d5dcacb190_72.jpg" /><div class="message"><div class="username">mprzyjazny</div><div class="time">2017-11-16 04:57</div><div class="msg">has joined #community201711</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-16 08:02</div><div class="msg">@rackneng `uname -m` returns `armv7l`on a R-Pi and `aarch64` on an oDroid</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-16 08:03</div><div class="msg">@rackneng (I reckon  a Pine64 will also return `aarch64`)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-16 08:53</div><div class="msg">This may be in the docs, but I haven't seen it. Are you capable of deploying a Windows client OS?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-16 12:26</div><div class="msg">Not in community.  You would need to work with RackN.  The problem is that we are still building up the patterns for that.  Also it depends upon your starting windows position. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 14:07</div><div class="msg">@chriscowley - thx for the uname's</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-16 15:02</div><div class="msg">@yusuf.hussein pinned a message to this channel.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/25c0e92a15301feeb67fbedd806b9c94.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">dongluo.chen</div><div class="time">2017-11-16 20:01</div><div class="msg">has joined #community201711</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:31</div><div class="msg">hmm...something in a recent update is causing our builds to fail here...
```
+ /usr/local/bin/drpcli machines processjobs e6de1551-4be6-4b9c-b4bb-d960b39a2421
Segmentation fault
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:33</div><div class="msg">@lae are you using "tip"?  what version?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:33</div><div class="msg">can you do a `strings` on the drpcli binary ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:34</div><div class="msg">iteration is taking a while</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:34</div><div class="msg">sorry - don't do "strings" :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:34</div><div class="msg">oh wait right it's on the drp server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:34</div><div class="msg">hold on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:34</div><div class="msg">I meant `file` to make sure binary architecture is right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:34</div><div class="msg">so it's too late for me to get the original version that segfaulted</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:35</div><div class="msg">583d0f24e1fd02140603ce096421467f  /var/lib/dr-provision/tftpboot/files/drpcli.amd64.linux
but this was the md5sum</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:35</div><div class="msg">I updated to current tip and the segfault still occurs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:36</div><div class="msg">and also yeah I checked that the arch was right:
```
+ uname -a
Linux (none) 4.1.15 #1 SMP Sun Aug 6 23:01:53 PDT 2017 x86_64 GNU/Linux
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:36</div><div class="msg">Right now I'm trying a provision with 3.2.1's binary</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:39</div><div class="msg">3.2.1 also segfaulted (trying 3.1.0 now)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:40</div><div class="msg">I think the one that was previously working with this bootenv/stage was tip sometime after 3.1.0 :v</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:41</div><div class="msg">ok - I just deployed `tip` version on x86_64 linux (centos 7) - no problems</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:42</div><div class="msg">```root@demo:~/foo$ uname -a
Linux 5min-drp-ewr1-00 3.10.0-327.22.2.el7.x86_64 #1 SMP Thu Jun 23 17:05:11 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux
root@demo:~/foo$ ./drpcli version
Version: v3.2.1-tip-41-6894ee85c5c018192ba9ce9b7378fd0fece724d7```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:42</div><div class="msg">yeah centos 7 worked fine for me (used it for deploying atomic yesterday)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:43</div><div class="msg">this is an in-house distro</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:43</div><div class="msg">cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:43</div><div class="msg">hmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:43</div><div class="msg">it still segfaulted</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:43</div><div class="msg">I did add some armv8 (aarm64) and armv7 (armv7l) architecture builds within the last few days - that includes modifications to the "install.sh" script to stick the "right" binaries in place for a "deployment" install</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:44</div><div class="msg">can something wrong with the tasks cause the segfault, you think?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:44</div><div class="msg">I wouldn't think tasks or plugins would cause `drpcli` issues - maybe `dr-provision` binary ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:45</div><div class="msg">are you running the binary via PATH locating - or directly via fully qualified path ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:45</div><div class="msg">dr-provision?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:45</div><div class="msg">or drpcli</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:45</div><div class="msg">it's drpcli you said that segfaulted, right ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:45</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:46</div><div class="msg">`/usr/local/bin/drpcli machines processjobs "e6de1551-4be6-4b9c-b4bb-d960b39a2421"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:48</div><div class="msg">ok - so this is occurring on a Machine you're trying to provision during a stage, right ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:49</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:49</div><div class="msg">are you able to manually run `drpcli` on the machine - say, just w/ the "version" flag ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:49</div><div class="msg">does it segfault then ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:50</div><div class="msg">or any other non "processjobs" actions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:50</div><div class="msg">not interactively, I can add it to the template though, hold on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:53</div><div class="msg">well, I added it but I also had redeployed dr-provision 3.2.1</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:53</div><div class="msg">so we'll see</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:53</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:57</div><div class="msg">still segfaults</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:57</div><div class="msg">with version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:58</div><div class="msg">you have access to the Machine ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-16 21:58</div><div class="msg">hm.  Any stacktraces?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:58</div><div class="msg">yeah - was hoping you could try and capture one off of the machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:58</div><div class="msg">access as in?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:59</div><div class="msg">ssh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 21:59</div><div class="msg">console</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 21:59</div><div class="msg">technically I'm attached to console, though it'll be a bit more effort to bring up an interactive one within this image</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:00</div><div class="msg">hold on lemme try something</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:01</div><div class="msg">the image is also probably going to be really limited though, I don't think strace will be in it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-16 22:04</div><div class="msg">If it is not spitting out a stacktrace on the console, check dmesg to see if it has anything weird.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-16 22:05</div><div class="msg">also, is it happening on just one machine or on more than one?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:14</div><div class="msg">I need to make a separate bootenv/stage - will report soon</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-16 22:25</div><div class="msg">Also, if you have a core dump, I suppose now is as good a time as ever to learn how gdb and go binaries interact. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-16 22:25</div><div class="msg">And by now, I of course mean after I get home. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:39</div><div class="msg">alright</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:40</div><div class="msg">I should have paid more heed to this particular message:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:40</div><div class="msg">```
# wget -O drpcli "$ProvURL/files/drpcli.amd64.linux"
Connecting to 10.11.110.50:8091 (10.11.110.50:8091)
wget: short write
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:41</div><div class="msg">```
# mount -t tmpfs -o size=1g tmpfs /tmp
# cd /tmp
# wget -O drpcli "$ProvURL/files/drpcli.amd64.linux"
Connecting to 10.11.110.50:8091 (10.11.110.50:8091)
drpcli               100% |*******************************| 20885k  0:00:00 ETA
# md5sum drpcli
3200370360a384e28bd3ca3a54d2e5e8  drpcli
# chmod +x drpcli
# ./drpcli version
Version: v3.2.1-0-2ab654478528d1ee59781f7d53bc8f8b9c6853dd
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:41</div><div class="msg">so basically / filled up when fetching drpcli</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 22:43</div><div class="msg">oye !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 22:44</div><div class="msg">jeesh - drpcli is a pretty slim binary !!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:45</div><div class="msg">there's too much code I didn't write to actually look through, but this is the first time I was running this bootenv (fireeye's appliance OS's manufacturing images) on this particular model of appliance, and I know that the manufacturing image does check for model and stuff so it might have, idk, made / a smaller fs than for other appliances that I know it's worked on</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:46</div><div class="msg">I actually had to make /tmp a tmpfs in order to run processjobs for other appliances anyway because of the code it pulled, might as well just drop drpcli there instead of /usr/local/bin</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:46</div><div class="msg">(due to lack of space)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-16 22:47</div><div class="msg">time to upgrade drp back to tip</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-16 22:48</div><div class="msg">cool - glad it was a simple environment issue !</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/dcf193d33118454831d919484b628de0.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0006-72.png" /><div class="message"><div class="username">ekrueger</div><div class="time">2017-11-16 23:56</div><div class="msg">has joined #community201711</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-17 00:14</div><div class="msg">so one thing i noticed but haven't had much chance to look into is that if the bootenv/stage is set to sledgehammer when a Machine boots up then it doesn't install SSH keys</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-17 00:15</div><div class="msg">I think that step might be missing on the sledgehammer stages specifically? (something about it being in control.sh in the discovery bootenv but that doesn't get used by sledgehammer last I looked)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 01:10</div><div class="msg">@ekrueger welcome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 01:10</div><div class="msg">ssh keys are not installed until after OS (bootenv) is installed - we do have an option to inject SSH keys in to Sledgehammer live boot - but it doesn't do that by default</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 01:10</div><div class="msg">@lae ^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 03:55</div><div class="msg">@chriscowley - I have an armv7 build done - it's not pushed for deployment yet - but if you have hardware you want to play with it on - let me know</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-17 20:53</div><div class="msg">@justin and @yusuf.hussein - this one is for you and all the others in the <!channel>. :slightly_smiling_face:  Tip has been updated to have DHCP Proxy support.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 20:55</div><div class="msg">woot !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-17 20:55</div><div class="msg">You can now  build a subnet configuration (mostly so we don?t do it for everything) and set the Proxy flag to true.  I don?t have a UI part for this, yet.  You will need to use the CLI.  UX coming.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-17 20:56</div><div class="msg">`drpcli subnets update mysubnet '{ "Proxy": true }'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-17 20:57</div><div class="msg">This will turn the subnet into something sends pxe client proxy DHCP messages to hosts to send boot information.  The important options (though others can be sent) are the bootfile (67) and the nextserver (DRP Endpoint IP).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-17 20:57</div><div class="msg">I?ve tested this in virtualbox.  I?d be interested in how this works for y?all.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 20:58</div><div class="msg">and for @chriscowley - we have arm64 (v8) and arm_v7 (32 bit - armv7l) builds in the release</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-17 20:58</div><div class="msg">oh - yeah - that is in tip as well. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 20:59</div><div class="msg">So ... RaspberryPI and ODroid on, my friends !!   (and anything else ARMy)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-17 21:11</div><div class="msg">UX can now set proxy as well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-17 21:31</div><div class="msg">Thanks greg</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-17 22:38</div><div class="msg">i am getting error when i am turning on proxy</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-17 22:38</div><div class="msg">[root@rackn dr-provision-install]# ./drpcli subnets update mysubnet '{ "Proxy": true }'
Error: GET: subnets/mysubnet: Not Found</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-17 22:38</div><div class="msg">not sure if am doing correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 22:39</div><div class="msg">"mysubnet" refers to a subnet you create in a previous step</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 22:39</div><div class="msg">your subnet name will likely be different</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-17 22:41</div><div class="msg">thanks shane</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-17 22:41</div><div class="msg">my fault</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-17 22:41</div><div class="msg">it works</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 22:42</div><div class="msg">`drpcli subnets list | jq '.[].Name'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-17 22:42</div><div class="msg">that gives the name of all subnets on your DRP endpoint</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-17 22:54</div><div class="msg">what is jq ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-17 22:59</div><div class="msg">jq is a JSON swiss army knife.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-17 22:59</div><div class="msg"><a href="https://stedolan.github.io/jq/">https://stedolan.github.io/jq/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-17 23:00</div><div class="msg">We use it basically everywhere we need to mess with JSON on the commandline</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/496c5cc365e27e8a6b702e76c93a0acd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0019-72.png" /><div class="message"><div class="username">yusuf.hussein</div><div class="time">2017-11-17 23:07</div><div class="msg">thank you</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 02:21</div><div class="msg">3-</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 02:21</div><div class="msg">7*</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-20 03:27</div><div class="msg">21-</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 03:30</div><div class="msg">New math :stuck_out_tongue_winking_eye:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 03:46</div><div class="msg">Really? @zehicle you had to edit your answer?  :face_with_rolling_eyes:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-20 03:46</div><div class="msg">I'm rusty on my reverse polish</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 03:46</div><div class="msg">lol</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-20 03:47</div><div class="msg">although, my original answer is what would have been the output</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 14:08</div><div class="msg">Hi gang :wave: Can we talk about imaging to disk as an OS deployment method?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 14:26</div><div class="msg">We can.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 14:59</div><div class="msg">So, we have an OS image deployment process that goes like this:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 15:01</div><div class="msg">1) Make a ?gold-master? OS install image on a small HDD via manual config/Ansible, and then saving an image via Clonezilla (FOSS image capture/restore program)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 15:01</div><div class="msg">2) Image the target system disk (almost always much bigger than the image) with aforementioned gold master image</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 15:02</div><div class="msg">3) ^^^ is done via a ?LiveCD? ram OS, usually machine booted via a USB key, but also could be PXE - Then after the image is laid down on the machine?s internal HDD, must manually fire up GParted, and resize the partitions to a) create appropriate swap part/n, and b) resize other existing partition to appropriately fill the target disk</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 15:03</div><div class="msg">4) Once that is all done, run Ansible from the Live CD (pulling down playbooks from Git) and run them against the target disk which is mounted chroot (which is interesting, as some Ansible ?facts? relate to the in-mem OS, not the target disk OS? So we have to set/use custom facts)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 15:04</div><div class="msg">So, do you folks have a better way to deploy an image to a different size target disk? Or do you assume the target disk is same size as image disk?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-20 16:29</div><div class="msg">@wdennis so why not PXE a 'release' image, then just ansible it via workflow ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-20 16:31</div><div class="msg">I ask as I seem to be messing with the same workflow as you.  In my case, I'm attempting to match the Universities 'training of students' to some governmental 'service' companies</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 16:31</div><div class="msg">@wdennis - I?ll try and get back to this as well.  On call for a while.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 16:32</div><div class="msg">@ctrees one big reason not to do it that way - if you do installs based on PKG systems - you must host and carefully control every single package in your own hosted repo.  Otherwise, you end up with unknown version numbers and releases of pkgs installed on the Machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 16:32</div><div class="msg">in some environments - especially with large scale systems (1000s to 10000s) - you can NOT afford to be uncertain about an OS deployment with various versions of PKGs installed - and subtle bugs/interactions with your application and services</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-20 16:35</div><div class="msg">Yea, I figured so (which is why I'm looking into this also) but unless you normalize H/W (which is almost impossible now-days)... you still end up with a blizzard of snowflakes :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-20 16:39</div><div class="msg">I'm debating on where to cut the boundaries for 'the next major update' for these governmental systems but make sure the University grads can service the infra... but what @wdennis describes seems to be what the 'current pattern' is for the companies... storage seems to be the PIA</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 16:43</div><div class="msg">the Image deployment pattern is a major component of Immutable Infrastructure - which is a pattern popularized (not invented) in Cloud - with instantiating a VM - use it, update your VM images - then blow away VM, and re-instantiate it ... sort of workflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 16:44</div><div class="msg">there have always been similar Image (both raw image and filesystem image) capabilities in several deployment tools for decades that follow the "Gold Image" pattern and Immutable Infrastructure - what you do **after** the initial install is what dictates whether you're following those principles or not</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 16:44</div><div class="msg">if you PKG upgrade things in place after install - you are NOT following Immutable Infrastructure patterns</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 16:44</div><div class="msg">if you nuke a machine and redeploy when you need to update - you are</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 16:45</div><div class="msg">how you get to a common set of OS, supporting pkgs, and apps - can vary - but the goal is to guarantee WHAT is installed (precisely), along with how you operate that infra after the fact</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 17:59</div><div class="msg">@shane @ctrees I wouldn?t call what we are doing ?immutable? - it?s just a OS install acceleration mechanism in our case</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 18:00</div><div class="msg">?Immutable? to me means ?read-only?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 18:01</div><div class="msg">Maybe with COW technology, one could deploy an OS image which would be immutable, but then changes, OS state persisted to files, etc would go into a writeable layer on top</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-20 18:02</div><div class="msg">to me "immutable" means only initial configuration.  No patch/upgrade.  so, it's read only after the initial configuration.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 18:02</div><div class="msg">Not sure if that?s a thing on bare metal</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-20 18:03</div><div class="msg">even cloud immutable &amp; containers get initial configuration before they start taking workload.  once they are running, there's nothing in the system that cannot be thrown away</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 18:03</div><div class="msg">@zehicle Enforced read-only, or by convention?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-20 18:03</div><div class="msg">by convention</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-20 18:03</div><div class="msg">and the fact that the systems can be destroyed at any time</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 18:04</div><div class="msg">Yes, ok</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 18:04</div><div class="msg">Not like a memory-booted system then, but actual bits on disk?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-20 18:05</div><div class="msg">either way.  same effect.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-20 18:05</div><div class="msg">I did a post about this.... looking it uyp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-20 18:06</div><div class="msg"><a href="https://thenewstack.io/immutable-hardware-ops-hygiene-security-efficiency/">https://thenewstack.io/immutable-hardware-ops-hygiene-security-efficiency/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 18:07</div><div class="msg">Gentlemen?s agreement that local machine state past initial boot/provisioning is ephemeral, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 18:08</div><div class="msg">I see the utility in that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 18:12</div><div class="msg">Immutable Infrastructure as applied to OS and App deployment (generally) separates out the state in 3 layers:
1.  OS deployment guaranteed to be the same across all deployments/machines
2. OS state is separate (this includes configuration elements to make a VM or Machine "operate" correctly)
3. application state separated out from deployment/provisioning activities
Usually - the "application state" part is via "cloudy" based services (eg highly replicated technologies) - such that any given Application instance can be destroyed, and the state can "carry on" beyond the death of the individual VM/Machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 18:12</div><div class="msg">you can consider these "layers", but they don't have to be enforced in a layered filesystem model - but Containers very much adhere to this principle with layers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 18:17</div><div class="msg">We actually have another cluster here wherein the base OS comes in via PXE, and runs memory-resident, but the nodes also have disk in them to persist certain state</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 18:52</div><div class="msg">Well immutable infrastructure not withstanding.   I?ve started looking at your steps, @wdennis.  I think those are possible and I?ve started that process.  With regard to immutable or not.  I think DRP should enable all the insanity possible, but encourage best practices.  Soooo. all 4 steps are actually allowed and done in some of the experimental imaging stuff I?ve been doing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-20 18:56</div><div class="msg">... I'll sign up to build, use, document and rebuild the path blazed by @greg and @wdennis :wink:  I've been coming up to speed on  sphinx</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-20 18:57</div><div class="msg">Sweet.  I've updated the document on documentation in "latest" </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-20 19:02</div><div class="msg">ok... I think I follow the doc patterns... I used your 5min demo for both doc gray and mailservices, they had a few general questions like 'why sphinx' and why not just md (as kubespay seems to use)... then github has pages.github.com.... (they really don't care that much other than 'choice motivation'</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 20:04</div><div class="msg">@greg The sticking point with our imaging process is the manual resizing of partitions after imaging the target disk (as well as creating a swap part?n based on RAM size) - love to hear any ideas for automating that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 20:08</div><div class="msg">Okay - soooo - I?ve started working on this by using the CoreOS ignition tool with some helpers.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 20:08</div><div class="msg">It also depends upon what imaging technique you are using.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 20:09</div><div class="msg">well - backing up.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 20:09</div><div class="msg">First, This can be done as a task in sledgehammer.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 20:12</div><div class="msg">We use ?Clonezilla? live via PXE-boot ( <a href="http://clonezilla.org">http://clonezilla.org</a> )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 20:20</div><div class="msg">@greg Is CoreOS Ignition usable as a post-imaging tool? Looks to me from what I?m reading as a pre-install prep tool, as well as an installer...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 20:27</div><div class="msg">I?ve added imaging capabilities to it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 20:27</div><div class="msg">so, you can do pre/post and install.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 20:27</div><div class="msg">clonezilla looks interesting.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 20:28</div><div class="msg">An interesting thing is that you could build a clonezilla bootenv with custom templates to restore and/or backup systems.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-20 20:54</div><div class="msg">Oh sure</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-20 22:28</div><div class="msg">Can I change the name of a discovered machine?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 22:30</div><div class="msg">Yes - only through the cli and API (not the UX) currently.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-20 22:30</div><div class="msg">`drpcli machines update &lt;uuid&gt; '{ "Name": "newname" }'`</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-20 22:31</div><div class="msg">Ah thanks</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-21 04:51</div><div class="msg">@ctrees we did use markdown for a while - switching to RST and Sphinx lets us use readthedocs and have all the awesome xref, index and PDF features that come with treating the docs like a book.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 13:35</div><div class="msg">Did not notice an announcement that there?s a v3.3 (new stable) out now?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-21 13:39</div><div class="msg">I think the community meetup is still on for ?? Wed ??</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 13:41</div><div class="msg">idk</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-21 13:41</div><div class="msg">Today.  Sorry about that.  Finished it yesterday but had to take care of some family things.  Will discuss it today</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-21 13:41</div><div class="msg"><a href="https://www.meetup.com/digitalrebar/events/243490159/">https://www.meetup.com/digitalrebar/events/243490159/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-21 13:41</div><div class="msg">Every other Tuesday </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 13:42</div><div class="msg">thx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 13:42</div><div class="msg">Anyways, no problem, just wondered if I missed the announcement?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-21 13:43</div><div class="msg">The short of it is. Small release   Minor bump is because I tweaked the api in subnets. Addition of field that defaults to good value.  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 13:44</div><div class="msg">I see from commits that Swagger is going away soon?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-21 13:45</div><div class="msg">The cli generate from swagger.   It is a pain.   Bloated and wrong.  We will talk about that to. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 13:45</div><div class="msg">OK</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-21 13:45</div><div class="msg">Too</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 17:09</div><div class="msg">Could I get some help configuring the IPMI plugin?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 17:57</div><div class="msg">In just about an hour, we'll be hosting the v005 Digital Rebar online meetup - lots to discuss around new features, the new v3.3 release, content use case, documentation, etc... check out Agenda items, along with links to the meetup zoom URL, at:
<a href="https://docs.google.com/document/d/1EDme5I05Sxwe111iluQDa1E-OiLY0xkKTCEn7bQIvfA">https://docs.google.com/document/d/1EDme5I05Sxwe111iluQDa1E-OiLY0xkKTCEn7bQIvfA</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 17:57</div><div class="msg">@shane shared a file: <a href="https://rackn.slack.com/files/U6QFVRJNB/F836ZEQGZ/v005_-_20171121_-_drp_3">https://rackn.slack.com/files/U6QFVRJNB/F836ZEQGZ/v005_-_20171121_-_drp_3</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 17:58</div><div class="msg"><!channel> ^^^^^^</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-21 19:17</div><div class="msg">@zehicle uploaded a file: <a href="https://rackn.slack.com/files/U02DHRR2L/F84U08JRM/rackn_provisioning_automation__bonus_immutable_and_edge__-_nov_2017.png">https://rackn.slack.com/files/U02DHRR2L/F84U08JRM/rackn_provisioning_automation__bonus_immutable_and_edge__-_nov_2017.png</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-21 19:17</div><div class="msg">a very very simple version of the runner</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bb961b39f98e655d6420214295ab0a7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">carl</div><div class="time">2017-11-21 20:02</div><div class="msg">A discussion point for next week unless it's already been covered: UEFI support (it's sadly becoming a problem for me, and will be required for most commercial ARM platforms)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:02</div><div class="msg">we have discussed it very briefly - but have not focused on it much</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:03</div><div class="msg">UEFI PXE options</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:04</div><div class="msg">In your `subnets` specification - you'd set DHCP options similarly.  We also support the use of the Golang Template language within the subnets/DHCP options to do interesting things - namely change which PXE file is provided based on the options we receive from a Machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:04</div><div class="msg">around the Nov13th time frame there was discussion here in #community you might want to review and see if that helps ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:15</div><div class="msg">Also discussed in today's meetup was the Runner/Workflow system - here's the drawing:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:16</div><div class="msg">@shane uploaded a file: <a href="https://rackn.slack.com/files/U6QFVRJNB/F83QJ667M/digital_rebar_runner_workflow.pdf">https://rackn.slack.com/files/U6QFVRJNB/F83QJ667M/digital_rebar_runner_workflow.pdf</a> and commented: From 2017/11/21 DRP v005 meetup discussion.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bb961b39f98e655d6420214295ab0a7c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0023-72.png" /><div class="message"><div class="username">carl</div><div class="time">2017-11-21 20:20</div><div class="msg">Good to know. Thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:25</div><div class="msg">@shane Could I get some help configuring the IPMI plugin? (are there any docs on this?)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:27</div><div class="msg">I don't think there are docs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:28</div><div class="msg">I installed the plugin, "activated" it, and have set a param on it for password</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:29</div><div class="msg">Not sure what else might need to be done, but big issue is how to apply it to the machines...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:29</div><div class="msg">which param</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:29</div><div class="msg">`ipmi/configure/password`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:30</div><div class="msg">I haven't played w/ the IPMI plugin much lately - but I'm guessing you also have to set a username and machine IP address</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:30</div><div class="msg">so you'd have to create either a set of Params you apply to a machine - or a profile which has those settings - per machine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:31</div><div class="msg">There's only one entry in Systems &gt; Plugins, correct?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:34</div><div class="msg">Corresponding to this from drpcli:
```
[dradmin@dr-admin ~]$ drpcli plugins list
[
  {
    "Available": true,
    "Errors": [],
    "Name": "ipmi",
    "Params": {
      "ipmi/configure/password": "xxxxxxx"
    },
    "PluginErrors": [],
    "Provider": "ipmi",
    "ReadOnly": false,
    "Validated": true
  }
]
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:35</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:35</div><div class="msg">other params:
`ipmi/configure/username`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:35</div><div class="msg">`ipmi/address`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:35</div><div class="msg">If they are all the same across my hosts, I can set the param values in the plugin, correct?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:37</div><div class="msg">ah - so the ones w/ `configure` in them are for bootenv install time to SET the username/password parameters (etc.)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:38</div><div class="msg">are you just looking to add power management controls ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:38</div><div class="msg">Yes, power cycle, next boot pxe, etc</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:42</div><div class="msg">I don't see how to "enable" a host for IPMI (and get the power controls in the UX for the host)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:55</div><div class="msg">@shane Any idea?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:58</div><div class="msg">discussing it - I haven't played with this plugin - my work to date has only been in packet - which is very different enabling it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 20:58</div><div class="msg">I am very familiar w/ BMCs and IPMI management - just checking out how to do this properly w/in the product right now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 20:58</div><div class="msg">Cool, thx</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:00</div><div class="msg">sadly - I don't have any hardware to really test this against ... so reading code, and what not</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:03</div><div class="msg">I'm using `ipmitool` outboard right now to kick the machines, like to control them from the UX (a la Rob's recent terraform vid)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:03</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:04</div><div class="msg">maybe it isn't integrated into the UX yet?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:05</div><div class="msg">there's the `task` named `ipmi-configure` which implements the actual configuration which would happen as a stage - there are templates which are used for the configure</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:05</div><div class="msg">but looking at pure power management - I think the only 3 params that matter are:
`ipmi/address`
`ipmi/username`
`ipmi/password`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:06</div><div class="msg">you need these applied to a Machine - which then should enable the IPMI power actions in the UX</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:06</div><div class="msg">username and password can be a profile - that you apply (even in `global` if you wanted to apply to everything)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:06</div><div class="msg">Cool, I have all three set on one of my machines - however, no IPMI buttons showing up...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:06</div><div class="msg">address would have to be a per-Machine param</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:06</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:07</div><div class="msg">It looks like setting ipmy/enabled, ipmi/username, ipmi/password, and ipmi/address to the proper values on each node (via profile for all but address, which is definitly node-specific) is what is required</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:07</div><div class="msg">the ipmi-configure task will do that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:07</div><div class="msg">if you have existing settings, it looks like ipmi/configure/network=false and ipmi/configure/user=false params will keep the ipmi-configure task from mucking about with your settings.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:07</div><div class="msg">Ah, `ipmi/enabled`...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:07</div><div class="msg">Let me try setting that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:08</div><div class="msg">make sure you're profile applies the `ipmi/configure/...=false` settings as @vlowther mentioned for safety reasons, too</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:10</div><div class="msg">OK, now without doing anything... The IPMI buttons are showing up on the machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:10</div><div class="msg">As expected.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:10</div><div class="msg">(Perhaps I moved off the machine screen and then back on?)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:11</div><div class="msg">When I clicked "Reboot" I got a popup saying "Action Error"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-21 21:11</div><div class="msg">The ipmi plugin requires no parameters.  The configure parameters would need to be on a machine.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:12</div><div class="msg">Just these three?
```
        "ipmi/address": "testnode01-ipmi",
        "ipmi/password": "xxxxxxx",
        "ipmi/username": "root"
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:13</div><div class="msg">might be dns problem w/ ipmi address resolution ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:13</div><div class="msg">from command line on DRP Endpoint - does that short name resolve correctly ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:13</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:14</div><div class="msg">```[dradmin@dr-admin ~]$ dig testnode01-ipmi

; &lt;&lt;&gt;&gt; DiG 9.9.4-RedHat-9.9.4-51.el7 &lt;&lt;&gt;&gt; testnode01-ipmi
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER&lt;&lt;- opcode: QUERY, status: NOERROR, id: 31366
;; flags: qr aa rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;testnode01-ipmi.		IN	A

;; ANSWER SECTION:
testnode01-ipmi.	1	IN	A	192.168.1.161

;; Query time: 0 msec
;; SERVER: 192.168.1.254#53(192.168.1.254)
;; WHEN: Tue Nov 21 11:57:16 EST 2017
;; MSG SIZE  rcvd: 60
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:14</div><div class="msg">can you confirm that `ipmitool -U root -P xxxxx -H testnode01-ipmi chassis power status` runs successfully **from** the DRP Endpoint ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:18</div><div class="msg">Interesting... I usually don't use the `-P` param (if you omit it, it asks for the password interactively)... When I passed it, here's what I see:
```[dradmin@dr-admin ~]$ ipmitool -I lan -H testnode01-ipmi -U root -P xxxxxxx -a chassis power status
Password:```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:19</div><div class="msg">If I just hit &lt;CR&gt; at the password prompt, I get a fail:
```[dradmin@dr-admin ~]$ ipmitool -I lan -H testnode01-ipmi -U root -P xxxxxx -a chassis power status
Password:
Activate Session command failed
Error: Unable to establish LAN session
Error: Unable to establish IPMI v1.5 / RMCP session```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:19</div><div class="msg">-I lanplus</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:20</div><div class="msg">and -a?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:20</div><div class="msg">same diff...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:20</div><div class="msg">Let me add `-a`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:20</div><div class="msg">can you `ping testnode01-ipmi` ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:21</div><div class="msg">Nope, still asking for password</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:21</div><div class="msg">@shane - I can, it resolves the IP, but the IPMI interface doesn't allow pings</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:22</div><div class="msg">```[dradmin@dr-admin ~]$ ping testnode01-ipmi
PING testnode01-ipmi.necla.lab (192.168.1.161) 56(84) bytes of data.
^C
--- testnode01-ipmi.necla.lab ping statistics ---
9 packets transmitted, 0 received, 100% packet loss, time 7999ms```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:22</div><div class="msg">But, I know IPMI works when I use `ipmitool` with user &amp; password</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-21 21:22</div><div class="msg">remove the `-a`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:23</div><div class="msg">duh</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:23</div><div class="msg">```[dradmin@dr-admin ~]$ ipmitool -I lanplus -H testnode01-ipmi -U root -P xxxxxx chassis power status
Error: Unable to establish IPMI v2 / RMCP+ session```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:24</div><div class="msg">This *is* a fairly old box; a PowerEdge 860 circa 2009...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:25</div><div class="msg">Needs to use IPMIv2, huh?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:25</div><div class="msg">So far it just looks like the dr-admin box cannot talk to that IPMI controller.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:26</div><div class="msg">unless I missed somethbing in the backscroll.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:26</div><div class="msg">No, I can talk to it via IPMIv1.5...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:26</div><div class="msg">Well then.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:27</div><div class="msg">We may need to make the IPMI protocol configurable. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:27</div><div class="msg">```[dradmin@dr-admin ~]$ ipmitool -I lan -H testnode01-ipmi -U root -a chassis power status
Password:
Chassis Power is on```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:27</div><div class="msg">IIRC, we have lanplus hardcoded right now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:27</div><div class="msg">ah</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-21 21:27</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:28</div><div class="msg">due to lan being old, trivially crackable, and the 9 and 10gen box we started dev on way back in the day supporting lanplus. :)\</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:28</div><div class="msg">OK, then maybe only supporting `lanplus` is reasonable then :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:29</div><div class="msg">notes to self must get more recent test platforms...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:30</div><div class="msg">I do have a PE R320 with standard iDRAC on my testbed, lemme try that...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:35</div><div class="msg">note that lanplus is also crackable, but it is at least possible to makei it harder to do so</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-21 21:41</div><div class="msg"><a href="http://fish2.com/ipmi/cipherzero.html">http://fish2.com/ipmi/cipherzero.html</a> &lt;-- for your viewing pleasure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:55</div><div class="msg">@vlowther thx</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:55</div><div class="msg">shudders</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:56</div><div class="msg">Yay, working platform!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 21:56</div><div class="msg">cool - we'll add an option to configure the IPMI Interface type to use</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:57</div><div class="msg">note to find more recent Dell platforms for testbed</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-21 21:57</div><div class="msg">Time to feed the :bear:!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 21:59</div><div class="msg">@vlowther @greg What does "Disk" impi plugin button do?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 22:00</div><div class="msg">(and why is "PXE' represented as a paperclip??)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-21 22:00</div><div class="msg">Set next boot pxe to disk</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 22:00</div><div class="msg">ah ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 22:02</div><div class="msg">@wdennis what would you represent "PXE" as in icon form ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 22:23</div><div class="msg">Tinkerbell?s shoe (the one with the little Pom-Pom on the tip) :stuck_out_tongue_winking_eye:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-21 22:24</div><div class="msg">?Pixie?, get it? Huh huh huh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-21 22:37</div><div class="msg">Yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-22 16:09</div><div class="msg">so @wdennis @greg from what I gather, sledgehammer or ?? CoreOS Ignition ?? could preform a / the clonezilla compatible process as a 'task'... I'm assuming the goal could be both to 'create' and / or 'restore' a backup image....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-22 16:18</div><div class="msg">seems if a sledgehammer task was to 'restore' a clonezilla created image to local disk, that then fits into @wdennis current infra with no change ? ( just coming up to speed on what you both are thinking )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-22 16:24</div><div class="msg">@wdennis also, the PE860 is 2006, not 2009. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:44</div><div class="msg">Yes- I wasn?t looking at clonezilla as the starting point, though that might work.  It has some custom tools.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:44</div><div class="msg">I was looking more at Hashicorp?s Packer tools.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 16:48</div><div class="msg"> @vlowther how time flies...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 16:49</div><div class="msg">@greg what format is a Packer image?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:49</div><div class="msg">Packer can generate rootfs tgzs, raw disks, amis,</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:49</div><div class="msg">from the same config</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 16:50</div><div class="msg">Hmmmm... nice</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:50</div><div class="msg">So, the imaging tasks I?m looking potentially use ignition and an config file generated by template.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 16:50</div><div class="msg">And the image format?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:51</div><div class="msg">The template defines disks, partitions, sw raid, images, filesystems, and possible files.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:51</div><div class="msg">With resize operations.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:51</div><div class="msg">It is a bit of a side project, but kinda works.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:51</div><div class="msg">The main issue I?m working on right now is get the systems to boot using syslinux bootloaders.  May need to switch.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:51</div><div class="msg">The goal would be to allow for windows images as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:52</div><div class="msg">Since packer generates both raw disk, raw partition, and filesystem tarballs you can do both.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 16:52</div><div class="msg">I think it?s great that you are working on this... </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:53</div><div class="msg">The idea is that you could build an ignition+ template that defines the partition layer, the filesystem type, and then the image tarball for each partition.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:53</div><div class="msg">That would be one level.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:53</div><div class="msg">You could also get a raw disk image with a resize to fill disk option.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:53</div><div class="msg">or a partition option as well.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 16:53</div><div class="msg">FS tarballs could be restored without mucking with partition resizing </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:54</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 16:54</div><div class="msg">Love it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:54</div><div class="msg">Still aways off.  I have most of the imaging pieces.  I?m still fighting with getting the systems to boot.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:54</div><div class="msg">May have to switch from syslinux based bootign to grub2 based booting.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 16:55</div><div class="msg">And windows sucks.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 16:55</div><div class="msg">On that we can all agree :)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:03</div><div class="msg">@greg looking at Packer docs; what Builder type do you use to create the FS tarballs?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:07</div><div class="msg">packer is a pretty nice tool - it's possible to make images that can be used for VMs and baremetal from the same base code - so you can have consistency across your infrastructure ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 17:09</div><div class="msg">Not sure - I know it can be done though.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:11</div><div class="msg">Hmmm... wonder how this can be done?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:13</div><div class="msg">the Hashi docs are always awful - they miss about 50 to 75% of functionality - and they don't provide any actually useful examples</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:13</div><div class="msg">you have to resort to googley-oogly searches to find real info on most of their products</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:13</div><div class="msg">packer is the same - absolutely bare minimal documentation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:14</div><div class="msg">(yeah, I know - glass houses, stones, and all of that ... )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:18</div><div class="msg">Power of.... _Google!_</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:19</div><div class="msg">Tarball is a post processor, it's not done as a builder </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 17:20</div><div class="msg">yeah - it is complex but pretty powerful.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:23</div><div class="msg">ultimately - packer basically "spins up" ... something ... that's a "builder" ... then you do "stuff" via their DSL (or a "provisioner").  Then you do something with the build - that's the "post processor" part.  you can do some pretty cool full CI/CD workflow with it - define, create, configure, deploy, test, create artifacts (eg tarball, raw, etc), then tear down the builder</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:27</div><div class="msg">it'll also do staging of your artifacts to "places" - registries, repos, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:28</div><div class="msg">there are a number of non-Hashi maintained plugs too - so there's a lot more out there that you can do - than what you find on Hashi website</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:29</div><div class="msg">Yup, got that - have played with Packer a bit to build images for AWS and DO</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:32</div><div class="msg">Someone asked on the Packer Google Group about a builder for bare metal targets (Sep 5 2017 post), someone else answered that Packer only targets cloud providers &amp; hypervisors that support snapshot images</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:33</div><div class="msg">building an image is a different thing than creating artifacts to deploy bare metal from ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:33</div><div class="msg">but most of the Hashi tools are "cloud centric" ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:34</div><div class="msg">Doesn?t sound like quite the right tool for the job...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:34</div><div class="msg">I thought from what @greg said that you guys had it working tho</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:35</div><div class="msg">we have indeed used it in the past - I'm not sure in what capacity - since I haven't used it w/in RackN - I used it at my previous 2 gigs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 17:43</div><div class="msg">I said I can deploy tgz fs images, raw disk images, or partition images.  Where those come from is up to you.  I?ve worked with people who have used packer to generate those.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:43</div><div class="msg">Well, I?ll wait to see what you guys come up with...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:43</div><div class="msg">@greg oh, misunderstood then... </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 17:44</div><div class="msg">What I can?t do is currently boot the system consistently afterwards.  That is why this isn?t finished.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 17:44</div><div class="msg">We worked with one customer to image-based installs.  Generated a very custom system for them.  I?ve been looking at generalizing that for wider consumption.  I?m not done and may not be done for a while.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:45</div><div class="msg">Got it</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 17:46</div><div class="msg">so curious whats used to tie the rebar backend to deploy systems, to say the customer facing side... from a hosting/server reseller perspective.....</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 17:47</div><div class="msg">we want say customer A to be able to login / order/ pay and spin up both physical hardware and XenServer VMs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 17:47</div><div class="msg">@wdennis - here's an example of how someone is using packer/docker/and tooling to extract rootfs for <a href="http://packet.net">http://packet.net</a> images: <a href="https://github.com/packethost/packet-images">https://github.com/packethost/packet-images</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:50</div><div class="msg">Very interesting </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-22 17:51</div><div class="msg">Those Packet folks got it going on...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 17:54</div><div class="msg">@outbackdingo - DRv2 used to have a multi-tenant system to handle some of this.  We found it complex and people weren?t using it.  So, in DRP, we don?t have that for now.  We?ll see if it needs to grow one.  DRP does have a object-level restriction system, but using it for multi-tenancy could be a stretch.  Doable, but a stretch.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 17:57</div><div class="msg">@greg so when looking at say hetzner OVH, and every other server/hosting provider out there, what in heck are they using to deploy for clients in the backend... ive looked high and low</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:01</div><div class="msg">@outbackdingo - well - not sure.  I can guess.  I suspect most roll their own in some way shape or form.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:01</div><div class="msg">If I were doing it, I would actually use DRP as part of the solution.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:02</div><div class="msg">@greg yes DRP i plan to try to deploy tonight... wheres the guide again</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:03</div><div class="msg">ive contemplated rolling something from ansible / terraform</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:03</div><div class="msg">but id figure someones already selling  something like this for hosting providers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:03</div><div class="msg">For an SP or HP, you would need a billing system, user/identity/control  system, and a provisioning system.  I would start them as three separate services than the user/identity control system drive the billing and the provisioning systems.  But that is high-level fluff version.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:03</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:04</div><div class="msg">yeah from the old web hosting only days... WMHCS... blah......</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:04</div><div class="msg"><a href="http://provision.readthedocs.io/en/latest/doc/quickstart.html">http://provision.readthedocs.io/en/latest/doc/quickstart.html</a></div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:12</div><div class="msg">@greg Debian 9 host of to deploy? or CentOS 7 better?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:13</div><div class="msg">i prefer FreeBSD.... but.......</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:13</div><div class="msg">its all in docker containers still right ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 18:13</div><div class="msg">No docker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:13</div><div class="msg">no - single go binary</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:13</div><div class="msg">ok... nothing here says what server os should be</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 18:14</div><div class="msg">(unless you want to stick the golang binary in one for fun) </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 18:15</div><div class="msg">Any Linux distro that is running on 64 bit hardware will work. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 18:15</div><div class="msg">We do recommend centos or Ubuntu as we test on that</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:15</div><div class="msg">ok Debian VM it is</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 18:17</div><div class="msg">Debian should work fine, the installer verifies dependencies and takes care of them, I think Debian is working in installer </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:37</div><div class="msg">ok how to i stop these damn console messages scrolling by</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:37</div><div class="msg">jeeez</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:39</div><div class="msg">and why is this giving an error ./drpcli machines bootenv 59bcca1e-7cfb-4ab4-ae2c-7e5475205b36 centos-7-install
Error: ValidationError: machines/59bcca1e-7cfb-4ab4-ae2c-7e5475205b36: Can not change bootenv while in a stage unless forced. old: sledgehammer new centos-7-install
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:43</div><div class="msg">The first is because you ran in isolated mode and it logs those messages to stdout/stderr.  Under production those go to systemctl logging.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:43</div><div class="msg">Second, you need to change the machines stage instead of bootenv.  Setting the stage will set the bootenv.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:43</div><div class="msg">Same command change ?bootenv? to ?stage?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:46</div><div class="msg">ok...install doing a centos automated install on an XenServer template</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:47</div><div class="msg">interesting.... </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:47</div><div class="msg">lets see what happens when its done</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:49</div><div class="msg">Nice UI by the way... very  nice</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:49</div><div class="msg">@zehicle will like to hear that. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:50</div><div class="msg">Did you do workflows?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:52</div><div class="msg">@greg uhoohhh ? workflows ?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:52</div><div class="msg">i followed the guide</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:52</div><div class="msg">well - it may cycle.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:52</div><div class="msg">because you didn?t tell it what to done when done installing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:52</div><div class="msg">I have a fix for that coming, but it isn?t ready yet.  maybe next week.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:52</div><div class="msg">Anyway,</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:53</div><div class="msg">In workflows, you want to add centos-7-install -&gt; complete-nowait Success</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:53</div><div class="msg">hah... docs stated Reboot your Machine - it should now kick off a BootEnv install as you specified above.
watch the console, and you should see the appropriate installer running
the machine should reboot in to the Operating System you specified
</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:53</div><div class="msg">That last bit may not work.  :neutral_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:54</div><div class="msg">it should, but may not.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:54</div><div class="msg">and it seems sitting there at running post-installation scripts</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 18:54</div><div class="msg">so where do i update this workflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:54</div><div class="msg">In the UX, under workflows</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:55</div><div class="msg">next to the add step button, `From Stage` should be `centos-7-install`.  `To Stage` should be `complete-nowait` and leave success.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 18:56</div><div class="msg">Then click the add step button.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 19:05</div><div class="msg">shouldnt success be reboot ?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 19:21</div><div class="msg">still seems stuck sitting there at running post-installation scripts</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 19:28</div><div class="msg">@greg seems no joy</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 19:29</div><div class="msg">darn and i was hping to deploy 3 kubernetes nodes tonight.... </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 19:55</div><div class="msg">ok seems even the ubuntu install is broken... at least here for some reason... it states no root filesystem is defined</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 19:57</div><div class="msg">No on reboot.  We want the install stage to finish its install instead of us rebooting the system. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 19:58</div><div class="msg">You can check jobs tab to see if anything failed.  It might give hints.  </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 19:59</div><div class="msg">
centos-7-install
Start
complete-nowait
Success (remove step)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 19:59</div><div class="msg">The no root FS message indicates an LVM install that isn?t cleared.  We have a stage for that now.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 20:00</div><div class="msg">It is a more complex workflow.  </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 20:02</div><div class="msg">im shpwing notthing in failed jobs and no successfulinstalls </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 20:05</div><div class="msg">this cant be that broken, iv e got to be doign something wrong here</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 20:27</div><div class="msg">tried this 8 times now... same result.... nothing installs completely</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 20:46</div><div class="msg">guess its time to nuke the install and try not using TIP</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 21:14</div><div class="msg">grrrrr.... same result....</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 21:20</div><div class="msg">@greg ok maybe im beingg dumb but following the quck start results in 0 vms getting installed properly so where is my screw up :)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-22 21:37</div><div class="msg">@outbackdingo - I can give you a hand, but it'll be 2 hrs before I can - traveling right now </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 21:48</div><div class="msg">@outbackdingo - to start, lets recap.  You have tip installed. You have VMs discovered through sledgehammer.  You then change stage to centos-7-install.  That appears to hang in post-install process.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 21:49</div><div class="msg">Two things - I suspect that the stages and their subtly are getting you.  Also, I suspect that you may need more stages.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 21:52</div><div class="msg">the last one is to address the ubuntu issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 21:55</div><div class="msg">We should set up some things.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 21:55</div><div class="msg">1. ssh keys for access before and after install.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 21:56</div><div class="msg">from the cli do this: ```drpcli profiles set global param access-keys to '{ "galthaus": "ssh-rsa bigkeyhere galthaus@Gregs-MacBook-Pro.local" }'```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 21:56</div><div class="msg">`galthaus` is just a string to identify the key.  The second part is the part that will go in the `authorized_keys` file.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 21:56</div><div class="msg">Next, we need to make sure the workflows are good to go.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 22:00</div><div class="msg">This is the workflow I use for some of this stuff. 
1 Go to UX workflow screen.
2. remove all steps.
3. add these.
a. discover -&gt; sledgehammer-wait success
b. prep-install -&gt; centos-7-install reboot
c. centos-7-install -&gt; complete-nowait success</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 22:01</div><div class="msg">4. Remove the machines from DRP (destroy cli or UX delete)
5. Boot a VM.  See that it goes through discover and sits in sledgehammer-wait</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 22:02</div><div class="msg">Once the machine gets to `sledgehammer-wait` stage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 22:03</div><div class="msg">issue this command `drpcli machines stage &lt;uuid&gt; prep-install` or use the ux to change the   stage to `prep-install`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 22:03</div><div class="msg">The advantage of this workflow set up is that it will do two things.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 22:03</div><div class="msg">One wipe the disks of data.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 22:03</div><div class="msg">and two it will reboot the machine automatically for you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 22:04</div><div class="msg">While the machine is in sledgehammer wait, you should be able to ssh into the box and look around.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 22:05</div><div class="msg">The install should complete by setting the stage to `complete-nowait` and bootenv to `local`.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-22 22:06</div><div class="msg">Once booted to the new OS, you should be able to get in by ssh.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-22 22:35</div><div class="msg">ok ill work through this</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 07:26</div><div class="msg">ok... so it seems i can  now successfully build an image it boots i cant however ssh into it... is there a default username/password for them ?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 07:26</div><div class="msg">so making progress</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 08:13</div><div class="msg">im beginning to wonder just how much work is ahead of me... wanting to A: spin up an XenServer VM ..... instal lan OS on it...  Then run an ansible playbook against it to configure it all...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 08:15</div><div class="msg">i see no "XenServer" provider even</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-23 19:31</div><div class="msg">@outbackdingo - please see @greg's comment on how to inject an SSH key to the server config:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 19:34</div><div class="msg">@shane funny thing is i did that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-23 19:36</div><div class="msg">can you please provide the output of (before pasting it - please obscure your SSH public key piece):  
`drpcli profiles show global`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-23 19:36</div><div class="msg">also - the SSH public key will only be injected on provisioning - AFTER you install an OS (bootenv) - just adding the ssh key to the global profile will not effect/change any existing already provisioned machines</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 19:41</div><div class="msg">@shane https://pastebin.com/6EjmjvuS</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 19:50</div><div class="msg">@shane hrmmm i think i see the issue</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 19:50</div><div class="msg">"access-keys": {
      "dingo": "ssh-rsa ssh-rsa xxxxxxxxxxxxxxxxxxxxxxxxxxxxxzsx</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 19:51</div><div class="msg">ssh-rsa X 2</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-23 19:56</div><div class="msg">yep - that'd def. cause an issue ... :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 19:57</div><div class="msg">@shane ok trying again... question though why do i have to change something..... is there no way to say boot VM -&gt; discover -&gt; install</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 19:58</div><div class="msg">discover
Start
sledgehammer-wait
Reboot (remove step)
centos-7-install
Reboot (remove step)
complete-nowait
Success (remove step)</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 19:58</div><div class="msg">where i have to run ./drpcli machines stage 1fb9e96b-2627-4f6b-a684-0eeac1657217 centos-7-install and reboot the vm</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:01</div><div class="msg">ok that VM successfully installed and i can ssh into it</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:02</div><div class="msg">now to deal with this Workflow</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:02</div><div class="msg">suggestions wlecome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:30</div><div class="msg">Yeah.  So what do you want?  I suggest to pause tonkeep from wiping out systems.  But not you flow.   All good.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:31</div><div class="msg">Okay - so not that I?m at a computer and not fighting the phone.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:31</div><div class="msg">@greg id prefer to be able to just go through booting the VM to install to complete-nowait without having do anything</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:31</div><div class="msg">no rush</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:32</div><div class="msg">@outbackdingo - if you want to just have machines go straight to install, you will want to do something like this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:32</div><div class="msg">Actually, a couple of questions?  Do you wish to inventory the system?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:33</div><div class="msg">and do you want to choose the OS?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:34</div><div class="msg">well initially the game plan is to get to wanting to A: spin up an XenServer VM ..... B: install an OS on that vm... C: Then run an ansible playbook against it to configure it all</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:34</div><div class="msg">right now id be happy to be able to choose the os and do the install</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:34</div><div class="msg">withoutt intervention</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:34</div><div class="msg">Are the disks ?clean? on the VM spin up?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:34</div><div class="msg">always</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:34</div><div class="msg">okay - then ? you can do this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:35</div><div class="msg">In the UI, set the default stage to the OS install you want to install at the moment.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:36</div><div class="msg">In the workflow, make sure you have whatever stage you selected in default stage step that goes from it to complete-nowait.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:36</div><div class="msg">with success.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:36</div><div class="msg">Done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:37</div><div class="msg">Ugh - I really want that to work, but it won?t.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:37</div><div class="msg">Sorry, still have to create a machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:37</div><div class="msg">Turkey on the brain - just a second.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:37</div><div class="msg">so just have a workflow like centos-7-install
Start
complete-nowait
Success (remove step)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:38</div><div class="msg">You will need that for an OS you want to install.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:38</div><div class="msg">To auto install, you will want the following workflow steps:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:38</div><div class="msg">discover -&gt; centos-7-install : Reboot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:38</div><div class="msg">centos-7-install -&gt; complete-nowait : Success</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:39</div><div class="msg">Keep adding OSes by repeating the last one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:39</div><div class="msg">When you want to change the OS globally, remove the discover step and change it to discover -&gt; OS of choice : Reboot</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:40</div><div class="msg">ok, but i can create multiple workflows correct ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:40</div><div class="msg">This should have the machines start, boot into sledgehammer, create a machine entry, and then reboot to install the os, then reboot into the final OS with no changes.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:40</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:40</div><div class="msg">The problem is how to choose the OS you want when you want.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:40</div><div class="msg">right</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:40</div><div class="msg">usually, that requires a step to either change the stage or add a parameter/change stage.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:41</div><div class="msg">Do you use terraform?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:42</div><div class="msg">@greg i think its going to be needed if i plan to create xenserver VMs -&gt; then boot them and install an OS</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:42</div><div class="msg">i dont see any providers in rebar for xenserver</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:42</div><div class="msg">Can you describe your XenServer environment?  Single node or multi-node XenServer?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:42</div><div class="msg">lab is single node... deployed is multinode</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:42</div><div class="msg">We don?t have providers anymore for anything that creates the machine.  We could but don?t.  Wasn?t our direct business.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:43</div><div class="msg">Okay - do you have an API that can create and wait for servers?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:43</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:43</div><div class="msg">hmm - okay - thinking about this.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:45</div><div class="msg">does terraform work with rebar ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:46</div><div class="msg">We have a provider that plugs into terraform that can drive DRP and choose stage.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:46</div><div class="msg">@shane has the start of mixing packet and DRP to do what you are trying to do.  I think he is close.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:47</div><div class="msg">essentially... i have two targets the create boot xenserver vm, install os, run ansible against vm....  second create a group of xenserver vms, install kubernetes cluster</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:47</div><div class="msg">We have some cases for that.  Or close on most.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:47</div><div class="msg">i did also see the kubernetes stuff... but i am thinking it requires an installed OS in the VM first</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:48</div><div class="msg">well - it does today.  I?m trying a Live OS k8s cluster, but that is for another day.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 20:49</div><div class="msg">so if i have say 3 vms installed with centos ? i can deploy kubernetes onto it now ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:49</div><div class="msg">Well , you can use kubespray ansible playbook and DRP ansible inventory generator to do it.  I think @zehicle posted a video with this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:50</div><div class="msg">You get three machines OS installed through the workflow, then add then into a profile and that can then be used with an ansible inventory generator to build those machines.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:51</div><div class="msg">Checking our youtube channel.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:53</div><div class="msg">@outbackdingo - <a href="https://www.youtube.com/playlist?list=PLXPBeIrpXjfj5_8Joyehwq1nnaYSPCnmw">https://www.youtube.com/playlist?list=PLXPBeIrpXjfj5_8Joyehwq1nnaYSPCnmw</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:56</div><div class="msg">Videos #1 - <a href="https://www.youtube.com/watch?v=6MLyUVgnVo4&amp;index=1&amp;list=PLXPBeIrpXjfj5_8Joyehwq1nnaYSPCnmw">https://www.youtube.com/watch?v=6MLyUVgnVo4&amp;index=1&amp;list=PLXPBeIrpXjfj5_8Joyehwq1nnaYSPCnmw</a> - terraform usage</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 20:56</div><div class="msg">Video #5 - <a href="https://www.youtube.com/watch?v=b5himGQ1Zew&amp;index=5&amp;list=PLXPBeIrpXjfj5_8Joyehwq1nnaYSPCnmw">https://www.youtube.com/watch?v=b5himGQ1Zew&amp;index=5&amp;list=PLXPBeIrpXjfj5_8Joyehwq1nnaYSPCnmw</a> - ansible generator for k8s.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 21:00</div><div class="msg">cool... ill watch this tonight and again tomorrow morning and see where i get to with it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-23 21:01</div><div class="msg">  Skedgehammer works for testing kubespray too</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-23 21:02</div><div class="msg"><a href="https://github.com/digitalrebar/provision/blob/master/doc/integrations/ansible.rst">https://github.com/digitalrebar/provision/blob/master/doc/integrations/ansible.rst</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-23 21:16</div><div class="msg">okay - I?m back to thanksgiving partying.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 21:17</div><div class="msg">@greg enjoy it.... im heading to sleep 10PM where i am in Italy</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-23 21:17</div><div class="msg">@zehicle ill look at it also</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-23 21:34</div><div class="msg">It's the written version of the video</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-23 21:34</div><div class="msg">We can also get you a slack account </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-23 21:35</div><div class="msg">There is a form for it on RackN. com</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-23 21:35</div><div class="msg">From the ux</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-24 07:21</div><div class="msg">@zehicle ok slack accoun requested, working o roll this up today and get it done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-24 12:38</div><div class="msg">@i.grischott uploaded a file: <a href="https://rackn.slack.com/files/U7U02J6LX/F86047EUW/grafik.png">https://rackn.slack.com/files/U7U02J6LX/F86047EUW/grafik.png</a> and commented: Hi it's my first time here. i'm IT technician and i'm looking for good solution to manage bare metal servers, kubernetes, kvm .. first time il'checked  solutions from CoreOS with Tectonic, the Foreman., Promox. now i'm here :slightly_smiling_face: 
I already have the dr-provision installed and it seems to be running ..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-24 12:41</div><div class="msg">i wan't to add some machines .. but i don't know how..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-24 12:42</div><div class="msg">@i.grischott uploaded a file: <a href="https://rackn.slack.com/files/U7U02J6LX/F8605FGCE/img_8290.jpg">https://rackn.slack.com/files/U7U02J6LX/F8605FGCE/img_8290.jpg</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-24 12:42</div><div class="msg">PXE Boot won't work.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-24 12:43</div><div class="msg">In the documentation i didn't find how can i initialize the bare metal machines with PXE Boot...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-24 13:22</div><div class="msg">Sorry forget my post
I made a reasoning mistake .. I have the dr-provisioner running in a docker container on CoreOS, that can not work ..</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2017-11-24 13:30</div><div class="msg">@i.grischott it can if the ports are exposed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-24 14:25</div><div class="msg">@i.grischott you need to make sure you set the config preferences to provide the discovery image - the defaults ignore requests.   Which also means that you have to upload the sledgehammer  image.  The discovery image will auto register the machines when it boots.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-24 14:26</div><div class="msg">Also, you may need to set the --static-ip address for the interface you are listening on depending on the o/s you are installed on.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2017-11-24 15:03</div><div class="msg">has joined #community201711</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-24 16:28</div><div class="msg">@i.grischott - can you please paste the output of the following command on from your DRP Endpoint:
`drpcli subnets show`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-24 16:29</div><div class="msg">@i.grischott uploaded a file: <a href="https://rackn.slack.com/files/U7U02J6LX/F85AW211B/tftpp_read_timeout.jpg">https://rackn.slack.com/files/U7U02J6LX/F85AW211B/tftpp_read_timeout.jpg</a> and commented: one  step further..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-24 16:29</div><div class="msg">also - it's important to verify that you map/allow the following ports in to the DRP Endpoint:
67 for DHCP
69 for TFTP
8091 for HTTP
8092 for API access</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-24 16:35</div><div class="msg">from an external node to the DRP Endpoint, you can verify most of these connections by the following tests:
for TFTP test:
```tftp 172.17.0.2
get ipxe.pxe```
for HTTP test:
```curl -s -o /tmp/ipxe.pxe <a href="http://172.17.0.1:8091/ipxe.pxe">http://172.17.0.1:8091/ipxe.pxe</a>```
for API test - install `drpcli` (or copy the appropriate architecture binary to your remote machine), and run:
```drpcli -E <a href="https://172.17.0.1:8092/">https://172.17.0.1:8092/</a> info get```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-24 16:37</div><div class="msg">you also need to start the `dr-provision` environment with the `--static-ip` set to the external NAT address that maps to the container - otherwise, the DRP Endpoint won't respond correctly</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-24 16:38</div><div class="msg">so - on starting the DRP endpoint, do:
`dr-provision --static-ip=172.17.0.1 ... other args ... `</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-24 16:45</div><div class="msg">for testing i start the container with --net=host..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-24 16:48</div><div class="msg">@i.grischott uploaded a file: <a href="https://rackn.slack.com/files/U7U02J6LX/F84M3EHJM/tftp_get_works_locally.jpg">https://rackn.slack.com/files/U7U02J6LX/F84M3EHJM/tftp_get_works_locally.jpg</a> and commented: think it's a port mapping problem.. can't tftp get from other machine..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-24 19:50</div><div class="msg">Make sure you use the IP that can access the tftp directory as the `--static-ip`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-24 19:51</div><div class="msg">`--static-ip=192.168.0.1`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2017-11-25 08:36</div><div class="msg">is here a way to provision CentOS 6 machine? or do i have to create tasks for all of it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2017-11-25 08:53</div><div class="msg">Missing ISO: Please Upload
Explode ISO: iso does not exist: /home/dingo/drp-data/tftpboot/isos/CentOS-6.9-x86_64-bin-DVD1.iso
Error
You can download the required ISO from <a href="http://mirrors.kernel.org/centos/6.9/isos/x86_64/CentOS-6.9-x86_64-bin-DVD1.iso">http://mirrors.kernel.org/centos/6.9/isos/x86_64/CentOS-6.9-x86_64-bin-DVD1.iso</a>
Error
bootenv: centos-6.9-install: missing kernel images/pxeboot/vmlinuz (/home/dingo/drp-data/tftpboot/centos-6.9/install/images/pxeboot/vmlinuz)
Error
bootenv: centos-6.9-install: missing initrd images/pxeboot/initrd.img (/home/dingo/drp-data/tftpboot/centos-6.9/install/images/pxeboot/initrd.img)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2017-11-25 08:54</div><div class="msg">but i did upload the iso and it does show under ISOS trying to enable Centos 6 environments</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2017-11-25 08:54</div><div class="msg">CentOS-6.9-x86_64-bin-DVD1.iso       100%[===================================================================&gt;]   3.70G  20.1MB/s    in 3m 13s  
2017-11-25 03:49:14 (19.6 MB/s) - ?CentOS-6.9-x86_64-bin-DVD1.iso? saved [3972005888/3972005888]
root@streisand:/home/dingo# mv CentOS-6.9-x86_64-bin-DVD1.iso /home/dingo/drp-data/tftpboot/isos/</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2017-11-25 09:10</div><div class="msg">./drpcli bootenvs uploadiso centos-6-install
seems to have worked</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-25 22:11</div><div class="msg">it works now.. there wasn't set the default gateway on the docker host :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-25 22:11</div><div class="msg">@i.grischott uploaded a file: <a href="https://rackn.slack.com/files/U7U02J6LX/F85JE87D3/bild_eingef__gt_am_2017_11_25_11_11_pm.png">https://rackn.slack.com/files/U7U02J6LX/F85JE87D3/bild_eingef__gt_am_2017_11_25_11_11_pm.png</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-25 22:14</div><div class="msg">it's possible to add other OS'ses for deploying ? like Container Linux (aka CoreOS).. i like the update functionality and security of this OS..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-25 22:47</div><div class="msg">@i.grischott uploaded a file: <a href="https://rackn.slack.com/files/U7U02J6LX/F86ALFX3Q/bild_eingef__gt_am_2017_11_25_11_47_pm.png">https://rackn.slack.com/files/U7U02J6LX/F86ALFX3Q/bild_eingef__gt_am_2017_11_25_11_47_pm.png</a> and commented: let's play</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-25 22:52</div><div class="msg">i want to setup openstack on kubernetes.. i try to adopt this video (<a href="https://www.youtube.com/watch?v=6xuVm9PJ2ck">https://www.youtube.com/watch?v=6xuVm9PJ2ck</a>)  to the new UI .. puh.. a lot of new features .. is there a easier guide to initialize openstack on  kubernetes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-25 23:51</div><div class="msg">@i.grischott your best bet is to use an existing a ansible playbook, with our a ansible content pack </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-26 01:11</div><div class="msg">that video is from Digital Rebar ver 2 - the current version (Digital Rebar Provision ver 3) does not support cross-node orchestration - however, we support integrations with third party tools (like Ansible) which allow you to do complex application installations through that tooling</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2017-11-26 09:39</div><div class="msg">wait ... what? openstack on kubernetes? isnt that backwards? should be kubernetes on opensttack ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2017-11-26 09:49</div><div class="msg">sounds almost like Joyents Triton.....</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-26 15:25</div><div class="msg">@kamp.scott - yes, there is a big shift in OpenStack to use Kubernetes as the orchestration piece to manage the OpenStack services - there are lots of tooling popping up that containerizes each component of the OpenStack puzzle.  This in theory provides a "self-healing" control plane, and also (in theory) minimizes the OpenStack service management overhead ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2017-11-26 15:52</div><div class="msg">id love to see that deployed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2017-11-26 15:52</div><div class="msg">though curious how you sin up froms from kubernetes probably ony kvm supported</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-26 19:15</div><div class="msg">@i.grischott those v2 demos were before AT&amp;T moved the project into OpenStack governance and repackaged it a set of stages.  We're working on k8s metal install and watching the OpenStack Helm community to see when they get something generic.  There are some other OpenStack on K8s efforts (Kolla) that show promise.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-26 19:15</div><div class="msg">It seems like our Ansible integration is a key for those efforts and servers a more general purpose anyway.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-01-04/295161803319_3627f9a6f4a0f52112f8_72.jpg" /><div class="message"><div class="username">i.grischott</div><div class="time">2017-11-27 07:28</div><div class="msg">you think a good approach is setup k8s with your plugin kubespray then deploy openstack with helm ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-27 20:10</div><div class="msg">protip: Filter out voluminous gohai data in machine records via: `drpcli machines show &lt;uuid&gt; | jq 'del(.Profile)'`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-27 20:13</div><div class="msg">Hi all! back into the fray</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-27 20:14</div><div class="msg">...and similarly if you want to list all Machines if you don't know the UUID, and filter out gohai:
`drpcli machines list | jq 'del(.[].Profile)'`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-27 20:14</div><div class="msg">Trying to understand where my machine install is at... I see this output on a machine undergoing an install:
```[dradmin@dr-admin drp]$ drpcli machines show 4f316320-fb0c-46f2-8578-f0d8f13177e1 | jq 'del(.Profile)'
{
  "Address": "192.168.1.112",
  "Available": true,
  "BootEnv": "ubuntu-16.04-install",
  "CurrentJob": "a4e0839e-31e0-4a87-af9c-9d07f2e3b158",
  "CurrentTask": -1,
  "Errors": [],
  "Name": "ml47",
  "OS": "ubuntu-16.04",
  "Profiles": [
    "necla-ubuntu-default"
  ],
  "ReadOnly": false,
  "Runnable": false,
  "Secret": "xxxxxxxxxxx",
  "Stage": "ubuntu-16.04-install",
  "Tasks": [
    "ubuntu-drp-only-repos",
    "ssh-access",
    "change-stage"
  ],
  "Uuid": "4f316320-fb0c-46f2-8578-f0d8f13177e1",
  "Validated": true
}```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-27 20:15</div><div class="msg">The `CurrentJob` attribute is the last job that ran (I see this in the UX in "Jobs")</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-27 20:15</div><div class="msg">Why is `CurrentTask` value a `-1`?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-27 20:18</div><div class="msg">What I'm trying to do is see that the machine is actually installing the OS (Ubuntu 16.04 in this case)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-27 20:20</div><div class="msg">Any way to know that from the data returned from `machines show`?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-27 20:40</div><div class="msg">@wdennis I'm not sure off hand what `-1` means - but my (infantile) reading of the `./backend/machines.go` seems to indicate (rather counter-intuitively) that it means we have Tasks to run):
```if n.Tasks != nil &amp;&amp; len(n.Tasks) &gt; 0 {
    n.CurrentTask = -1
  }```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-27 20:40</div><div class="msg">I believe final interpretation is likely going to be needed by @greg or @vlowther</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-27 20:40</div><div class="msg">yeah - just a minute.  Sorry.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-27 20:41</div><div class="msg">-1 means start of list.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-27 20:41</div><div class="msg">It hasn?t tried to run anything yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-27 20:41</div><div class="msg">This is the one spot we don?t have a good view in what is going on.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-27 20:42</div><div class="msg">This tells me that the machine is somewhere inbetween the boot into install and drpcli getting control in the post install script of the preseed file.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-27 20:42</div><div class="msg">also - you can filter the `gohai-inventory` w/ `jq` - but because `gohai-inventory` contains a dash - it is special to JSON, so you have to "escape" it, as follows: 
`drpcli machines show &lt;UUID&gt; | jq 'del(.Profile.Params."gohai-inventory")'`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-27 20:43</div><div class="msg">your method will also filter out (potentially) other useful `Params` from the JSON output</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-27 21:04</div><div class="msg">@i.grischott I think Helm will _eventually_ be the way to deploy OpenStack.  there are some technical items to resolve first.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-27 21:04</div><div class="msg">we're focused on making k8s installs to metal better b/c that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-27 21:04</div><div class="msg">is a prereq</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-28 14:26</div><div class="msg">anyone have a good 'ssh key rotation strategy for ops' reference or article ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-28 14:38</div><div class="msg">So far... This is what I've got:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-28 14:38</div><div class="msg"><a href="http://nvlpubs.nist.gov/nistpubs/ir/2015/NIST.IR.7966.pdf">http://nvlpubs.nist.gov/nistpubs/ir/2015/NIST.IR.7966.pdf</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 14:55</div><div class="msg">hm, that seems more geared to auditing purposes than anything else.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 14:59</div><div class="msg"><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/sec-using_openssh_certificate_authentication">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/deployment_guide/sec-using_openssh_certificate_authentication</a> might be a good read</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 14:59</div><div class="msg">along with the SSH certificates section of <a href="https://ef.gy/hardening-ssh">https://ef.gy/hardening-ssh</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 15:01</div><div class="msg">tl;dr: SSH supports auth using signed certs that have valid lifetimes instead of the classic public/provate keypairs with unbounded lifetimes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-28 15:49</div><div class="msg">Thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-28 17:01</div><div class="msg">@shane Thx for the more precise gohai removal syntax</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-28 17:01</div><div class="msg">:slightly_smiling_face: no problem ... I fought that for a bit before I realized a dash was "important" to JSON ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-28 17:02</div><div class="msg">There's always a "sin tax" :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-28 17:04</div><div class="msg">I added it to the FAQ documentation - will be updated next time we push to "latest"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-28 17:04</div><div class="msg">So, @greg I'm guessing that `CurrentTask` == `0` means "no more tasks"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-28 17:12</div><div class="msg">it depends upon the task list length. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-28 17:12</div><div class="msg">CurrentTask is the index into the task list.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 17:13</div><div class="msg">CurrentTask == 0 means the zeroth task in the list is the current one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 17:13</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 17:13</div><div class="msg">CurrentTask == len(Tasks) means nothing else to do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-28 17:13</div><div class="msg">if CT == len(tasklist), then done.  Otherwise, it is that that position (programmer style) in the list.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-28 18:34</div><div class="msg">ah, got it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-28 18:35</div><div class="msg">I take it then the `Tasks` list persists until the pointer == len(Tasks), then is deleted?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-11-28 18:52</div><div class="msg">the UX machines page should have a task list now (with x-links)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 19:25</div><div class="msg">so, <!channel>: Spaces in names of things: Awesome, ok i guess, or heresy?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 19:27</div><div class="msg">I am adding validation to various names of things,, and it would be good to know before I make everyone's life just that much harder.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-28 19:50</div><div class="msg">Jobs: "Awesome" Woz: "Heresy, spaces are my HEX delimiter" ... pick your abstraction camp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:04</div><div class="msg">So, here are the validations I am contemplating:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:04</div><div class="msg">var (
	validName      = regexp.MustCompile(`^\pL+([- _.]+|\pN+|\pL+)+$`)
	validParamName = regexp.MustCompile(`^\pL+([- _./]+|\pN+|\pL+)+$`)
)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:05</div><div class="msg">the former is for everything that is not a param</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:05</div><div class="msg">the latter is for params for $REASONS</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:06</div><div class="msg">\pN is everything Unicode considers a number, and \pL is everything Unicode considers a letter</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:06</div><div class="msg">the rest of it should be obvious enough to anyone who has stared at too much Perl.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:07</div><div class="msg">or obsessed about DFA vs NFA ww.r.t speed and feature completeness.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-11-29/279141401570_527496b40e81cd7f874a_72.jpg" /><div class="message"><div class="username">diego.milhomes</div><div class="time">2017-11-28 20:19</div><div class="msg">has joined #community201711</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:21</div><div class="msg">@wdennis the Tasks list persists until someone or something changes it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:21</div><div class="msg">either directly via the API or indirectly via stage change.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-28 20:22</div><div class="msg">@diego.milhomes - welcome </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-28 20:47</div><div class="msg">@vlowther so must start with letter... maybe that's why my "2cld" name had issues</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-28 20:49</div><div class="msg">my regexp foo is weak though...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:49</div><div class="msg">well, these are what I am working on right now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 20:50</div><div class="msg">They are not in a tree you would be using, unless you hafve some crazy access to my laptop I have not noticed. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-28 20:51</div><div class="msg">oh... it was on other 'ansible' or 'vagrant' things... you just got me thinking 'oh... that's probably why'</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-28 20:55</div><div class="msg">i changed to "tocld" name and it worked... didn't dig that deep... I can ping some moz 'data collection log guys' if you need intense regex foo'ness</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-28 22:17</div><div class="msg">@vlowther No to spaces! (and double no to tabs! :stuck_out_tongue_winking_eye: )</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 22:19</div><div class="msg">That makes it a tie!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2017-11-28 22:20</div><div class="msg">For now, it is spaces because some of my unit tests have them.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-28 22:21</div><div class="msg">I need to work on some mods to my preseed file.... Need to create custom one and link it in; how do I go about doing that?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-29 15:58</div><div class="msg">@wdennis - pretty easy
```drpcli templates show net-seed.tmpl --format=yaml &gt; /tmp/my_fancy_new-net-seed.yaml
vim /tmp/my_fancy_new-net-seed.yaml
# change ID to a new template name
# change whatever else
# leave the late_command stuff in there
drpcli templates create -&lt; /tmp/my_fancy_new-net-seed.yaml
```
Now modify a BootEnv to use your new seed instead of the default `net-seed.tmpl`.  Basically - clone a BootEnv, and use that as your stage BootEnv for workflow transition.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2017-11-29 16:06</div><div class="msg">speaking of BootEnv ... via the packet docker
 [root@buildbox ubuntu1604]# save2image ubuntu1604.tar

I should be able to use that as a bootenv image directly ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-29 17:39</div><div class="msg">@shane Getting this error when I try to create the new template:
```[dradmin@dr-admin ~]$ drpcli templates create - &lt; necla-ubu-seed.yaml
Error: Invalid template object: error converting YAML to JSON: yaml: line 143: could not find expected ':' and error converting YAML to JSON: yaml: line 143: could not find expected ':'```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-29 17:40</div><div class="msg">can you direct message me your yaml (excise any sensitive bits)...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-29 17:41</div><div class="msg">probably just a space format error in the yaml</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-29 17:41</div><div class="msg">(at around line 143)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-29 17:42</div><div class="msg">n/m, indentation error from editing... :face_with_rolling_eyes:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-29 17:43</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-29 17:51</div><div class="msg">@wdennis uploaded a file: <a href="https://rackn.slack.com/files/U416T0AAX/F86NJD11P/bootenv-clone-fail-ux.png">https://rackn.slack.com/files/U416T0AAX/F86NJD11P/bootenv-clone-fail-ux.png</a> and commented: Next issue... getting error when trying to save bootenv cloned in the UX</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-29 18:05</div><div class="msg">use `drpcli`:
```drpcli bootenvs show ubuntu-16.04-install --format=yaml &gt; my-ubuntu-16.04-install.yaml

# modify appropriately - make sure to change "ID" 
vim my-ubuntu-16.04-install.yaml

drpcli bootenvs create -&lt; my-ubuntu-16.04-install.yaml```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-29 18:06</div><div class="msg">sorry - I don't use UX, so hadn't run in to that bug - but, I get same thing trying to `clone`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-29 18:15</div><div class="msg">Thought you guys could use the QA help :stuck_out_tongue_winking_eye:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-29 18:16</div><div class="msg">(On UX)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-29 18:16</div><div class="msg">Since we don't actually have a UX person ... I think it's coming along fabulously ... certainly has rough edges though - no doubt ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-29 18:18</div><div class="msg">It?s so beautiful that it makes me want to use it...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-29 18:19</div><div class="msg">please do ... and ... please file tickets as you bump in to those sharp edges</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-29 18:20</div><div class="msg">:ok_hand:  <a href="https://github.com/digitalrebar/provision/issues/570">https://github.com/digitalrebar/provision/issues/570</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-11-29 23:37</div><div class="msg">@wdennis - I submitted a pull request for `provision-content` which adds support for a custom preseed to be defined.  This lets the stock provided BootEnvs remain unchanged, and you can simply create a Param of `select-seed` with the value of a new template file with your custom preseed changes - it hasn't been approved yet, and will take a little while to work through the system to release... 
<a href="https://github.com/digitalrebar/provision-content/pull/42">https://github.com/digitalrebar/provision-content/pull/42</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-30 00:46</div><div class="msg">@shane Sounds great! Also do this for RedHat-family distros?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 00:49</div><div class="msg">Yeah. We are talking about that.  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-30 00:56</div><div class="msg">That would be great -- the more we can stick with DR-provided content, the better (as far as getting updated content etc.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-30 00:57</div><div class="msg">Of course, it's still a benefit sometimes of creating custom objects, but this breaks the community/RackN-provided updates via the content system (custom obj's never get updated)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 02:00</div><div class="msg">Well. Part of me is wondering what you want to do.  Could what you want be handled by tasks?  Or by @lae?s changes </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-30 02:33</div><div class="msg">ah so</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-30 02:33</div><div class="msg">for custom preseeds I maintain my own, "fireeye-content" package...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-04-27/174886859120_4480c3cd7bfcd6450097_72.jpg" /><div class="message"><div class="username">lae</div><div class="time">2017-11-30 02:33</div><div class="msg">or well, custom anything really</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 02:34</div><div class="msg">Yeah that was part of the purpose for Content Packs. Glad you are using them. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-30 03:43</div><div class="msg">@greg My goal is to as little as possible in the preseed, and as much of the work as possible in my configuration mgmt system (Ansible in my case.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-30 03:44</div><div class="msg">That being said, I do need to handle some stuff in preseed that needs to happen during OS install, to prep for the CM run</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-30 03:44</div><div class="msg">(Well, disk partitioning too)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-30 03:49</div><div class="msg">My main deltas from the stock DRP seed file are:
- enable root account with password (sadly, company std) as well as key exchange 
- don?t create initial user (root suffices)
- install ?python-minimal? pkg (provides Py2.7, which is needed for Ansible runs)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e0423b823331f6b489f99b939d5c669d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">wdennis</div><div class="time">2017-11-30 03:51</div><div class="msg">Haven?t tried to tackle using differing partitioning schemes, which I believe is enabled via sub-template inclusion</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 04:39</div><div class="msg">in ubuntu right?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 04:40</div><div class="msg">I would do those as three tasks in a stage i sequence into a workflow.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 04:40</div><div class="msg">Use the custom partitioning pieces for partition magic.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 04:41</div><div class="msg">@wdennis- something like this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 04:41</div><div class="msg">task1 - rmuser rocketskates in a shell script.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 04:42</div><div class="msg">task2 - usermod -p &lt;encrypted password&gt; (from parameter) in script</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 04:43</div><div class="msg">task3 - apt-get install -y python-minimal</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 04:43</div><div class="msg">stage customize - task1, task2, task3, change-stage - RunnerWait = true.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-11-30 04:44</div><div class="msg">workflow: ubuntu-16.04-install -&gt; customize -&gt; complete-nowait</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 03:51</div><div class="msg"><!channel> - Hi All!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 03:52</div><div class="msg">The basis for v3.4.0 has been committed to tip.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 03:53</div><div class="msg">This contains the CLI conversion to use the API instead of the swagger generated API code.  This will allow for better maintenance, smaller codebase, and golang API.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2017-12-01 03:53</div><div class="msg">woot!  if y'all have an opportunity to deploy `tip` and test, we'd appreciate it !</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 03:53</div><div class="msg">Additionally, the `change-stage` feature has been added.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 03:55</div><div class="msg">The runner will now always try to change stage and check the map to see what it should do.  This will make stages cleaner.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 03:55</div><div class="msg">This change also restores the ability to not require a workflow to install an os.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 03:56</div><div class="msg">setting the machines stage to &lt;something&gt;-install will set the stage to local and let the install finish if no workflow entries are found upon completion of the installation.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 03:58</div><div class="msg">The digital rebar and rackn content have been updated to use this.  The plugins as well use this as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 04:00</div><div class="msg">Sooooo ?.. If you upgrade content to latest tip:
digital rebar content = v1.2.0-tip-8-a2dd261d1da79c5f42d34728e5bfad570890da86
rackn content = v1.1.0-tip-3-4624c28ae569ee7f0c0ecff62d5ff33c89c75e01
rackn plugins = v1.2.0-tip-3-7da6c05aa74907f07ddc0db168e3128aa7f2b0bd
you need to use DRP - v3.3.0-tip-19-ac9f7e4d726a579053cdf247d044036b91ff6a12</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 04:04</div><div class="msg">Existing content should continue to work fine.  The one caveat is that if you are using the runner-service.  You need to upgrade to the latest task-library for that to work on new installs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2017-12-01 04:04</div><div class="msg">We will plan on cutting v3.4.0 on Monday heading into the community meeting on Tuesday.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-12-01 04:15</div><div class="msg">great notes (and progress!)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2017-12-01 04:15</div><div class="msg">it's worth noting that the CLI change included a lot of rework/improvement in the test patterns.</div></div></div><br/>
</div></body></html>