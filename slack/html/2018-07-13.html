<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 12:54</div><div class="msg">I created a simple template</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 12:55</div><div class="msg">```#!/bin/bash
#


PACKS=`curl -H "St2-Api-Key: API_KEY_GOES_HERE" <a href="https://10.100.129.67/api/v1/packs">https://10.100.129.67/api/v1/packs</a> -k1`

echo "Finished retrieving packs"
echo $PACKS
exit 0```</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 12:55</div><div class="msg">but I never see the output when it runs</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 12:55</div><div class="msg">This is all I see in the output of the job</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 12:55</div><div class="msg">`Log for Job: 50945823-0755-4d17-b5bd-4743bd859424`</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 12:55</div><div class="msg">that uuid changes each time and thats it</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 12:56</div><div class="msg">I am trying to figure out on how to test this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 12:57</div><div class="msg">well - the PACKS line is missing the completing backtick.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 12:57</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 12:57</div><div class="msg">yea I just noticed that :slightly_smiling_face: @greg but in all seriousness how do I debug this from the logs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 12:57</div><div class="msg">It should have sent it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 12:57</div><div class="msg">The backtick could have caused an exit 0 with no output.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 12:58</div><div class="msg">you can add set -x to the top.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 12:58</div><div class="msg">We often include a `setup.tmpl`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 12:58</div><div class="msg">and it has some helpers.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 12:58</div><div class="msg">cool reading it now</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 12:59</div><div class="msg">Then you can use params to turn on set -x or not</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 13:04</div><div class="msg">also from the ui I am tryijng to just run one task, how do i do that besides bulk actions which requires me to run a stage</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 13:04</div><div class="msg">or a workflow</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 13:12</div><div class="msg">@greg ty for pointing me in the right direction</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 15:32</div><div class="msg">I am trying to figure out the api call that I need to make from stackstorm to call rebar to run a particular workflow on a machine</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 15:32</div><div class="msg">does anyone know it off hand?</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 16:01</div><div class="msg">Also how do I access the data that Ohai collects within a template?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 16:16</div><div class="msg">get_param helper from setup.tmpl and then jq</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 16:23</div><div class="msg">There is also an inventory help stage that will parse the gohai into additional parameters.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 16:50</div><div class="msg">yep I found the You Tube Video</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 16:50</div><div class="msg">that was really helpful</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 16:50</div><div class="msg">even with learning profiles</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 16:50</div><div class="msg">Would be nice if this can turn into how to documentations</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 16:53</div><div class="msg">oh - most of this is doc at raw level, not a putting it all together path.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 16:54</div><div class="msg">I know that :wink:, which is why it would be nice to get some howto's together, Even though the Video was very hjelpful, I had to pause rewind a few times, and in doing so I learned alot</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 18:37</div><div class="msg">What is rebar internal db </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9639a021e5eb0e7a6850f8f2c5120ea.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">snesbitt</div><div class="time">2018-07-13 18:38</div><div class="msg">Sorry for the general cluelessness, but I'm having problems getting DRP to recognize a custom partitioning scheme. I've cloned the template part-scheme-default.tmpl to part-scheme-btrfs.tmpl.  After the initial boot, I edit the machine to invoke the ubuntu18 workflow and set a parameter 'part-scheme' to 'btrfs'. Machine reboots and starts installing, but does not invoke the custom template. I've turned trace on but I don't see any inidcation that DRP is looking for a value for part-scheme. Oh, and how do I add a stage to a workflow?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 18:57</div><div class="msg">@ - a local file store - in HA mode, it is consul.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 18:59</div><div class="msg">where is the local file located?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 19:04</div><div class="msg">drp-data/digitalrebar in isolated mode</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 19:04</div><div class="msg">or /var/lib/dr-provision/digitalrebar in production mode</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-17/331685872034_32edc48c71201f92c8f8_72.jpg" /><div class="message"><div class="username">scsikid</div><div class="time">2018-07-13 19:48</div><div class="msg">hi all, when configuring a separate dhcp server (not managed by rebar) what filename should i be referencing?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-17/331685872034_32edc48c71201f92c8f8_72.jpg" /><div class="message"><div class="username">scsikid</div><div class="time">2018-07-13 20:23</div><div class="msg">i?ve edited out something that might be considered private to some at our company. but here is an example of what we had configured ```host <a href="http://kvm.fqdn.com">http://kvm.fqdn.com</a> {
       hardware ethernet  XX:96:91:28:XX:XX;
       fixed-address <a href="http://kvm.fqdn.com">http://kvm.fqdn.com</a>;
       default-lease-time 2592000;
       max-lease-time 2592000;
       next-server DR.IP.ADD.RESS;
       filename "default.ipxe";
       }```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-17/331685872034_32edc48c71201f92c8f8_72.jpg" /><div class="message"><div class="username">scsikid</div><div class="time">2018-07-13 20:25</div><div class="msg">the host gets an ip, reaches out to the digital rebar server, i see it with a tcpdump requesting `default.ipxe`. which doesn?t exist. so i suspect `default.ipxe` is the wrong file to ask for? moreover because i believe the network cards only support pxe and not ipxe.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a9639a021e5eb0e7a6850f8f2c5120ea.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0008-72.png" /><div class="message"><div class="username">snesbitt</div><div class="time">2018-07-13 20:30</div><div class="msg">Nik - my configuration is set to the filename lpxelinux.0</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-17/331685872034_32edc48c71201f92c8f8_72.jpg" /><div class="message"><div class="username">scsikid</div><div class="time">2018-07-13 20:34</div><div class="msg">is it possible to just symlink default.ipxe -&gt; lpxelinux.0? well? actually i?ve tried that and it doesn?t work. not sure why.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 20:40</div><div class="msg">Different tools </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 20:41</div><div class="msg">Oh.  Make sure you had default bootenv sledgehammer and stage disscover.   I</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 21:44</div><div class="msg">Has anyone done much with DRP and ESXi 6.5 or 6.7? I'm trying to execute drpcli commands as part of the %post section of the kickstart to update the machine to runnable and processjobs, but it seems the ESXi busybox shell environment is preventing communication out to any port except 80. Have you guys's run into that issue?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 21:55</div><div class="msg">Yes.  It is a pain and not consistent.   We have some stale examples in the os-other content package.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 21:55</div><div class="msg">There needs to be a cleaning and production work on it.  </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 21:55</div><div class="msg">Are those on github?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-07-13 21:56</div><div class="msg">RackN SaaS portal with account login, I think.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 22:28</div><div class="msg">I guess an option would be to setup a reverse proxy server and redirect port 80 to drp:8091</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 22:29</div><div class="msg">clunky but would get the job done</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-07-13 22:30</div><div class="msg">You can set the drp api port with a command line flag</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-07-13 22:34</div><div class="msg">Is it recommended to run on port 80? That would definitely work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-07-13 22:45</div><div class="msg">It's not a safe default but there's no inherent issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-17/331685872034_32edc48c71201f92c8f8_72.jpg" /><div class="message"><div class="username">scsikid</div><div class="time">2018-07-14 01:48</div><div class="msg">@greg yea the default bootenv is `sledgehammer` and the stage is set for `discover`.  in effort to not change `default.ipxe` in the dhcp configuration can i just sym link something? i?m only asking that cause someone else manages the dhcp server at my organization and i wont be able to get in touch with them until next week.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-09-17/2677396473_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-07-14 02:10</div><div class="msg">If they do not set nextboot, you may be able to use proxy mode in the dhcp server</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-03-17/331685872034_32edc48c71201f92c8f8_72.jpg" /><div class="message"><div class="username">scsikid</div><div class="time">2018-07-14 02:41</div><div class="msg">@zehicle is nextboot the same as `next-server` ? if so I do have that set, i just didn?t include my ip in the configuration example above.</div></div></div><br/>
</div></body></html>