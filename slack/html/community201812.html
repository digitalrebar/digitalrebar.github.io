<html><body><style>
			* {
				font-family:sans-serif;
			}
			body {
				text-align:center;
				padding:1em;
			}
			.messages {
				width:100%;
				max-width:700px;
				text-align:left;
				display:inline-block;
			}
			.messages img {
				background-color:rgb(248,244,240);
				width:36px;
				height:36px;
				border-radius:0.2em;
				display:inline-block;
				vertical-align:top;
				margin-right:0.65em;
			}
			.messages .time {
				display:inline-block;
				color:rgb(200,200,200);
				margin-left:0.5em;
			}
			.messages .username {
				display:inline-block;
				font-weight:600;
				line-height:1;
			}
			.messages .message {
				display:inline-block;
				vertical-align:top;
				line-height:1;
				width:calc(100% - 3em);
			}
			.messages .message .msg {
				line-height:1.5;
			}
		</style><div class="messages"><div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-03 15:02</div><div class="msg">@greg `string:` changes to subnet options works btw, I just updated a CL switch serving a file over DHCP :tada:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-12-03 17:15</div><div class="msg">i uploaded a new boot iso via web page, where would this file be saved to once the upload is done?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-03 17:16</div><div class="msg">in the `tftpboot/isos/` directory - if in `isolated` mode, this will be in `~/drp-data` base from where you did the install, or in `production` mode will be (by default) in `/var/lib/dr-provision` base directory</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-12-03 17:20</div><div class="msg">ok, thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/abab83c3881a261d91071feb665cb40b.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0015-72.png" /><div class="message"><div class="username">jzimmer</div><div class="time">2018-12-03 17:23</div><div class="msg">found it :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-03 17:24</div><div class="msg">it should also be "exploded out" in to the `tftpboot/&lt;BOOTENV_NAME&gt;` directory too (eg `tftpboot/ubuntu-18.04/`)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/80674ca691e4a325d8bff1977a1d881d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">brejoc</div><div class="time">2018-12-03 17:54</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-03 17:54</div><div class="msg">@brejoc $welcome ...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-03 17:54</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/80674ca691e4a325d8bff1977a1d881d.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">brejoc</div><div class="time">2018-12-03 17:55</div><div class="msg">@shane Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:25</div><div class="msg"><!here> Video from today's Meetup!
We talked about API extensions and Cumulus ZTP
<a href="https://youtu.be/QWV10HPOX_M">https://youtu.be/QWV10HPOX_M</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-04 22:26</div><div class="msg">^^^^ and Adhoc Object creation/usage and scenarios for storing information in objects on DRP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:26</div><div class="msg">I forgot I was subscribed to this slack. Anyone have any interest in kubernetes? I kinda want to make a project to extend the clusterAutoScaler to be able to speak DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:27</div><div class="msg">we're doing a fair bit w/ it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:27</div><div class="msg">you'll want to play w/ the RackN pooling plugin for that - it will allow single command create destroy.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-04 22:28</div><div class="msg">doc on KRIB (Kubernetes Rebar Integrated Bootstrap) solution:
<a href="https://provision.readthedocs.io/en/tip/doc/content-packages/krib.html">https://provision.readthedocs.io/en/tip/doc/content-packages/krib.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:29</div><div class="msg">@josh.knarr <a href="https://provision.readthedocs.io/en/tip/doc/content-packages/pool.html">https://provision.readthedocs.io/en/tip/doc/content-packages/pool.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:35</div><div class="msg">OK so it doesn't integrate with the clusterAutoscaler :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:35</div><div class="msg">but krib looks neat</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-04 22:36</div><div class="msg">having clusterAutoscaler integrated would be super cool - it shouldn't be too hard - to at least scale a KRIB built cluster - since all of the tooling and workflow would be in place to make the API calls to do it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-04 22:37</div><div class="msg">since DRP is 100% API driven and it's a clean API - it should theoretically be "easy" :slightly_smiling_face:   (but I'm not a software engineer so ... )</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:37</div><div class="msg">Ha</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:37</div><div class="msg">Yeah I took a quick look at it and it doesn't quite line up 1:1 but it should be pretty easy. I also am not a software guy.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:37</div><div class="msg">Well, I'm reluctant devops I suppose. :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:38</div><div class="msg">the pooling plugin provides the 1 API call operation for that</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:39</div><div class="msg">we were looking at Loodse's machine controller:  <a href="https://github.com/kubermatic/machine-controller/">https://github.com/kubermatic/machine-controller/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:39</div><div class="msg">which requires "create" "status" and "destroy" ops.  Which map cleanly to the pooling plugin</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-04 22:39</div><div class="msg">Hmmmm ..... :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:40</div><div class="msg">the difference &amp; advantage w/ the pooling api is that you are basically starting workflows to create/destroy so they are easily extensible by the operator</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:41</div><div class="msg">otherwise, you have to code all that stuff into the caller like we did w/ the terraform provider (which we are eventually going to rewrite to use the pool API)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:41</div><div class="msg">TF = ugh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:41</div><div class="msg">yeah, that's why we moved the logic into the API</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:41</div><div class="msg">My use case is we're a rancher shop for on-prem for "data that can't leave the house" and aside of the total lack of documentation around the API it's pretty darn slick</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:41</div><div class="msg">which also improves visibility</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:42</div><div class="msg">so now we have to figure out how to make the on-prem stuff work like the cloud</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-04 22:42</div><div class="msg">that's pretty much the definition of rebar</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:43</div><div class="msg">yup</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:43</div><div class="msg">I'm dipping my toe in</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-04 22:43</div><div class="msg">^^^ thinks I just fell in love with @josh.knarr</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/7c0c7d961989f6b6b0a997a4c7352a55.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">josh.knarr</div><div class="time">2018-12-04 22:54</div><div class="msg">I used to like TF but they totally screwed the pooch on the provisioner thing. I like how sparkleformation does it a lot better. It's not perfect, but it gets closer to the "load balancers should behave the same way across clouds" abstraction that was originally sold in terraform. :confused:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-04 23:12</div><div class="msg">There is so much wrong w/ TF ... it's "ok" for a "fire and forget" for basic provisioning ... but lord help you if you actually want to use it in a production environment for ongoing operational control....</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:20</div><div class="msg">hi, finally I've got the chance to start with drp for our future kubernetes cluster. I've got 10 dell servers, one is taking care of the provisioning of the other 9(3 master; 6 worker planned). I'm facing some issues with a simple discovery flow. dhcp is configured with reservations by MAC which for the initial ipxe boot works fine but it seems somehow sledgehammer has some connection issues. The most weird thing for me is that if I use the debug shell to execute the wget to the provisioning host, it works :confused: any ideas? btw, how to properly register an organisation? for now I just see `This Organization cannot manage licenses.`</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-05 03:20</div><div class="msg">Time to feed the :bear:!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:26</div><div class="msg">I guess it has something to do with the `udhcp: no lease, forking to background`, race condition?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:26</div><div class="msg">@adam.lemanski - do you have port-delay turned on for your switch ports?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:27</div><div class="msg">&lt;--- not a network guru, but checking</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:28</div><div class="msg">Well if it is faster to test, then you can try this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:28</div><div class="msg">in the global profile, add a parameter - `kernel-console`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:28</div><div class="msg">set it?s value to `provisioner.portdelay=30`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:29</div><div class="msg">If you have cli access, you can do it like this: `drpcli profiles set global param kernel-console to provisioner.portdelay=30`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:29</div><div class="msg">Then try and boot your server.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:30</div><div class="msg">added via cli, rebooting</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:30</div><div class="msg">This assumes that you aren?t setting `kernel-console` somewhere else :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:30</div><div class="msg">fresh drp setup</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:30</div><div class="msg">nothing custom so far</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:31</div><div class="msg">hoping to use krib here :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-05 03:31</div><div class="msg">@adam.lemanski don't worry about your organization just yet.  You'll need it when you want a trial license for advanced features</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:32</div><div class="msg">I would be happy to support this product by buying the dell support content pack etc</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-05 03:32</div><div class="msg">Time to feed the :bear:!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:33</div><div class="msg">@adam.lemanski - let?s get you working first.  We can talk about that off-line later.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:34</div><div class="msg">looks like 30sec are not enough?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:35</div><div class="msg">usually that should be fine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:35</div><div class="msg">hmm - thought maybe not.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:35</div><div class="msg">You can changed it to `120` and see.  That should definitely do it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:35</div><div class="msg">oh - you can also just exit.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:36</div><div class="msg">It should loop and try again.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:36</div><div class="msg">testing with 120sec now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:46</div><div class="msg">sorry, got distracted by a colleague. still same issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:47</div><div class="msg">which is very weird</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:47</div><div class="msg">Try to exit the ash shell</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:47</div><div class="msg">exiting let it continue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:47</div><div class="msg">got the login prompt</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:48</div><div class="msg">and the machine is available in the portal</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:49</div><div class="msg">okay hmmm ? Do you have ipv6 SLAAC enabled?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:49</div><div class="msg">autoconf</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:51</div><div class="msg">all my network devices use ipv4 only, no active ipv6 config at all</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:52</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:52</div><div class="msg">thinking</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:54</div><div class="msg">if it helps. I use
? UniFi Switch 24 POE-250W
? UniFi Security Gateway 4P
? UniFi Cloud Key (Controller Software)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:55</div><div class="msg">on the gateway dhcp is off for this network that the server are part of, ports are restricted to use the networks that have no dhcp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:55</div><div class="msg">What DHCP server are you using?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:55</div><div class="msg">drp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:56</div><div class="msg">drp is started as docker container with host network using a host path to store its data (your docker image)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:56</div><div class="msg">I don?t know that tool set.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:56</div><div class="msg">oh</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:57</div><div class="msg">drp = digital rebar provision</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:57</div><div class="msg">did you start it with `--force-static` and `--static-ip=&lt;ip on machine&gt;`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:57</div><div class="msg">umm - that one I know about :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:58</div><div class="msg">I mean the UniFi stuff</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:58</div><div class="msg">oh - host networking should make that fine, I guess.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:58</div><div class="msg">no static parameter added to start drp</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 03:59</div><div class="msg">well if you are using a `--net host` container then you don?t need them</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 03:59</div><div class="msg">starting drp via ansible:
```
- name: start dr-provision container
  docker_container:
    name: dr-provision
    image: digitalrebar/provision
    network_mode: host
    volumes:
      - /data/dr-provision/drp-data:/provision/drp-data
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:00</div><div class="msg">ports are wonderful reachable, host networking works fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:02</div><div class="msg">Is DRP local to the machine or are the packets traversing the gateway?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:03</div><div class="msg">should be local from the IPs I saw.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:03</div><div class="msg">direct</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:04</div><div class="msg">pet1 = 172.16.80.91
master1 = 172.16.80.92
both on the same switch</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:04</div><div class="msg">in a bigger network 172.16.80.0/20</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:04</div><div class="msg">(but mostly empty)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:05</div><div class="msg">Is the machine dual homed or bonded nics?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:05</div><div class="msg">nope</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:05</div><div class="msg">single nic</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:06</div><div class="msg">firewall rules on the docker host?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:07</div><div class="msg">not now, any to any is allowed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:07</div><div class="msg">minimal ubuntu 18.04.1 installation</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:08</div><div class="msg">shouldn?t matter, but haven?t tried that one recently.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:08</div><div class="msg">mostly been using my mac and centos7 .</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:09</div><div class="msg">without docker.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:09</div><div class="msg">hmm - check apparmor log??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:10</div><div class="msg">another thing would be to check the DRP log, but I don?t expect much there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:11</div><div class="msg">tailing via docker logs the whole time :confused: 0 related, but all log levels are set to `warn`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:12</div><div class="msg">apparmor has nothing since the last reboot</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:12</div><div class="msg">my pet1 itself has ipv6 enabled</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:12</div><div class="msg">okay - something is fishy.  Not sure what though.  Shouldn?t matter.  It should only try ipv4 or ipv6.  It appears to be doing IPv4.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:15</div><div class="msg">possible that I messed up something via the drp-community-content pack? I changed to tip since centos was outdated</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:15</div><div class="msg">thinking of wiping the whole config of drp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:16</div><div class="msg">yesterday when I started I just tried the krib live cluster and it seem to work, now I just want them to wait in discovery...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:17</div><div class="msg">hmm - do you have drp tip?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:17</div><div class="msg">Well - you need tip drp if you have tip content.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:17</div><div class="msg">latest docker image</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:17</div><div class="msg">okay - all good</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:18</div><div class="msg">Did this work before?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:18</div><div class="msg">krib live cluster worked (without dhcp reservations)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:19</div><div class="msg">`drpcli bootenvs show discovery`  see if it is available and validated.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:19</div><div class="msg">hmmmmmmmmm.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:19</div><div class="msg">` "Validated": true`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:20</div><div class="msg">I think something is broken...if I click on any bootenv via the ui, it doesn't show any information about it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:20</div><div class="msg">`drpcli profiles remove global param kernel-console`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:21</div><div class="msg">switch your url from `<a href="http://portal.rackn.io">http://portal.rackn.io</a>` to `<a href="http://tip.rackn.io">http://tip.rackn.io</a>`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:21</div><div class="msg">you may have to revalidate certs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:21</div><div class="msg">I?m pretty sure it isn?t the portdelay now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:21</div><div class="msg">Can you show me your reservations?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:22</div><div class="msg">via tip I see the details</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:22</div><div class="msg">The ux needs to be updated to support the new arch support.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:23</div><div class="msg">okay I feel like you are going to ask me some annoying questions in the future.  But those can wait.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:23</div><div class="msg">haha</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:24</div><div class="msg">Did you clear the kernel-console variable?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:24</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:24</div><div class="msg">remove the reservation for the machine you are booting and reboot it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:24</div><div class="msg">if that is safe to do</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:25</div><div class="msg">you can also check the leases and see that it matches</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:25</div><div class="msg">removed reservation and lease</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:25</div><div class="msg">I meant for you to keep the lease, but that is okay.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:25</div><div class="msg">no one else in that network :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:25</div><div class="msg">The lease would have made sure it gets the same address.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:25</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:27</div><div class="msg">same issue</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:27</div><div class="msg">hmm - okay -</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:28</div><div class="msg">in the ux, goto the `info &amp; preferences`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:28</div><div class="msg">got the same ip</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:28</div><div class="msg">set the DHCP log to `debug` and `save`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:29</div><div class="msg">then reboot the system and let see what the timing of the messages are</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:29</div><div class="msg">rebooting</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:34</div><div class="msg"><a href="https://pastebin.com/dfr62yPy">https://pastebin.com/dfr62yPy</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:35</div><div class="msg">I made to empty lines after the pxe boot before sledgehammer start</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 04:36</div><div class="msg">looks like a 60sec timeout</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:56</div><div class="msg">64 seconds feels magical.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:57</div><div class="msg">It is almost like something is holding off the packets.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 04:57</div><div class="msg">I?m not sure.  I?m off to bed.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 05:22</div><div class="msg">OK, I will play around more. Seems the bangkok timezone is not helping xD</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-05 05:28</div><div class="msg">Any chance you can run DRP in isolated mode on the host to eliminate the container piece?  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 05:34</div><div class="msg">will try after I tried to wipe and start over</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 07:41</div><div class="msg">tested using the binary directly without container, same issue</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 08:25</div><div class="msg">something is really weird, with my setup or the content packagess... obviously <a href="https://github.com/digitalrebar/provision-content/blob/tip/content/bootenvs/centos-7.yml#L9">https://github.com/digitalrebar/provision-content/blob/tip/content/bootenvs/centos-7.yml#L9</a> contains all iso related information but if I take a look in the bootenv:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-05 08:25</div><div class="msg">same for centos-7.6.1810-install</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 14:17</div><div class="msg">@adam.lemanski - that is the state of the UX right now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 14:18</div><div class="msg">if you look at the json view, it should show all the arches.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 16:46</div><div class="msg">I'm trying UEFI pxe boot with Mellanox ConnectX-5 nic, but ran into the following error:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 16:47</div><div class="msg">I applied the configuration under section 24.21. at <a href="https://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html#rs-uefi-boot-option">https://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html#rs-uefi-boot-option</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 16:47</div><div class="msg">Is it looking for a grub config file for uefi pxe booting?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 16:54</div><div class="msg">it is look for elilo.conf which I don?t think we use anymore.  We found the elilo was having problems.  soo? I think you should try `ipxe.efi` instead of `bootx64.efi`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 16:54</div><div class="msg">We need to clean those docs - especially for `bootx64.efi`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 16:54</div><div class="msg">@b.quan</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 17:01</div><div class="msg">@greg should I simply rerun the drpcli option 67 setting to use ipxe.efi?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 17:04</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 17:04</div><div class="msg">thanks, will try that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 17:19</div><div class="msg">@greg That was it! Time to clean up the instructions above - could have saved me a whole day :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 17:23</div><div class="msg">actually - not sure you need it at all anymore.  Did you try it without?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 17:23</div><div class="msg">option 67 set at all?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 17:24</div><div class="msg">@b.quan - because the dhcp server does that by default now.  I think.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 17:26</div><div class="msg">I did not actually try without option 67 set, as I thought that was required from reading the doc.  I'll give it a try too.  @greg how to unset option 67?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 17:27</div><div class="msg">`drpcli subnets set &lt;subnetname&gt; option 67 to null`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 17:27</div><div class="msg">I think</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 17:31</div><div class="msg">cool</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 18:06</div><div class="msg">@greg yes it works without actually setting option 67</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 18:32</div><div class="msg">@greg after the server is provisioned with the stock hwe-ubuntu16 workflow with access-keys being set, I tried to ssh to the server but it still ask for password which I don't have.  Any idea why access-key does not work?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-05 18:37</div><div class="msg">can you provide the output of the actual "`access-key`" param - feel free to snip a portion of the public key out for privacy, or DM it to me ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 18:41</div><div class="msg">sure, I'll DM to you</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-05 19:26</div><div class="msg">so - @b.quan that looks correct - a couple of things to check:
? if you can login on the console - check that `/root/.ssh/authorized_keys` was written correctly with your key
? verify you're using the correct private key half when attempting to connect
? it's the `root` user account you should be connecting to on the newly built machine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 19:34</div><div class="msg">Thanks @shane I'll check these and get back to you if I'm still stuck</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-05 21:05</div><div class="msg">Gents, how to upgrade the latest drp-community-content on dr-provision server?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 21:05</div><div class="msg">go to the content packages page in the UX, select tip or version for the content pack to update.  Click upgrade</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-05 21:06</div><div class="msg">Thanks @greg</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-05 21:11</div><div class="msg">I got the following error message when upgrading the content</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-05 21:11</div><div class="msg">Content Upload Failed: PUT
Unable to load root templates: template: :276: function ?upper? not defined</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-05 21:14</div><div class="msg">If you are trying to move to tip content versions, you need tip DRP version</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-05 21:15</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4e7c56612476f6db5cde9a0e797be65f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0012-72.png" /><div class="message"><div class="username">b.quan</div><div class="time">2018-12-05 21:55</div><div class="msg">@shane after I changed the user name to be "root" in the access-keys param, it worked</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/14be58f66f93f48885d46316cbdf8868.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">krishan.sharma</div><div class="time">2018-12-06 01:22</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 01:27</div><div class="msg">@krishan.sharma $welcome :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-06 01:27</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 05:28</div><div class="msg"><!channel> - Krib tip is updated to address the most recent Kubernetes security alert and support/handle the latest centos 7 update.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3a1a25c0cd2fbfd6aaea0c8769f59b08.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">kamp.scott</div><div class="time">2018-12-06 05:31</div><div class="msg">@greg kubernetes security advisory?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 05:31</div><div class="msg"><a href="https://www.zdnet.com/article/kubernetes-first-major-security-hole-discovered/">https://www.zdnet.com/article/kubernetes-first-major-security-hole-discovered/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/ecf663733f5c91715ca1d2ef5dce5d5a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">bencode14395980</div><div class="time">2018-12-06 07:13</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-06 16:08</div><div class="msg">woo, ztp script execution works as well</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 16:11</div><div class="msg">Hello, doing well with this so far but can't figure out where the .Env things are created/stored. {{.Env.BootParams}}, {{.Env.Name}}, {{.Env.InstallUrl}}. For that last one I'm seeing...
Dynamic file error for /pxelinux.cfg/01-00-50-56-b9-07-db: template: :191:11: executing "default-pxelinux.tmpl" at &lt;.BootParams&gt;: error calling BootParams: template: machine:1:60: executing "machine" at &lt;.Env.InstallUrl&gt;: error calling InstallUrl: No install repository available
...so obviously not getting something right.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:12</div><div class="msg">@bencode14395980 $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-06 16:12</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:14</div><div class="msg">@christopher_wood those template expansion pieces are "magic" - they are documented in the "Architecture Reference" pages, under "Provisioning Models":
<a href="https://provision.readthedocs.io/en/tip/doc/arch/provision.html">https://provision.readthedocs.io/en/tip/doc/arch/provision.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 16:15</div><div class="msg">The .Env are bootenv parts</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 16:15</div><div class="msg">Aha, reading.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:15</div><div class="msg">is this for CentOS 7 you see the error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:16</div><div class="msg">BTW - I don't think that doc will answer your question - but just give you some background on the pieces</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 16:16</div><div class="msg">Yes. It all worked out of the box with the provision-content repo, now I'm trying to do a custom build. I'm going to read the background first, that will likely illuminate this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:24</div><div class="msg">Do you mean use custom repos when you say a "custom build" ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 16:26</div><div class="msg">I branched provision-content and am trying to use a custom centos 7 kickstart because we're "special".</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:27</div><div class="msg">what are you trying to do in the Kickstart ?   We generally recommend to use Workflow (Stages/Tasks/Templates) to accomplish customization - since the actions are a lot more transparent (fully logged) on the DRP endpoint side</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:28</div><div class="msg">anything that goes in to a kickstart/preseed will be hard to debug/troubleshoot when they break</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:29</div><div class="msg">also - you don't need to branch all of the drp-community-content - you should be able to accomplish surgical changes by cloning the appropriate parts</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:29</div><div class="msg">and we also specifically have a `select-kickseed` mechanism to inject a completely unique Kickstart in to community content with out having to clone</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 16:29</div><div class="msg">Custom yum repos and network installation, new root password, templated partitions, optional network interfaces, packages excluded, whole list of things.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 16:30</div><div class="msg">Hm, such a newb. Going to read more about select-kickseed too.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:31</div><div class="msg">all of those things can be accomplished via modifying Params which you put in a Profile (group of Params) and attach to a machine (or you can put params directly on Machine - but usually best to group things together in a profile)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 16:31</div><div class="msg">That does sound more productive than where I'm currently going, yes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:34</div><div class="msg">`select-kickseed`: <a href="https://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html?highlight=select-kickseed#custom-kickstart-and-preseeds">https://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html?highlight=select-kickseed#custom-kickstart-and-preseeds</a>
`package-repositories`: <a href="https://provision.readthedocs.io/en/tip/doc/arch/data.html?highlight=package-repositories#the-package-repositories-param">https://provision.readthedocs.io/en/tip/doc/arch/data.html?highlight=package-repositories#the-package-repositories-param</a>
`provisioner-default-password-hash`: <a href="https://provision.readthedocs.io/en/tip/doc/content-packages/drp-community-content.html#provisioner-default-password-hash">https://provision.readthedocs.io/en/tip/doc/content-packages/drp-community-content.html#provisioner-default-password-hash</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:34</div><div class="msg">etc...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 16:34</div><div class="msg">Not meaning to sound snarky except in a self-directed fashion. I could swear I've read over this stuff and it obviously hasn't sunk right in yet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:34</div><div class="msg">the last link has (minimal - could be LOTS better) doc on the pieces and parts of drp-community-content content pack</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:35</div><div class="msg">yeah - we know - we need to do some clean up and re-org on the Doc - there's a lot there, it just isn't quite as newbie friendly as it could be</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:35</div><div class="msg">generally speaking - check the "Content  Packages &amp; Plugins" from the table of contents for clues (eg the "drp-community-content" pack)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 16:35</div><div class="msg">and the Architecture Reference for more advanced stuff</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 16:36</div><div class="msg">It all makes sense once I understand it, and it's all quite well built. Need to bend my brain around it all.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 16:37</div><div class="msg">*around it is all</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 16:58</div><div class="msg">when attempting to install debian 9; it displays ?No kernel modules were found?.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:00</div><div class="msg">It also displays ?This probably is due to a mismatch between the kernel used by this version of the ??</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 17:00</div><div class="msg">Make sure you have the latest iso uploaded.  It may be trying to talk to the internet to get the kernel.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:02</div><div class="msg">I got the latest iso 9.6 version and the one matching with bootenv ?version 9.5?, the issue still exists on both of versions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 17:04</div><div class="msg">did you change anything?  Update content package?  Update the iso?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:05</div><div class="msg">I just updated the iso only</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 17:05</div><div class="msg">So, you have to update the bootenv or it won?t be available.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 17:06</div><div class="msg">Check the bootenv in the ux and see if it is available.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:06</div><div class="msg">the new iso ?9.5? version is matching with the bootenv</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 17:07</div><div class="msg">So, does the bootenv report as valid and available?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:07</div><div class="msg">drpcli bootenvs show debian-9-install
{
  ?Available?: true,
  ?BootParams?: ?priority=critical console-tools/archs=at console-setup/charmap=UTF-8 console-keymaps-at/keymap=us popularity-contest/participate=false passwd/root-login=false keyboard-configuration/xkb-keymap=us netcfg/get_domain=unassigned-domain console-setup/ask_detect=false debian-installer/locale=en_US.utf8 console-setup/layoutcode=us keyboard-configuration/layoutcode=us netcfg/dhcp_timeout=120 netcfg/choose_interface=auto url={{.Machine.Url}}/seed netcfg/get_hostname={{.Machine.Name}} root=/dev/ram rw quiet {{if .ParamExists \?kernel-console\?}}{{.Param \?kernel-console\?}}{{end}}?,
  ?Description?: ?Debian 9 install BootEnv?,
  ?Errors?: [],
  ?Initrds?: [
    ?initrd.gz?
  ],
  ?Kernel?: ?linux?,
  ?Meta?: {
    ?color?: ?black?,
    ?feature-flags?: ?change-stage-v2",
    ?icon?: ?linux?,
    ?title?: ?Digital Rebar Community Content?
  },
  ?Name?: ?debian-9-install?,
  ?OS?: {
    ?Codename?: ??,
    ?Family?: ?debian?,
    ?IsoFile?: ?debian-9-amd64-mini.iso?,
    ?IsoSha256": ?cb0e8a529e2c04b06c5d108f72b22281153df15e26b2b900202ef30ac949e5dd?,
    ?IsoUrl?: ?<a href="http://mirrors.kernel.org/debian/dists/stretch/main/installer-amd64/current/images/netboot/mini.iso">http://mirrors.kernel.org/debian/dists/stretch/main/installer-amd64/current/images/netboot/mini.iso</a>?,
    ?Name?: ?debian-9",
    ?Version?: ?9.5"
  },
  ?OnlyUnknown?: false,
  ?OptionalParams?: [
    ?part-scheme?,
    ?operating-system-disk?,
    ?provisioner-default-user?,
    ?provisioner-default-fullname?,
    ?provisioner-default-uid?,
    ?provisioner-default-password-hash?,
    ?kernel-console?,
    ?proxy-servers?,
    ?dns-domain?,
    ?local-repo?,
    ?proxy-servers?,
    ?ntp-servers?,
    ?select-kickseed?
  ],
  ?ReadOnly?: true,
  ?RequiredParams?: [],
  ?Templates?: [
    {
      ?Contents?: ??,
      ?ID?: ?default-pxelinux.tmpl?,
      ?Name?: ?pxelinux?,
      ?Path?: ?pxelinux.cfg/{{.Machine.HexAddress}}?
    },
    {
      ?Contents?: ??,
      ?ID?: ?default-ipxe.tmpl?,
      ?Name?: ?ipxe?,
      ?Path?: ?{{.Machine.Address}}.ipxe?
    },
    {
      ?Contents?: ??,
      ?ID?: ?default-pxelinux.tmpl?,
      ?Name?: ?pxelinux-mac?,
      ?Path?: ?pxelinux.cfg/{{.Machine.MacAddr \?pxelinux\?}}?
    },
    {
      ?Contents?: ??,
      ?ID?: ?default-ipxe.tmpl?,
      ?Name?: ?ipxe-mac?,
      ?Path?: ?{{.Machine.MacAddr \?ipxe\?}}.ipxe?
    },
    {
      ?Contents?: ??,
      ?ID?: ?select-kickseed.tmpl?,
      ?Name?: ?seed?,
      ?Path?: ?{{.Machine.Path}}/seed?
    },
    {
      ?Contents?: ??,
      ?ID?: ?net-post-install.sh.tmpl?,
      ?Name?: ?net-post-install.sh?,
      ?Path?: ?{{.Machine.Path}}/post-install.sh?
    }
  ],
  ?Validated?: true
}</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:09</div><div class="msg">isos/debian-9.5.0-amd64-netinst.iso</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 17:09</div><div class="msg">It needs to be named: debian-9-amd64-mini.iso</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:16</div><div class="msg">i just re-name the iso file and restart the installing but the error still the same</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:17</div><div class="msg">debian-9-amd64-mini.iso</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 17:18</div><div class="msg">The ISO must also have the same exact SHA sum hash - along with the name being the same - i.e. it must be what the BootEnv is looking for</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:20</div><div class="msg">i have to run drpcli isodownload, right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:25</div><div class="msg">$ drpcli bootenvs uploadiso debian-9-install
BootEnv debian-9-install is already available, skipping download of iso ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 17:27</div><div class="msg">I just run the uploadiso, but it?s skipping download of iso.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 17:55</div><div class="msg">@shane, thank you for the pointers! I got into anaconda after reading those, with the default centos-7 bootenv and my custom quickstart.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 18:16</div><div class="msg">@ben.le - you may need to remove the debian-9 directory and reupload the iso to make sure it is correct.  This would be from the tftpboot directory</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 18:24</div><div class="msg">after removed debian-9 directory and restarted dr-provision server and then i run the drpcli bootenvs uploadiso debian-9-install
BootEnv debian-9-install is already available, skipping download of iso ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 18:28</div><div class="msg">yeah - but it should have reexploded the iso</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 18:30</div><div class="msg">that what i thought</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 18:41</div><div class="msg">I tired to download the iso directly from this link <a href="http://mirrors.kernel.org/debian/dists/stretch/main/installer-amd64/current/images/netboot/mini.iso">http://mirrors.kernel.org/debian/dists/stretch/main/installer-amd64/current/images/netboot/mini.iso</a>, but it seems like the file Sha256 does match with the one in bootenv json</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8e6c18d03bdeb05190a6d43e75b7f8fb.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0016-72.png" /><div class="message"><div class="username">christopher_wood</div><div class="time">2018-12-06 18:45</div><div class="msg">Does it match with the SHA256 that Debian provides?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 18:45</div><div class="msg">not at all</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 18:47</div><div class="msg">SHA256 from the one download sha256sum debian-9-amd64-mini.iso
53fbdc4469216d7cf80023d58925d37add5a81817b43b7a36cd53dd7f606816d  debian-9-amd64-mini.iso</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 18:48</div><div class="msg">SHA256 from bootenv json cb0e8a529e2c04b06c5d108f72b22281153df15e26b2b900202ef30ac949e5dd</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 18:49</div><div class="msg">how to download the iso with the existing SHA256 in the bootenv json file?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 18:53</div><div class="msg">Yes - because they updated to 9.6. Tip content has updated bootenvs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 18:53</div><div class="msg">You will need tip drp to get hte tip content.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 18:57</div><div class="msg">sorry, i?m not familiar with tip drp, what?s the different?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 18:58</div><div class="msg">To get the most recent drp content which has the sha fixes, you will need the latest DRP endpoint software.  We call the latest unreleased version, `tip`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 18:59</div><div class="msg">thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 20:48</div><div class="msg">Could anyone point me toward some docs on how the custom-ipxe boot env works?
I just get "booting kernel failed: Invalid argument" with or without params.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:05</div><div class="msg">@andrew - What are you trying to do?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:08</div><div class="msg">pxe boot a 32bit machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:09</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:09</div><div class="msg">so take that content minus the #!pxe line</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:09</div><div class="msg">honestly I should probably throw this hardware in the garbage, I'm just playing. So no worries if what I'm trying to do is beyond the scope of what drp does.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:10</div><div class="msg">put in the `custom-ipxe` parameter global or on the machien.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:11</div><div class="msg">use the cli.  The UX can get confused with the multi-line strings.  You need to have added it with the string editor icon thingee.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:12</div><div class="msg">`drpcli profiles show adk-ipxe`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:12</div><div class="msg">Gotcha! When I use the string editor and do multi line the param gets deleted. I'll go into cli.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:13</div><div class="msg">There should be a little icon that switches to a multi-line editor in the ux.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:13</div><div class="msg">This little guy?&gt;</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:13</div><div class="msg">yes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:13</div><div class="msg">Do i have to wrap the whole thing in quotes?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:13</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:13</div><div class="msg">just put the contents in there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:14</div><div class="msg">then save and don?t trust the ux.  Check the cli for if it changed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:14</div><div class="msg">you should have `\n` in the text, I think.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:14</div><div class="msg">Checking cli</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:14</div><div class="msg">When I save after using multi line the param disappears.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:15</div><div class="msg">Oh define each line with \n?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:15</div><div class="msg">no</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:15</div><div class="msg">do this.  Just a second need to move a cat</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:16</div><div class="msg">Create a tmp file with the ipxe script in it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:16</div><div class="msg">do this: `drpcli profiles set global param custom-ipxe to tmp`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:16</div><div class="msg">where `tmp` is your file name.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:17</div><div class="msg">then do: `drpcli profiles show global`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:17</div><div class="msg">That should show this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:17</div><div class="msg">```
 "custom-ipxe": "set base <a href="http://mirror.centos.org/altarch/7/os/i386/images/pxeboot/\nprompt">http://mirror.centos.org/altarch/7/os/i386/images/pxeboot/\nprompt</a> -k 0x197e -t 2000 Press F12 to install CentOS... || exit kernel ${base}/images/pxeboot/vmlinuz initrd=initrd.img repo=${base} initrd ${base}/images/pxeboot/initrd.img boot",
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:17</div><div class="msg">yup!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:18</div><div class="msg">so now - how are trying to boot with that.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:19</div><div class="msg">So i'll go over to machines. apply global profile to it. and set boot env to custom-ipxe. Lets see what happens?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:19</div><div class="msg">global is applied to all automatically.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:19</div><div class="msg">good to know</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:20</div><div class="msg">oh - you didn?t put it in global. you put it in adk-ipxe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:20</div><div class="msg">so put that on the machine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:20</div><div class="msg">Actually I followed your instructions litterally. so now i have a custom-ipxe param in global.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:20</div><div class="msg">ok then all machines have it for now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:21</div><div class="msg">then yeah force the machines bootenv to that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:21</div><div class="msg">You may have to unset the machine?s stage and workflow.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:21</div><div class="msg">or create a stage with that bootenv and a workflow with that stage.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:22</div><div class="msg">Gotcha, yeah. Clearing that up now. One thing i wasn't sure on. Do i need to flag it as runnable for the settings in "bulk actions" to take effect?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:23</div><div class="msg">no.  The bulk actions page is just doing things in bulk to the machine.  The settings are all driven independently because they are independent.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:24</div><div class="msg">Sounds good.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:24</div><div class="msg">Runnable applies to stopping a runner in a running system.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:24</div><div class="msg">No - sounds rambly.  :slightly_smiling_face: But I?m trying.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:24</div><div class="msg">I'm following and appreciate the help. I've been dabbling with this platform in my free time and loving it so far.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:25</div><div class="msg">Soon I'll need to provision over 90 raspberry pis and i'm hoping that I can utilize this in someway.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:26</div><div class="msg">umm - okay.  Raspberry Pis can be troubling, because they don?t have a real network bootloader.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:26</div><div class="msg">even the newest model? pi 3 b+</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:26</div><div class="msg">well - until pi3 or whatever.  Then maybe?.. a big if on the maybe</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:27</div><div class="msg">Yeah, i was going for proof of concept on the 32bit machine. I figured if i could make THAT work i could pivot onto net booting the pis</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:27</div><div class="msg">you will be closer.  You will need `tip` and the arch support in it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:27</div><div class="msg">I'm running tip but didn't pull in the arch support.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:27</div><div class="msg">I might have missed that step.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:28</div><div class="msg">If you have tip components,  then you have arch aware pieces.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:30</div><div class="msg">No dice on that custom-ipxe btw. Same issue.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:30</div><div class="msg">No worries. I might be better off abandoning this hardware and just working toward the end game.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:31</div><div class="msg">fwiw, I know pxe works on those machines.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:32</div><div class="msg">Maybe I just need to make a 32bit boot env ? It seemed a little overwhelming due to my lack of understanding how kernels and boot parameters work.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:33</div><div class="msg">I did manage to clone the Centos-7 install and replace the iso with a 32bit one. That kind of worked.
now i'm just rambling...

Thanks for the help again. I'll keep playing.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 21:34</div><div class="msg">i run into this error when deleting the stage content $ drpcli stages destroy debian-9-install
Error: DELETE: readonly: debian-9-install</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:42</div><div class="msg">@ben.le - it is in the read-only content and can?t be deleted.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 21:44</div><div class="msg">got it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-06 21:44</div><div class="msg">thanks @greg</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:53</div><div class="msg">@andrew - I have something for you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:54</div><div class="msg">I looked closer and it didn?t work for me either.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:54</div><div class="msg">Sooo I had to do it this ways.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:54</div><div class="msg">`drpcli profiles show global --format=yaml &gt; global.yaml`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:55</div><div class="msg">then edit `global.yaml`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:55</div><div class="msg">Add this in the parameters section</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:55</div><div class="msg">```
Params:
  custom-ipxe: |
    set base <a href="http://mirror.centos.org/altarch/7/os/i386/images/pxeboot/">http://mirror.centos.org/altarch/7/os/i386/images/pxeboot/</a>
    prompt -k 0x197e -t 2000 Press F12 to install CentOS... || exit
    kernel ${base}/images/pxeboot/vmlinuz initrd=initrd.img repo=${base}
    initrd ${base}/images/pxeboot/initrd.img
    boot
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:56</div><div class="msg">Then do: `drpcli profiles update global global.yaml`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 21:56</div><div class="msg">multi-line strings are hard and shouldn?t really be, but there we are.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 21:57</div><div class="msg">Alrighty, I'm on it.  I also started thinking that this NIC might not support ipxe. Then i was trying to learn how undionly.kpxe functions.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-12-06 22:04</div><div class="msg">@andrew Sorry, we only support 64 bit systems for x86 compatible systems.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 22:04</div><div class="msg">No worries</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 22:05</div><div class="msg">Just getting a kick out of seeing what drp is capable of :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 22:05</div><div class="msg">umm - in this case, @vlowther why?  Yeah - discovery won?t work, but he?s going direct to the 386 repo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-12-06 22:06</div><div class="msg">well, the error message was from Sledgehammer. :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-12-06 22:06</div><div class="msg">and we don't have an i686 compatible Sledgehammer.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 22:06</div><div class="msg">I understand from a fundamentals standpoint. I was just using that as a proof that pxe was working. Fully understandable that sledgehammer isn't going to have a 32bit</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 22:07</div><div class="msg">yeah- that was his boot proof test.  He?s manually created the node and forced its bootenv to the custom-ipxe that points out into the iverse.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 22:07</div><div class="msg">Though, I?m with you @vlowther that this is a long challenging road to hoe.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 22:08</div><div class="msg">Yeah, I didn't want to be a bother at all.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 22:11</div><div class="msg">@andrew - I?d give it another shot with the right file in place.  In the end, @vlowther is right.  This machine won?t follow any of the reasonable DRP control patterns.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 22:12</div><div class="msg">Heck, I bet we don?t even build a drpcli that would work on it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 22:12</div><div class="msg">much less make one available to download.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 22:25</div><div class="msg">yep - we stopped compiling 386 versions earlier in the year ... for all of the binaries</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 22:28</div><div class="msg">arm64 is in the mix though , right?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 22:28</div><div class="msg">That's probably going to be more exciting for me anyhow :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 22:29</div><div class="msg">yes though you may have to move some things around and find them, but yeah.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 22:43</div><div class="msg">we do a couple of ARM arch builds - and ARM is constantly shuffling arch stuff around - so we (probably) may run in to issues w/ newer versions and need to compile something new (eg v5, v6, v7, v8 ... blah blah blah)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 22:43</div><div class="msg">but we do have a couple of current ARM 32 and 64bit builds</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-06 22:43</div><div class="msg">sledgehammer is a different story ... that's a bit more limited right now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-06 23:24</div><div class="msg">Ayy, @greg I did it! with a custom bootenv.  :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-06 23:56</div><div class="msg">Cool </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-07 06:16</div><div class="msg">Is there somewhere a full list what kind of `provisioner.*` options are available like `provisioner.portdelay`? I would like disable the debug shell in case 10 failed downloads of the 2nd image or at least change the number of retries.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 14:12</div><div class="msg">There are only two currently.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 14:13</div><div class="msg">`provisioner.portdelay` and `provisioner.routedelay`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 14:14</div><div class="msg">portdelay is a delay after the port is sleep before the link is marked up.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 14:14</div><div class="msg">routedelay is a delay for IPv6 to wait before dhcpv6 is started to allow for router advertisements to show up.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 14:15</div><div class="msg">@adam.lemanski - let me look at it.  I?ll try to add something for that today.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-07 14:19</div><div class="msg">Cool, I will have access to the hardware again next week Tuesday I guess.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 16:26</div><div class="msg">I've got a weird problem I don't quite understand.  I have a DHCP scope on my drp server.  A machine got an IP and was successfully built.  Now it's just sitting there in the "complete" state.  Some time later I tried to build another machine.  It was issued a lease on that same IP that was used before, but that's fine since that first machine got a permanent IP and is not using it, and the old lease had expired.  So far this is exactly what I would expect.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 16:27</div><div class="msg">However, when the new machine boots, it doesn't go to discovery, because apparently the server thinks it's the other machine and won't treat it as an unknown system.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 16:27</div><div class="msg">Can I fix this without deleting the first system?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 16:27</div><div class="msg">I tried just changing the IP in the machine definition but that didn't help.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:34</div><div class="msg">hmm - this is in interesting issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:34</div><div class="msg">You should change the old machine?s Address in RackN to match its static IP.  Then see if the new machine goes through discovery.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:35</div><div class="msg">@dave.parker -</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 16:37</div><div class="msg">Ok, let me try that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 16:49</div><div class="msg">No, doesn't seem to work.  It finds a boot file called &lt;IPADDR&gt;.ipxe and boots from that?  Which apparently just directs it to boot local.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:51</div><div class="msg">hmm that file exists after changing the Address field of the other machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:52</div><div class="msg">actually.  Hmmm</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:53</div><div class="msg">I bet we don?t rebuild the bootenv templates on address change.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:53</div><div class="msg">That is a bug.  Change the workflow to local.  It should be equivalent to your complete.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:53</div><div class="msg">for the old machine and see if that file disappears.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 16:54</div><div class="msg">Ok, will do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:55</div><div class="msg"><!channel> - tip has a sledgehammer update in tip.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:55</div><div class="msg">```

    This change does a couple of things.
    
    1. Fixes centos 7.5 to 7.6.  There were some oversights
       in the previous PR.
    2. Updates sledgehammer to centos 7.6 for amd64.  Arm rebuild will be
       required.
    3. Sledgehammer now has two new kernel variables that can
       be used to alter start.
    
    The two vars are:
    provisioner.postportdelay
       which causes a wait in seconds after the link has been brought
       up, but hasn't started DHCP.  Defaults to unset.
    provisioner.wgetretrycount
       which is the number of times to retry the stage2 wget before
       dropping to ash.  The default is 10.
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 16:55</div><div class="msg">@adam.lemanski - this one is for you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 17:01</div><div class="msg">That didn't seem to work either.  There is no "local" workflow that I could find so I cleared the workflow.  Stage is "none" and bootenv is "local".  Same issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 17:03</div><div class="msg">Is that an actual file I can just remove, or is it something that is being generated on demand?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 17:06</div><div class="msg">Generated </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 17:06</div><div class="msg">Hmm </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-07 17:25</div><div class="msg">@dave.parker just curious - physical hardware or virtual?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-07 17:27</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-07 17:30</div><div class="msg">@samuel.mutel $welcome </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-07 17:30</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-07 17:33</div><div class="msg">hello</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-07 17:34</div><div class="msg">i am based in Paris so it's late for me. Just connected to the channel to not lost the temporary link to slack.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-07 17:34</div><div class="msg">will contact you Monday</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 17:47</div><div class="msg">Both machines are physical</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 17:48</div><div class="msg">Okay. I?ll try to recreate here </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 18:09</div><div class="msg">@dave.parker - are you using DRP?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 18:09</div><div class="msg">for DHCP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 18:15</div><div class="msg">if possible, another option is to make sure the Addresses are correct on your machine then restart DRP.  @dave.parker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 18:15</div><div class="msg">still need to think about this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 18:30</div><div class="msg">Yes, we're using DRP for DHCP but only for the build.  Once the build is done we assign a permanent IP.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 18:42</div><div class="msg">hmm - I?m trying to figure out how you got the address again.  How tight is your Active IP range on your subnet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 18:42</div><div class="msg">I guess I can force it that way.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 18:49</div><div class="msg">So we use only about 10 or so addresses for DHCP.  The intent is that systems only use them to build, then we assign them permanent IP addresses outside that range, and then the DHCP addresses are free to reuse.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 18:49</div><div class="msg">ok</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-07 18:49</div><div class="msg">I?ll keep trying.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-07 18:50</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/833f638dc9c7d7fd275df11752265a44.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">hugo</div><div class="time">2018-12-08 00:51</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-08 00:56</div><div class="msg">@hugo $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-08 00:56</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:16</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:17</div><div class="msg">Hi there!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:18</div><div class="msg">im using DR-Provison for 2 days now and i think im in love...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:18</div><div class="msg">great tool!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:18</div><div class="msg">im using it to deploy OOK with KRIB+Openstack-HELM</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:19</div><div class="msg">so far im able to deploy everything without problem :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:19</div><div class="msg">but i have a stupid problem i can manage to solve...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:20</div><div class="msg">i need to limit drp to listen for DHCP on only one interface</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:20</div><div class="msg">but if i use --dhcp-ifs he still listen on 0.0.0.0:67</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:21</div><div class="msg">not only on the interface i specified on the parameter (dhcp requests from other interfaces are rejected)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:31</div><div class="msg">and also, i have another question...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:32</div><div class="msg">when sledgehammer gets the gohai information for each host, how i can use that information on templates?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 17:32</div><div class="msg">like any other parameter?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-09 18:13</div><div class="msg">For gohai, you can use {{.ParamAsJson to expand the gohai data then use jq to select.   As an alternate,  use the inventory stage in the task library to do that for you and read from inventory/ values.  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 18:15</div><div class="msg">cool so it aggregates profile params + machine params</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 18:16</div><div class="msg">with any precedence?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 18:16</div><div class="msg">profile params overwrite host params?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-09 18:31</div><div class="msg">Order of precedence from least to most:
? global profile (and accompanying Params defined in it)
? Machine specific Profile (and accompanying Params)
? Params directly added on Machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-09 18:32</div><div class="msg">btw @fernando.gonzalez - $welcome :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-09 18:32</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-09 18:32</div><div class="msg">Check out the colordemo repo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-09 18:34</div><div class="msg">Also - for your DHCP qeury - DRP will not generate or answer any DHCP packets on interfaces/subnets that it doesn't have a `Subnet` definition for - so ultimately - DRP only answers if an incoming DHCP packet matches a configured `Subnet` on the host - plus you can "enable/disable" subnets on the fly as needed</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 18:36</div><div class="msg">yep but my problem is dr-provision binds to wildcard 0.0.0.0:67</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 18:37</div><div class="msg">its ignores requests from other interfaces but the problem is the bind</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 18:37</div><div class="msg">i cant use dnsmasq on the same server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 18:39</div><div class="msg">for now i can use dr-provision to serve all requests because my environment is small</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-09 19:01</div><div class="msg">are there features in DNSMasq that are missing in DRP that you would use ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 19:04</div><div class="msg">nop, i will try to explain my problem</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 19:06</div><div class="msg">i have 6 servers with 2 1gbps ethernet (one of those is used to dr-provision communications) and 2 10gbps ethernet.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 19:06</div><div class="msg">also there is a small server with dr-provision</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 19:07</div><div class="msg">i have 3 separated vlans (mgmt 1gbps, k8s 10g, ceph 10g)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 19:10</div><div class="msg">as i want to use calico and ceph on designated vlans i need someone to give them ip addresses, as i dont have more servers available my idea was to trunk all vlans to actual dr-provision server and use dr-provision on only mgmt vlan and dnsmasq on the other two</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 19:11</div><div class="msg">with this configuration i dont need to worry about the NIC order on bios because dnsmasq served DHCP will not have BOOTP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 19:13</div><div class="msg">(im so bad writing english...)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 19:13</div><div class="msg">xD</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 21:20</div><div class="msg">@fernando.gonzalez we don?t have a specific bind address option.  I?ll make sure but I?m pretty sure.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 21:21</div><div class="msg">I?m with @shane I?d love to know what dnsmasq is providing that DRP and I?ll fix that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:11</div><div class="msg">@greg to "bind" dr-provision to an interface im using --dhcp-ifs, with this parameter any dhcp request coming from that inerface will be ignored but i expected dr-provision binds to the ip of that interface, not 0.0.0.0:67</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:13</div><div class="msg">there is no especial option dnsmasq have and dr-provision not, i want to split the dhcp requests to avoid if one machine have ipxe configured for two interfaces dr-provision provides booting information to the "wrong" one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:14</div><div class="msg">(i have 3 vlans trunked to the machine where dr-provision lives)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:16</div><div class="msg">I understand what you have.  I don?t understand why you want two tools to manage it.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:16</div><div class="msg">can i setup dr-provision to ignore ipxe requests from one subnet?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:17</div><div class="msg">(or interface)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:17</div><div class="msg">The `dhcp-ifs` only limits packets not the interfaces.  This is partially to make it easier to work with DHCP relay agents.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:18</div><div class="msg">i need dhcp on 2 vlans and dhcp+ipxe on the other</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:20</div><div class="msg">Well - DHCP will hand out addresses to all of those.  Whether the system boots from DHCP response is up to the machine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:20</div><div class="msg">Are you moving the machines post or do all the booting machines start from mgmt ip?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:21</div><div class="msg">no, the machines will stay on mgmt forever in case i need to recicle some nodes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:22</div><div class="msg">this problem only occurs on the lab environment</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:22</div><div class="msg">DRP DHCP doesn?t have a non-bootfile option currently.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:22</div><div class="msg">I guess I trying to understand your problem.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:22</div><div class="msg">on production i will have a router with dhcp :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:24</div><div class="msg">dont worry so much, for this 6 servers i disabled ipxe on bios</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:24</div><div class="msg">I don?t understand you problem.  Is this real or assumed problem?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:25</div><div class="msg">We haven?t really had this problem before.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:25</div><div class="msg">is a real problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:25</div><div class="msg">The machine will attempt to pxe from the mgmt interface, once installed, the DHCP server will tell it to boot the local disk.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:25</div><div class="msg">The local disk will boot the os and the other interfaces will then DHCP cleanly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:26</div><div class="msg">if i put 100 new servers on this network (3 vlans trunked to server with dr-provision) and some nics attached to a non mgmt vlan have ipxe configured</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:27</div><div class="msg">dr-provision will boot that machines from the first NIC that request ipxe</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:29</div><div class="msg">dr-provision doesnt allow to not boot a machine if dr-provision  is providing dhcp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:30</div><div class="msg">xD</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:30</div><div class="msg">pocahontas style</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:30</div><div class="msg">xD</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:30</div><div class="msg">well - the point is the DRP DHCP server tracks the macs of the system and a single machine entry will be created across the nics.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:31</div><div class="msg">To handle this case.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:34</div><div class="msg">but regardless. DRP doesn?t do what you want to do.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:35</div><div class="msg">it could.  binding is a little tough because we don?t have a separate handler system currently.  It operates on a single socket model.  It isn?t hard to change, but not something I want to just throw together.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-09 23:36</div><div class="msg">Changing a subnet to not send a bootfile is easy to add a flag for.  Would put it on subnet and reservations probably.  That way a bootfile/nextserver is not sent for that subnet or reservation.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0b15d5dd00e7c5067fe4e7e1bc27c763.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0017-72.png" /><div class="message"><div class="username">fernando.gonzalez</div><div class="time">2018-12-09 23:40</div><div class="msg">i think is a good option, specially on lab environments where you put many pieces on few servers</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-10 06:20</div><div class="msg">@greg I'm happy to report that `provisioner.postportdelay` &amp; `provisioner.wgetretrycount` helped me to get in the sledehammer/discovery stage. Thanks a lot. I'm still a bit curious why there is some timeout but a simple `provisioner.postportdelay=60` works and a `provisioner.postportdelay=30,provisioner.wgetretrycount=30` works too.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4896da47b2d9267a06a48a8fe7b49fc7.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">masirrobert</div><div class="time">2018-12-10 12:58</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 13:15</div><div class="msg">My guess is that your switches have portdelay turned on.  So, the link comes active and needs some settle time.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 13:16</div><div class="msg">Depending upon the switch/security gateway, you need more or less time and the switch may stay in discovering state different times.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 13:16</div><div class="msg">We had one user how needed the pre-`portdelay`, but you need the `postportdelay` .  Now we have both.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 13:18</div><div class="msg">The switch is probably doing spanning tree discovery and has the port up, but not switching.  The `postportdelay` or `wgetretrycount` causes the system to wait for the link to stabilize before continuing.  @adam.lemanski</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-10 13:36</div><div class="msg">@masirrobert $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-10 13:36</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 14:30</div><div class="msg">hmm, so I have successfully installed a CL image onto a switch using the cumulus ZTP functionality with DRP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 14:31</div><div class="msg">however, when the switch reboots after installing, the ZTP script runs but? the machine still shows as ?down? in the DRP ui, I suspect the join-up.sh script does not end up running drpcli processjobs if the machine already exists</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 14:41</div><div class="msg">yep confirmed, stuck in this loop:

```
  while ! JSON="$(drpcli machines create "{\"Name\": \"$HOSTNAME\",
                                       \"Address\": \"$IP\",
                                       \"Arch\": \"$ARCH\",
                                       \"Meta\": {\"icon\":\"cloud\"},
                                       \"HardwareAddrs\": $(get_macs)}")"; do
      echo "We could not create a node for ourself, trying again."
      sleep 5
  done
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-10 15:08</div><div class="msg">@bagricola what does your ZTP install workflow look like?  do you have a "complete" stage at the end?   if the Workflow doesn't mark the machine (switch) complete, then the workflow will never be "finished"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-10 15:08</div><div class="msg">also - you might see about adding a Stage in the workflow to install the `drpcli` as a resident Agent in the switch during install - so you can continue to feed new Workflow post-install to the Switch - eg configurations, management, power cycle events, etc...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:09</div><div class="msg">yeah it?s a bit weird because it doesn?t really follow how e.g. a centos install or similar works</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:09</div><div class="msg">theres no concept of a post-install script which you?d usually use to start drpcli</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-10 15:10</div><div class="msg">the `join-up.sh` script is only for initial Machine object creation and registration - running it again is expected to fail - since it already exists</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-10 15:10</div><div class="msg">I suppose we could make it smarter so if you re-ran it - it didn't try and create, but just run a dissolvable agent</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:10</div><div class="msg">there is a complete stage, but it?s never executed as the stage never progresses past ?install?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:11</div><div class="msg">so the install stage basically runs some commands to setup the image to install, then triggers a reboot (that completes the install stage), at which point the switch does its thing. When it reboots after install, it makes a DHCP request and uses the value of a DHCP option to run a script, which is the same thing it does during initial discovery</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:12</div><div class="msg">and yeah I thought that?d be the case about `join-up.sh`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-10 15:13</div><div class="msg">we have some new hooks to deal with a reboot in the middle of the workflow - but I think we'd still need an Agent post-install to deal with that and clean up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-10 15:13</div><div class="msg">@greg has some more info related to the reboot in the middle</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-10 15:14</div><div class="msg">@bagricola would like to get all of the pieces you've pulled together and add to ours so we can add Cumulus switch support to the content packs :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:17</div><div class="msg">so the limitation i have (i guess) is that without modifying the script itself, i?d have to serve a different script post-install to the pre-install / discovery one via dhcp (at the moment I just have a static setting on the subnet to serve `join-up.sh`)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:19</div><div class="msg">oh hmm? HMM maybe not</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:19</div><div class="msg">```
-z
        Zero Touch Provisioning: Stage a Cumulus ZTP script specified
        by the ztp path.  This option can only be used in conjunction
        with the -i option.  See the example below.
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:20</div><div class="msg">might be possible to stage a custom ZTP script which just runs drpcli processjobs using the existing token</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:25</div><div class="msg">if that?s the case, then I should be able to set control.sh as the ZTP script</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:25</div><div class="msg">and if that executes post-install, it should start a throwaway runner that can continue!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:25</div><div class="msg">(might need the #CUMULUS-AUTOPROVISIONING comment added to control.sh)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:37</div><div class="msg">@bagricola and @shane give me a minute.  There is magic here    We don?t follow a normal stage install process.   How did you trigger the onie-install, @bagricola ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:39</div><div class="msg">`join-up.sh` on initial boot (from dhcp), runs ephemeral drpcli processjobs. Runs discovery without changing the bootenv, then triggering install manually is a new stage (and task) that runs onie-install from drpcli</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:41</div><div class="msg">(it actually runs automatically after discovery using classification but that doesnt matter)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:43</div><div class="msg">ok - cool - that is what I was doing.  What does the stage/task do?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:44</div><div class="msg">just runs onie-install twice, and then calls exit_reboot</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:44</div><div class="msg">i?ll find the code a sec</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:45</div><div class="msg">```
CUMULUS_IMAGE="{{ .ProvisionerURL }}/files/{{ .Param "cumulus/image" }}"

echo "Staging CL Image ${CUMULUS_IMAGE} for installation with postinstall control..."
onie-install -fi ${CUMULUS_IMAGE} -z {{ .ProvisionerURL }}/machines/$RS_UUID/control.sh

echo "Activating staged CL image and ZTP script..."
onie-install -fa

echo "Starting install by reboot"
exit_reboot
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:45</div><div class="msg">basically this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:45</div><div class="msg">Because, in my head, it would do this:
```
CUMULUS_TARGET_RELEASE="{{.Param "cumulus/release"}}"
CUMULUS_CURRENT_RELEASE=$(cat /etc/lsb-release  | grep RELEASE | cut -d "=" -f2)
IMAGE_SERVER_HOSTNAME={{.ProvisionerAddress}}
IMAGE_SERVER="http://"$IMAGE_SERVER_HOSTNAME"/files/"$CUMULUS_TARGET_RELEASE".bin"
 
if [ "$CUMULUS_TARGET_RELEASE" != "$CUMULUS_CURRENT_RELEASE" ]; then
    ping_until_reachable $IMAGE_SERVER_HOSTNAME
    /usr/cumulus/bin/onie-install -fa -i $IMAGE_SERVER
    drpcli machines workflow {{.Machine.UUID}} discovery
    exit_reboot
fi

exit 0
```
or some thing like this</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:48</div><div class="msg">more that ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:48</div><div class="msg">But still. similar.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:48</div><div class="msg">Shouldn?t it ztp on DHCP start-up of the second image?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:49</div><div class="msg">it does, and grabs `join-up.sh` again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:49</div><div class="msg">okay - it fails?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:49</div><div class="msg">but that doens?t complete because the machine already exists in drp at that point</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:50</div><div class="msg">okay - so - what version of content are you using?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:50</div><div class="msg">Because I changed it to do better.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:50</div><div class="msg">For this purpose.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:51</div><div class="msg">tip as of about half an hour ago</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:51</div><div class="msg">I don?t believe you.   :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:51</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:51</div><div class="msg">Are you setting hostname in DHCP?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:52</div><div class="msg">nope, switch doesn?t exist in DRP prior to booting, it?s discovered during the discovery process from netbox and renamed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:53</div><div class="msg">okay - that would do it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:53</div><div class="msg">and it fails to create the node the second time.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:53</div><div class="msg">yep, cos it already exists</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:54</div><div class="msg">not really, but really.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:54</div><div class="msg">yeah :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:55</div><div class="msg">okay - I have a fix for you to try.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:56</div><div class="msg">how are you at editing the community content.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:56</div><div class="msg">hah, i can probably work it out</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:57</div><div class="msg">the ansible script i use to deploy everything pulls the latest content down as a yaml file and directly uploads it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:57</div><div class="msg">so i?ll just do the same manually</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:57</div><div class="msg">`drpcli contents show drp-community-content --format=yaml`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:57</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 15:58</div><div class="msg">`Version: v1.11.1-tip-75-86d3f86a17f6007a7801eee5f3211344d14a5880` version I just pulled using that cmd</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 15:58</div><div class="msg">that is what I have.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 16:01</div><div class="msg">Here is the diff of what needs to happen.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 16:02</div><div class="msg">basically, since DHCP isn?t sending hostname - it can?t find itself on the next startup.  This moves the IP check and attempts to find self by Address.  This is a little dangerous because we don?t require that IP be unique in Machines.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 16:02</div><div class="msg">sigh - need to edit it - just a minute</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 16:11</div><div class="msg">okay, giving it a shot (I assumed you?d already edited it by the time i got back)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 16:34</div><div class="msg">It is fixed above.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 16:35</div><div class="msg">I suspect you have the right one.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-10 16:37</div><div class="msg">i have a question about .InstallRepos  - I did some ubuntu installs and noticed there were no apt repos in any of the sources.list.  This led me to the `range .InstallRepos` in the preseed, which led me to here: <a href="https://github.com/digitalrebar/provision-content/commit/03318234b5e17c99862e9f50e19e6834b026ecaf">https://github.com/digitalrebar/provision-content/commit/03318234b5e17c99862e9f50e19e6834b026ecaf</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-10 16:37</div><div class="msg">&gt; his gets rid of all manual repo handling in the preseed (for Debian
and Ubuntu) and the kickstart (for Centos, RHEL, etc).  It replaces it
with the repo-handling helpers that dr-provision has provided based on
the package-repositories parameter.

&gt; In particular, this PR removes the meaning the "local-repo" param used
to have for Debian/Ubuntu installs, since what it was trying to do can
easily be accomplished by setting up package-repositories to point to
the mirror of your choice for any OS install repos.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-10 16:39</div><div class="msg">from that, I gather I have to define a "package-repositories" parameter with a list of repositories.   In doing so, do those repositories need to be available during the install?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 16:41</div><div class="msg">Yes if they are used with InstallSource true</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 17:24</div><div class="msg">@greg works with those patched changes :+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 17:34</div><div class="msg">alrighty then!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 17:34</div><div class="msg">I plan on building some stages/tasks for these actions.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 17:35</div><div class="msg">Do you have switch actions you are taking that you wish to tell me about.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 17:35</div><div class="msg">Like add vlan to port or enable port or lacp bond ports ,?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 17:35</div><div class="msg">I think you said you were doing ansible for this is there a link to that stuff you could share?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 17:35</div><div class="msg">@bagricola - I?ll push that in.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 17:35</div><div class="msg">at some point here.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 17:48</div><div class="msg">cool :slightly_smiling_face: yeah the actual switch config is all done in ansible, using callbacks (initial configuration + ongoing)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 17:50</div><div class="msg">i have an ansible role that uses the inbuilt ansible `nclu` module to do various things, but I?m not sure how much of it is portable as it basically uses my equivalent of netwrangler to do port configs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 17:51</div><div class="msg">but it manages SSH keys and blocks of ?configuration? commands (that could do static port config for example)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 17:54</div><div class="msg">I suspect the standard drp tasks for managing SSH and keys and such will work just fine in CL</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 17:56</div><div class="msg">I?m thinking a level higher about tasks/actions to build these are the fly based upon parameters (or external systems).</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 17:56</div><div class="msg">but yes - for the ansible case, the ssh-access task is probably all you need.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 17:58</div><div class="msg">it would be nice to autoconfigure switches purely in DRP :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 18:01</div><div class="msg">That is what I?m thinking through?..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 18:01</div><div class="msg">or trying to</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 18:04</div><div class="msg">yeah</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 18:05</div><div class="msg">its pretty cool that i?m basically there with being able to config these things automatically and it only took a bit of editing to the community config files? which is stuff I could?ve worked around had that not been an option</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-10 18:05</div><div class="msg">drp is awesome</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 19:07</div><div class="msg">@greg Did you make any progress on duplicating the issue I was having on Friday?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 19:51</div><div class="msg">Sorry - I haven?t @dave.parker</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:25</div><div class="msg">@dave.parker - I have replicated it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:26</div><div class="msg">Ok!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:26</div><div class="msg">Glad it's not just me.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:27</div><div class="msg">I tried restarting drp after changing the IP of the old server and still wasn't able to clear out that issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:27</div><div class="msg">hmmm - let me try</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:28</div><div class="msg">Restarting after changing the IP address of the static machine, did fix it for me.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:28</div><div class="msg">Oh yeah?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:29</div><div class="msg">I'm on 3.1.1.0 and 1.5.0 if that makes any difference.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:29</div><div class="msg">Let me try the restart again and make sure it actually restarts.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:30</div><div class="msg">so, changing the address on the machine that is now static, restarting drp, and then rebooting the new machine- works for me.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:31</div><div class="msg">Hrm.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:31</div><div class="msg">Ok, let me try again. I just did a stop/start on drp and verified it did indeed stop/start</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:31</div><div class="msg">So let's see.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:36</div><div class="msg">Nope, same thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:36</div><div class="msg">`drpcli machines list Address=&lt;ip in question&gt;`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:37</div><div class="msg">I get "unknown command "list""</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:38</div><div class="msg">Ok, never mind.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:38</div><div class="msg">I had some other crap going on with my terminal.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:38</div><div class="msg">```$ drpcli machines list Address=162.88.194.246
[]```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:39</div><div class="msg">`curl http://&lt;drpip&gt;:8091/162.88.194.246.ipxe`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:40</div><div class="msg">404 page not found</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:40</div><div class="msg">So why is this not working?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:40</div><div class="msg">I don't get it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:40</div><div class="msg">Yeah - I don?t know.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:40</div><div class="msg">What happens if I delete that lease?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:41</div><div class="msg">The file is served from a machine and bootenv.  Shouldn?t matter about lease.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:41</div><div class="msg">Ok.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:41</div><div class="msg">Well, let me triple check the settings.  Maybe I randomly don't have unknownbootenv set right...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:41</div><div class="msg">The bug I?m seeing is that we aren?t cleaning up the filespace when a machine?s address changes.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:41</div><div class="msg">That would suck.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:42</div><div class="msg">Restarting rebuilds all from scratch.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:42</div><div class="msg">Hrm.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:42</div><div class="msg">That all looks fine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:43</div><div class="msg">Let me... I dunno.  Try powering the machine off and back on.  That's what support usually tells me to do...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 20:43</div><div class="msg">Not drp - make sure you don?t have reservations that would get in the way.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:43</div><div class="msg">Ok.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:44</div><div class="msg">I'll check reservations.  I don't think we have any.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:44</div><div class="msg">No reservations.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:45</div><div class="msg">If the magic 30 second poweroff doesn't fix it (it won't, it never does) I guess I'll try deleting the lease just because?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:46</div><div class="msg">Oh I forgot to update all firmware to the latest, that's the other thing support always tells me to do that never works.  :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:46</div><div class="msg">Actually if I'm being honest I have had the firmware update actually fix problems.  But never the 30 second poweroff.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 20:56</div><div class="msg">Ok, none of that worked.  I deleted the expired lease and the good lease.  It got a new IP and did the same thing.  So something is borked here.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 21:01</div><div class="msg">yes - something is strange</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-10 21:02</div><div class="msg">Are you sure you don't have another DHCP service on that network - or DHCP Relay / IP Helpers forwarding to a different DHCP instance ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 21:04</div><div class="msg">...pretty sure?  But I could be wrong.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 21:05</div><div class="msg">Although I do see someone built a machine named dhcp0...  That sounds ominous.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 21:05</div><div class="msg">Let me try a machine that worked once before and see if it works now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 21:06</div><div class="msg">I believe the dhcp0 server serves the management subnet.  So it shouldn't be a problem.  "shouldn't"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 21:15</div><div class="msg">Ok.  The machine I just tried that worked before worked again.  But I just noticed this is the first system I'm building in this rack, which is a different subnet from the others.  So it could be something borked with that subnet.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 21:15</div><div class="msg">I'm going to try another system in that rack and see what happens.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 21:15</div><div class="msg">okay - I?m working on a renderer fix.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 21:16</div><div class="msg">That'll tell me something.  If it works, it tells me something is wonky with this system.  If it doesn't work, I probably need to chat with network engineering about this subnet...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 21:43</div><div class="msg">@dave.parker - I?m pushing a fix through the system on tip that will fix the deregistration problem.  Thanks for finding that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 21:43</div><div class="msg">It will allow you to change the machine address and let other machines continue reusing the files without restarting the server.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 21:43</div><div class="msg">You will need to make sure that as you assign static IPs, you update the Machine.Address field appropriately.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 21:44</div><div class="msg">If you update to tip drp, you should also update to tip content packs and plugins.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-10 21:44</div><div class="msg">I?ll let you know when it has made it through the build/test system.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 21:45</div><div class="msg">Ok, cool!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 22:07</div><div class="msg">Ok.  Second machine in the same rack is doing the same thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 22:07</div><div class="msg">Sooo I suspect this is an issue I need to chat with our neteng team about.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 22:07</div><div class="msg">Thanks for your help guys.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-10 22:07</div><div class="msg">At least I uncovered a legit bug.  :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2018-12-10 22:55</div><div class="msg">Anyone going to KubeCon ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-08-10/225053309124_344d3693e3295345f7b9_72.jpg" /><div class="message"><div class="username">ctrees</div><div class="time">2018-12-10 22:55</div><div class="msg"><a href="https://events.linuxfoundation.org/events/kubecon-cloudnativecon-north-america-2018/">https://events.linuxfoundation.org/events/kubecon-cloudnativecon-north-america-2018/</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-10 23:02</div><div class="msg">sorry, missing it.  we do have some very cool new K8s function</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-11 02:55</div><div class="msg">@dave.parker - tip now has your fix in it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-12-11 09:05</div><div class="msg">Good Morning! Quick question: I'm trying to configure IPMI Plugin, and when entering 'ipmi/password' containing not only alphanumeric values i got the following error:
```"'ipmi/password': invalid val '***********': json: cannot unmarshal string into Go value of type models.SecureData".
```
Any ideas?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-11 15:52</div><div class="msg">Thank you!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-11 16:16</div><div class="msg">@diego.oberlin - ipmi/password is a secure parameter.  It needs to be set from the command line only currently.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-11 16:18</div><div class="msg">Something like this:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-11 16:18</div><div class="msg">```
Gregs-MBP-2:provision galthaus$ drpcli profiles set global param ipmi/password to fred
{
  "Key": "Q0utp4jbWhPn21vavttUd29mFyRKfK3o+i1tTXKRUno=",
  "Nonce": "4NG0lG6wyILShm2JZwcpiGdi37+VLKPF",
  "Payload": "7YTmNHCqlNlpJlPy9EHoIQ1KNpeobg=="
}
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-11 16:19</div><div class="msg">The data is locally encrypted so that it isn?t stored clear text at rest.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-12-11 17:28</div><div class="msg">sledgehammer is a RAM boot, correct? No touchy tha disky?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-11 17:28</div><div class="msg">correct</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-11 17:29</div><div class="msg">it's safe to boot it on existing machines to do things like Firmware/BIOS updates, etc ... by design ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-11 17:31</div><div class="msg">just make sure you don't initially boot a workflow that does do something destructive to the host disks :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-11 23:31</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-11 23:46</div><div class="msg">Hi. I'm trying to set up Digital Rebar to test it out. The environment I'm working in does some interesting things with DHCP, so I'm thinking I might have to do all of my testing in a local VirtualBox sandbox. Any pointers?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-11 23:50</div><div class="msg">@gevanoff - <a href="https://provision.readthedocs.io/en/latest/doc/quickstart.html?highlight=VirtualBox">https://provision.readthedocs.io/en/latest/doc/quickstart.html?highlight=VirtualBox</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-11 23:51</div><div class="msg">Yep, I saw that. I was wondering about the details of "careful setup up[sic] of your network environment..."</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-12 01:06</div><div class="msg">I'm also assuming that access to the RackN Portal UX is with the commercial product only.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-12 01:08</div><div class="msg">The portal is available for open use.  There is a hosted (on-prem) version that is commercial.  There are specific capacity limits imposed on the publicly accessible portal use.  </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-12 01:08</div><div class="msg">(BTW... $welcome @gevanoff) </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-12 01:08</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3466a1b474d46ea646a1226a8ee66640.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0026-72.png" /><div class="message"><div class="username">chris</div><div class="time">2018-12-12 05:01</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-12-12 07:03</div><div class="msg">Oh I see. Thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-12 16:44</div><div class="msg">@chris $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-12 16:44</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 17:12</div><div class="msg">something odd with drpcli or drp - i modified a template on disk and used drpcli to upload it. But the result that comes back is the "old" template</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 17:12</div><div class="msg">pasting into web ui worked though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 17:16</div><div class="msg">or is upload a one-time thing? I thought it would work like PUT to replace</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:39</div><div class="msg">@john - They look similar</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:40</div><div class="msg">I usually test with some thing like this: `drpcli templates show virtualbox-other-nics.sh.tmpl | jq .Contents -r`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 17:40</div><div class="msg">if you look in the output, you can see "commented out automatically, native mgm"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 17:40</div><div class="msg">which isn't in my source</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:41</div><div class="msg">yeah - I see.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:41</div><div class="msg">okay let me check.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:41</div><div class="msg">Do my command anyway?  Always follow up with a get to be sure.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:41</div><div class="msg">It may be that the cli is returning the old one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:42</div><div class="msg">it shouldn;t</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 17:42</div><div class="msg">DRP definitely still has the old one</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:43</div><div class="msg">yep busted.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:43</div><div class="msg">looking at it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-12 17:49</div><div class="msg">@gevanoff there is only one version of DRP.  RackN commercial model is to support the open and provide extensions like UX, content, plugins, etc.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-12 17:52</div><div class="msg">The UX is available for open source users with sites up to 100 machines.  Free registration unlocks some advanced features too.  For paid licenses, we allow customers to run their own version on premises.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-12-12 17:52</div><div class="msg">Why would DRP not hand out a lease for a MAC that it has a reservation?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:53</div><div class="msg">Off the top:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:54</div><div class="msg">1. subnet containing address is off (maybe)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:54</div><div class="msg">2. address is being offered and a ping reply is coming back from someone else.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:55</div><div class="msg">3. dhclient isn?t sending proper mac.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:55</div><div class="msg">3 happens with multihomed hosts sometimes.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 17:56</div><div class="msg">re: dhcp: setting drp preferences to debug level for dhcp helps.  also, for even more in-depth troubleshooting, installing "dhcpdump" and running that lets you see packets on the interface, even if drp is misconfigured or not even running</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-12-12 17:57</div><div class="msg">yeah, I'm seeing the dhcp request inbound. just no action. Oddly, the ones on either side of it work just fine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:57</div><div class="msg">dhcp debug and check logs.  @john for the helpful comment.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:58</div><div class="msg">Alright, @john - you can delete / create the template as a workaround.  I?ll have a fix in tip shortly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 17:58</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:58</div><div class="msg">Most of us use content packs and never hit this.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 17:59</div><div class="msg">doing content packs as well, but I'm continuously iterating over a couple templates and got tired of copy/pasting into the web UI :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:59</div><div class="msg">oh - ugh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:59</div><div class="msg">use cli for content packs as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:59</div><div class="msg">`drpcli contents bundle ...`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 17:59</div><div class="msg">is your friend</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 18:00</div><div class="msg">But I understand what you are saying.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:00</div><div class="msg">yep yep, doing that :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:01</div><div class="msg">actually, I had a behavior change on that as well...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 18:01</div><div class="msg">maybe</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 18:01</div><div class="msg">what?s up on that one or open a github issue.  That would be better.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:03</div><div class="msg">i'll try and reproduce it.  I would do `contents upload pack.yaml` and I would get "already exists" (when before it would replace the existing one), so I had to switch to running `contents update packname  - &lt; pack.yaml`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:03</div><div class="msg">you know what.. I just tried again and couldn't reproduce it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 18:04</div><div class="msg">okay - it was broken for a few revs of tip (at one point, I think).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:08</div><div class="msg">i'll see if it happens again. if it does, it's probably a misleading error message about something in the content pack. that was my guess. Thank you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 18:09</div><div class="msg">Thanks for finding the bug</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-12-12 18:20</div><div class="msg">here at VS, we exercise software in ways the designers never intended!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:28</div><div class="msg">that's a nice way of saying "we are the better idiot" :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:42</div><div class="msg">q: is there a getting started guide to writing plugins or a good example plugin to look at?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-12 18:44</div><div class="msg">no to the guide.  we?ve been holding some of that back because it is dangerous, but incrementer is a runnable plugin as an example in the tree.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-12 18:50</div><div class="msg">@john - what are you considering doing with plugins?  there are a number of commercial plugins in the arsenal already ... curious what you're looking for</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:51</div><div class="msg">stackstorm integration.  we'd like to make calls to stackstorm without running wget/curl commands on the machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-12 18:51</div><div class="msg">sure - there are a couple of community members that have started work on stackstorm integrations - at least one of those is in github</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:51</div><div class="msg">oh even better :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-12 18:53</div><div class="msg">hmm - well - this one sort of stalled - and is a DRP &lt;&gt; StackStorm &lt;&gt; Device42 integration
<a href="https://github.com/deusofnull/st2-digital-rebar">https://github.com/deusofnull/st2-digital-rebar</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-12 18:54</div><div class="msg">it's stalled out though - I'll see if I can dig up the other StackStorm integration I know of ...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:54</div><div class="msg">ahh.. that's the other way. we have a stackstorm pack to drive DRP with some similar actions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-12 18:55</div><div class="msg">like we have an action that creates a reservation and then waits for the corresponding lease to show up</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-12 18:55</div><div class="msg">an integration w/ plugin is a better model in a lot of respects - so actions are driven from the DRP Endpoint side, and not machine-side actions - which may have issues in some security models</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-12 18:55</div><div class="msg">(eg machines being provisioned don't get direct access to things like CMDB or automation engines... etc.)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-12 20:04</div><div class="msg">@zehicle Thanks for the clarification. I'm assessing DRP for a site of thousands of hosts-- looking to modernize the way we do provisioning. Just dipping my feet in the water now and I'm not sure what the licensing fees would be for RackN or what the appetite would be.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-12 20:37</div><div class="msg">@gevanoff happy to talk 1x1 about it.  We have tiers of licenses depending on which components you need ranging from very basic support and out of band management to full enterprise models with co-development.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 11:55</div><div class="msg">when you load a DRP template in tasks view in the UX and it has a syntax error, i get something like `Error parsing inline templates: template: :3: illegal number syntax: "-"` which is? relatively useful for tracking down errors, however my content pack build process right now just uses drpcli contents bundle / create, which I assume just packages up and installs the content but doesn?t actually do any syntax checking</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 11:55</div><div class="msg">if i wanted to precheck templates to work out if they?re valid, is there suitable way to do that with DRP or some other golang tool I can deploy?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-13 11:58</div><div class="msg">@bagricola - right now the only way is to load the bundle in a DRP endpoint to validate all of the pieces - it shouldn't be too hard to fire up a `dr-provision` binary / service (maybe using alternate ports and w/ DHCP disabled) load content packs to check them - then mark them ok in your internal process</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 11:58</div><div class="msg">hmm? i am actually doing that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 11:59</div><div class="msg">This is what I get out</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 11:59</div><div class="msg">I wonder if because it?s missing stages from the community packs and such it just doesn?t get far enough to check the template syntax?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-13 12:00</div><div class="msg">yes - you'll want to load the `drp-community-content` and any other content packs (eg `task-library`) that you rely on as part of the test process</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 12:08</div><div class="msg">ok :+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 12:08</div><div class="msg">is there any way in a content pack to describe that it requires other content packs?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 12:09</div><div class="msg">one of the meta files perhaps?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 12:09</div><div class="msg">I know about required features but not about something similar for content packs themselves..</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-13 12:15</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-13 12:15</div><div class="msg">not baked in - we've talked about it - for a straightforward use case, it would be pretty simple to do - but the problem gets complicated to solve correctly if you end up with circular dependencies</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-13 12:15</div><div class="msg">@bastiaan... $welcome ... !</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-13 12:15</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-13 12:15</div><div class="msg">Thanks @shane!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 12:16</div><div class="msg">@shane gotcha? I grab the content packs when deploying to production env as it?s all done via ansible, but the test process for my own content pack uses gitlab CI so a bit different? shouldn?t be too tricky though</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 12:22</div><div class="msg">God dammit? if I?d known this was possible earlier?. I thought it only accepted a blob of JSON directly not a URL :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-13 12:30</div><div class="msg">:slightly_smiling_face: that was a feature request I put in - not only accept JSON or YAML, but file or http path :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 12:34</div><div class="msg">yeah, that simplifies things a lot :smile: cheers</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-13 13:53</div><div class="msg">Wow! I did not know that either!!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-13 13:53</div><div class="msg">@bagricola use update content instead of create each time.  It gives better errors</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-13 13:55</div><div class="msg">^^^ assuming of course ... that you already have the content pack install :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 16:41</div><div class="msg">well pretty much all my CL stuff works now, except part of my install process is to enable VRF on CL</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 16:41</div><div class="msg">and that breaks the drpcli runner as it runs in the default VRF, so some shenanigans involved in getting it to talk back to the drp server properly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 16:41</div><div class="msg">but? good enough</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-13 16:41</div><div class="msg">:smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-13 17:14</div><div class="msg">Can you explain that that to me in email or direct message at some point. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-13 17:14</div><div class="msg">Drpcli should reconnect </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-13 23:47</div><div class="msg">Does anyone have a recommendation about how to configure the networking on VirtualBox to get a basic test setup running?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 00:45</div><div class="msg">I know this isn't the first time someone has asked. Or, at least, I hope it isn't</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 00:57</div><div class="msg"><a href="https://www.youtube.com/watch?v=uUWU-4ObGIY">https://www.youtube.com/watch?v=uUWU-4ObGIY</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 01:06</div><div class="msg">Unfortunately, this shows how to configure DRP on the mac to then provision VirtualBox VMs.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:07</div><div class="msg">what are you trying to accomplish?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:07</div><div class="msg">you want to run DRP in a VM?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 01:08</div><div class="msg">That's what I was trying to do, thinking it would be the safest, easiest option</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 01:08</div><div class="msg">Maybe it's not, though</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:08</div><div class="msg">it's not a problem</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:09</div><div class="msg">you need to create a VM for the DRP server that has internet access via NAT and then a second NIC that is for a host only network</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:09</div><div class="msg">I'd recommend a Centos machine as the DRP host</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 01:10</div><div class="msg">Yeah, I tried that (on Debian). And when it came up there was no networking configured whatsoever</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:10</div><div class="msg">yeah, for that host machine you'd need to setup the networking</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 01:10</div><div class="msg">Adding that second network adapter seems to have interfered with the configuration of the NAT interface</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:10</div><div class="msg">do DHCP on the NAT and then static on the host interface</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:11</div><div class="msg">that's why we start w/ DRP on the host - it's easier :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 01:11</div><div class="msg">hah, ok, and that did it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:11</div><div class="msg">the DRP DHCP does not "leak" - you can set it to be on the vbox network only</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 01:11</div><div class="msg">You know, I'll probably be good from here</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:12</div><div class="msg">I'm around if you need more help, just add my @ handle so I see it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 01:12</div><div class="msg">I just need to redo the DHCP configuration for the host-only network</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 01:21</div><div class="msg">we'll make sure any notes you have after the fact get back into the docs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 02:32</div><div class="msg">Short version of how to Make It Work In VirtualBox:
? In global tools, host network manager, create the vboxnet0 interface.
? On the VM to host DRP, create one network interface on Bridged Adapter (or possibly NAT) and a second on host-only adapter vboxnet0
? On the VM to pxe boot, set the network adapter to host-only vboxnet0
? Back on the DRP host VM, set the interface associated with the Bridged Adapter/NAT to use DHCP (for simplicity) and statically configure the host-only interface.
? Also on the DRP host VM, using `drpcli subnets create` create a subnet with the network configurations appropriate for vboxnet0.
? Set the target VM to boot from network and start it up. It should PXE boot.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 03:06</div><div class="msg">Except then the pxe-booted VM doesn't have external network access and can't reach an archive mirror, soooooooo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 03:15</div><div class="msg">Yes, I usually add a second nic to that VM as well and put it on the NAT network.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 03:15</div><div class="msg">so, that I can add it as well.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 03:16</div><div class="msg">Debian/ubuntu installs are annoying.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 03:18</div><div class="msg">because you have to either change the `package-repositories` parameter to some value which I don?t have or configure the second nic while the system boots which is silly.  For centos, I add this to the kickstart -
```
      %pre
      dhclient --no-pid enp0s8
      %end
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 03:18</div><div class="msg">Not sure the equivalent for preseed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 03:18</div><div class="msg">@gevanoff - this is why we recommend playing with centos, because it is self contained.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 03:18</div><div class="msg">Much better than ubuntu.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 03:35</div><div class="msg">Welp, that's nice, but I work at a Debian shop. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 03:36</div><div class="msg">then Centos would be like training wheels for you :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 03:37</div><div class="msg">not a problem - just reduces factors on the first pass</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 03:40</div><div class="msg">Maybe I should stop fussing with VirtualBox and figure out what I need to do to skip DHCP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 03:41</div><div class="msg">starting with the most default config makes it easier to learn.  lots of ways to customize from there.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 03:42</div><div class="msg">Well, I'm most of the way there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 03:43</div><div class="msg">The difficulty is really the net config</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-14 03:43</div><div class="msg">@gevanoff I use the DRP endpoint with routing turned on and NAT translation turned on to Route for the VMs through the endpoint </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-14 03:44</div><div class="msg">Give me a few minutes to get my example for you </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-14 03:44</div><div class="msg">Makes sense. I thought about it but was lazy. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 03:45</div><div class="msg">the net config is always the hardest part.  we keep looking for ways to make it easier...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-14 07:33</div><div class="msg">I have a similar set-up running here on my Mac with virtualbox, using Vagrant. I can share if you like</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-14 07:33</div><div class="msg">Just a sec, I?ll drop it on Github</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-14 08:02</div><div class="msg"><!here>
<a href="https://github.com/bjwschaap/digital-rebar-sandbox">https://github.com/bjwschaap/digital-rebar-sandbox</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-14 08:16</div><div class="msg">Sandbox running?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-14 08:19</div><div class="msg">The only problem I have right now, is that the ip forwarding doesn?t seem to work, since it can?t reach the internet to download packages:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-14 08:25</div><div class="msg">enp0s3 (10.20 address) is the NAT i.f., enp0s8 (192.168.33 address) is the internal host-only i.f.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-14 10:25</div><div class="msg">Found the problem: I had the default gw set to 192.168.33.1, while it should be 192.168.33.10 (the ip of the drb host)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-14 13:50</div><div class="msg">hello</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-14 13:51</div><div class="msg">I am currently working with packer/terraform/containerpilot to build immutable images.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-14 13:52</div><div class="msg">Currently it is in VM on vsphere and aws. Some input are done through user_data.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-14 13:53</div><div class="msg">If I create some image with packer using squashfs for example. Is it possible to use digital rebar to provision physical server with this kind of image ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 14:21</div><div class="msg">@samuel.mutel - Yes.  That is effectively what sledgehammer is.   This would allow you to live boot.  If you wish to ?install? that to a disk, that is what the RackN image-deploy plugin can do.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 14:23</div><div class="msg">so once last week and this morning, the sledgehammer UI has reported the backend not available. Persists across browers, but curl commands to the API work. dr-provision seems to continue working.  Restarting dr-provision brings it back right away.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 14:24</div><div class="msg">It's in this state right now, and I found some log entries.  Curious if there's anything else we can look at or try before restarting it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 14:26</div><div class="msg">actually.. while it basically responds, I am seeing that it's not really responding. any requests for things like a list of profiles or tasks is just kind of pending</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-14 14:29</div><div class="msg">@greg If i understand correctly i can use sledgehammer to boot the machine from a live image (centos live cd for example), then download the squashfs image from http/ftp and finally  install it on the disk and reboot the machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 14:30</div><div class="msg">@john - can you please open a giihub issue with that stack trace?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 14:31</div><div class="msg">sure thing.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 14:31</div><div class="msg">Please include DRP version and content version.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 14:32</div><div class="msg">@samuel.mutel - yes you can do that yourself or use the image-deploy plugin.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-14 14:34</div><div class="msg">With the image-deploy plugin, after copying the image to the disk, is-it possible to download a file and put it on this disk before rebooting. For the user_data ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 14:36</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/990109b1607c64e18c835641f4d03d2f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">samuel.mutel</div><div class="time">2018-12-14 14:40</div><div class="msg">Cool. Thanks.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 14:47</div><div class="msg"><a href="https://github.com/digitalrebar/provision/issues/1029">https://github.com/digitalrebar/provision/issues/1029</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 14:53</div><div class="msg">Thanks I?ll look at it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-14 14:54</div><div class="msg">@bastiaan - very cool - thank you for posting that - we'll take a look at it, and see about adding references to it in the Docs</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:00</div><div class="msg">@john - I have a fix for it.  Thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 15:00</div><div class="msg">:+1:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 15:01</div><div class="msg">that is awesome response time :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:16</div><div class="msg">hmm weird, I?m getting `join-up.sh` stuck in a loop trying to create a new machine again after CL install</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:17</div><div class="msg">when I copy the token out of the downloaded file and run `drpcli machines list Address=$IP` manually, I get a 403</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-14 15:18</div><div class="msg">check DRP user/pass pairs (auth) is correct for the CLI call</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:19</div><div class="msg">@bagricola - hmm let me check - what version content are you at.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:19</div><div class="msg">tip deployed about 20 mins ago</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:19</div><div class="msg">hmm actually, maybe i was just debugging too slow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:20</div><div class="msg">rebooted, copied RS_TOKEN / Endpoint out of the generated ZTP file</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:20</div><div class="msg">`root@cumulus:~# drpcli machines list Address=10.10.254.10`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:20</div><div class="msg">this just returns `[]`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:20</div><div class="msg">but the machine is in drp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:21</div><div class="msg">```
root@net-test01.lon1:~# RS_KEY="..." drpcli -E <a href="https://localhost:8092">https://localhost:8092</a> machines list | jq '.[].Address'
"10.10.254.10"
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:22</div><div class="msg">interesting, running the same command on the drp server returns the machine as you?d expect</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:22</div><div class="msg">Is this a known machine?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:22</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:23</div><div class="msg">join-up.sh was run on initial boot, triggered a CL image install using workflow</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:23</div><div class="msg">at the end of the install the switch reboots into CL, reruns `join-up.sh` from DHCP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:23</div><div class="msg">sigh - this is a little annoying.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:25</div><div class="msg">are you sending hostname in the DHCP message?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:26</div><div class="msg">not certain, i need to dump to find out - but the machine *has* been renamed by this point</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:26</div><div class="msg">(in drp, *not* on the host)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:27</div><div class="msg">and `join-up.sh` has the code switched as we tried a couple days ago so it does an IP search if it doesnt find the machine by name</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:27</div><div class="msg">Yes - that token only works if the machine is unknown.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:27</div><div class="msg">hmmm</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:28</div><div class="msg">ahhhhhh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:29</div><div class="msg">okay - one more time.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:29</div><div class="msg">I have something I should have done all along.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:29</div><div class="msg">We are broadening the use of join-up.sh - which is cool, but it was intended for things not really pxe booting.  I didn?t put the UUID discovery piece in that path.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:30</div><div class="msg">yep</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:32</div><div class="msg">okay - new thing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-14 15:35</div><div class="msg">Question (and a link is awesome as an answer): What are the auth options for digital rebar/rackn?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-14 15:35</div><div class="msg">for context, we are attempting to consolidate a lot of our logins</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-14 15:35</div><div class="msg">and this is one that clearly has a lot of power</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:36</div><div class="msg">Not sure about the direction you mean.  But, currently, DRP API is user/password or token authenticated using our own user objects.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:36</div><div class="msg">The RackN SaaS is different and probably not what you are asking about.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-14 15:37</div><div class="msg">DRP is one level for sure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-14 15:37</div><div class="msg">basically, just about everything else we are using is tied into Google for SSO</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:37</div><div class="msg">RackN is looking at adding LDAP/AD support in the future.  There could be other integrations.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:38</div><div class="msg">We have leapt on these options because we believe that DRP will run in airgap modes and so SSO is not an immediate priority, but we are starting to see it show it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:39</div><div class="msg">There are two parts to this future integration (at least).  One is the AuthN piece.  The other is the AuthZ piece and how those SSO pieces drive tenants and roles.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:39</div><div class="msg">I haven?t looked at the Google SSO pieces.  Do you have links for those so I can learn me some stuff.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:40</div><div class="msg">@bagricola - update content and try again.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-14 15:41</div><div class="msg">sure, it's google is all just SAML</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:41</div><div class="msg">okay - our v2 product has okta integration and it was kinda SAML.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-14 15:53</div><div class="msg">ok cool</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:56</div><div class="msg">@greg same thing I think, what?d you change? (just so I can make sure it actually got pulled in)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:58</div><div class="msg">```
diff --git a/content/bootenvs/discovery.yml b/content/bootenvs/discovery.yml
index ec2b7cb..44ec684 100644
--- a/content/bootenvs/discovery.yml
+++ b/content/bootenvs/discovery.yml
@@ -209,11 +209,20 @@ Templates:
 
       set -x
 
-      # Code assumes provider has set HOSTNAME correctly!!
-      RS_UUID=$(drpcli machines list Name=$HOSTNAME | jq -r .[0].Uuid)
+      # Check just in case we pxe booted.
+      host_re='rs\.uuid=([^ ]+)'
+      if [[ $(cat /proc/cmdline) =~ $host_re ]]; then
+        RS_UUID="${BASH_REMATCH[1]}"
+      fi
+
+      # Check Hostname to find us
       if [[ $RS_UUID == null || $RS_UUID == "" ]]; then
-        RS_UUID=$(drpcli machines show Name:$HOSTNAME | jq -r .Uuid)
+        RS_UUID=$(drpcli machines list Name=$HOSTNAME | jq -r .[0].Uuid)
+        if [[ $RS_UUID == null || $RS_UUID == "" ]]; then
+          RS_UUID=$(drpcli machines show Name:$HOSTNAME | jq -r .Uuid)
+        fi
       fi
+
       # If no uuid, check to see if we have one stored from before
       if [[ $RS_UUID == null || $RS_UUID == "" ]]; then
         # See if we have already been created based on dropping uuid file

```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:58</div><div class="msg">never mind, it won?t work for you.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:58</div><div class="msg">sigh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:58</div><div class="msg">It works for other systems.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:58</div><div class="msg">that actually pxe.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:58</div><div class="msg">ahh? yeah :disappointed:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 15:59</div><div class="msg">So - the probielm is that your hostname doesn?t match what DRP knows</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 15:59</div><div class="msg">yeah as the installer blats whatever the hostname was regardless</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:01</div><div class="msg">The only think I can think of is that the Hostname needs to be sent in the DHCP exchange.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:02</div><div class="msg">but that might not work either for the switch.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:02</div><div class="msg"><a href="https://docs.cumulusnetworks.com/display/DOCS/Zero+Touch+Provisioning+-+ZTP">https://docs.cumulusnetworks.com/display/DOCS/Zero+Touch+Provisioning+-+ZTP</a> theres a note in here that says ?Make sure to disable the DHCP hostname override setting in your script?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:02</div><div class="msg">and then says its already disabled for CL 3.5 and above :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:06</div><div class="msg">is DRP able to reply to DHCP requests with the hostname it knows about?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:06</div><div class="msg">No - you can create a reservation and set the hostname there.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:07</div><div class="msg">but the reservation and the machine name are not synchronized.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:07</div><div class="msg">automatically</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:07</div><div class="msg">hmmmmm</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:07</div><div class="msg">so i have a step which pulls the machine name and such from netbox</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:08</div><div class="msg">if i can create the reservation at the same time, that might work</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:08</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:08</div><div class="msg">i dont think synchronisation matters as the machine name should never change until next provision</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:08</div><div class="msg">The task can create reservations, I believe.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:08</div><div class="msg">our IPMI configuration stage does it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:09</div><div class="msg">@john - drp tip has your fix in it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:09</div><div class="msg">okay, thanks @greg I?ll give it a shot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:10</div><div class="msg">cool - let me know how it goes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:34</div><div class="msg">ok? creating a reservation manually works, but when the install completes and reboots, it looks like DRP joins the machine back up and then restarts the install process</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:34</div><div class="msg">i need to somehow tell it that the install stage is complete :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:36</div><div class="msg">in your onie-install stage.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:36</div><div class="msg">change workflows to a complete workflow.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:37</div><div class="msg">after the install, but before the reboot.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 16:37</div><div class="msg">or before the install if it reboots.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:38</div><div class="msg">sigh, ignore my stupidity - i uploaded a 3.7.2 image as 3.7.3 to force the switch to run an install from the start</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:38</div><div class="msg">so it always fails the version check and always reinstalls :woman-facepalming:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:39</div><div class="msg">if the version is correct it?ll just skip over the version check, exit 0 and continue with config</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 16:41</div><div class="msg">lucky this is PoC hardware cos it?s probably hammering the storage reinstalling this 20 times over :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-12-14 17:29</div><div class="msg">Is there any work being done to allow for google auth in the web UI?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-12-14 17:29</div><div class="msg">or SSO in general</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 17:30</div><div class="msg">@zdunn asked about it above-^</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/da3a45dd9e4caa8ea9bce145fe7d6d6f.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">smedefind</div><div class="time">2018-12-14 17:30</div><div class="msg">damn, he beat me too it</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 17:31</div><div class="msg">:slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 17:46</div><div class="msg">@smedefind webui can do it via cognito.  I'd need to collaborate to integrate but the code is there anyway</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 17:47</div><div class="msg">Webui auth is different than endpoint auth</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 18:02</div><div class="msg">@zehicle = yep covered above.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 18:03</div><div class="msg">@smedefind - when Rob says WebUI via cognito, he is meaning the RackN SaaS auth piece.  The DRP Endpoint API still uses the auth pieces I mention above.  The WebUI works as a bridge between the two systems.  This way DRP Endpoint doesn?t phone home and is still airgappable.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-14 18:15</div><div class="msg">@greg auto reservation step worked :smile: bit of shenanigans to look up the MAC for the dhcp-learned IP which I think I can probably improve, and the only other sticking point is getting DRP to run in the management VRF. I think I basically need to modify the service file that gets installed so it runs drp inside the VRF? but thats a problem for monday :slightly_smiling_face: Thanks for your help this week!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 18:19</div><div class="msg">well - you can multi-home the DRP endpoint and it should work fine.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 18:20</div><div class="msg">cool</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 19:38</div><div class="msg">Here's an interesting thing I just discovered.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 19:40</div><div class="msg">Right now the install process I'm working on uses rebar to get a DHCP lease to do the install, then afterwards it sets the IP of the system to its permanent IP (which is not in the DHCP range) so it doesn't conflict with later systems trying to reuse that IP after the lease expires.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 19:42</div><div class="msg">But if I try to reinstall that system without re-discovering it, it doesn't work.  Because when it goes through the reinstall the machine gets another DHCP IP, but its system profile has a different IP, so it never picks up that I want it to go back through the install process.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 19:42</div><div class="msg">I guess I have to unset the IP before I reinstall</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 19:45</div><div class="msg">Yes - DRP doesn?t change the Address.  The discovery process sets it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 19:45</div><div class="msg">It is one of internal questions that we?ve ask is should sledgehammer update the Address of the machine when it boots.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 19:45</div><div class="msg">I'm wondering why it doesn't go through discovery again then?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 19:46</div><div class="msg">It just acts like it's set to "local"</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 19:46</div><div class="msg">Because the mac addresses find an ipxe file and set it.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 19:46</div><div class="msg">Does it get into sledgehammer?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 19:46</div><div class="msg">No.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 19:46</div><div class="msg">But this might be another IP address re-use issue.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 19:46</div><div class="msg">likely</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 19:46</div><div class="msg">With a system that didn't get changed.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 19:47</div><div class="msg">Anyway.  I figured it was probably a design choice. But it messed with me for a bit just now.  :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 19:48</div><div class="msg">Yeah - at some point, we may want to really think through your use case and see if we can make it better.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-14 20:04</div><div class="msg">have you considered creating a DHCP reservation w/ the intended IP address?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 20:15</div><div class="msg">@dave.parker - that might be good.  what @zehicle says</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-02-20/319135093095_c0e6268d269110cacc49_72.gif" /><div class="message"><div class="username">dave.parker</div><div class="time">2018-12-14 20:31</div><div class="msg">Yeah, that could be a solution. I'll discuss it with the team.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 21:46</div><div class="msg">we have similar scenario. we have an external process (stackstorm)  set the reservation,  wait for the lease to appear, then update the ip address in the machine definition</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 21:47</div><div class="msg">if you send down the right DRP credentials to the machine (instead of just the usual machine token), you could actually create the reservation and do all that on the machine itself. we just chose to move it upstream a bit</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 21:51</div><div class="msg">this assume you have previously loaded a profile named after the serial and it has a primary_ip parameter</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 21:51</div><div class="msg">The machine token does have the ability to create reservations (not list or delete).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 21:53</div><div class="msg">hmm.. I might have to revisit that. it always failed for us and i figured it was a restriction on the token</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 21:53</div><div class="msg">(failed on creating the reservation... we since learned there is no reason to delete the lease)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 21:54</div><div class="msg">Here is the go for token construction:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 21:54</div><div class="msg">```
        t, _ := NewClaim(r.Machine.Key(), grantor, ttl).
                AddRawClaim("machines", "*", r.Machine.Key()).
                AddRawClaim("params", "get", "*").
                AddRawClaim("stages", "get", "*").
                AddRawClaim("jobs", "create", r.Machine.Key()).
                AddRawClaim("jobs", "get", r.Machine.Key()).
                AddRawClaim("jobs", "update", r.Machine.Key()).
                AddRawClaim("jobs", "actions", r.Machine.Key()).
                AddRawClaim("jobs", "log", r.Machine.Key()).
                AddRawClaim("tasks", "get", "*").
                AddRawClaim("info", "get", "*").
                AddRawClaim("events", "post", "*").
                AddRawClaim("reservations", "create", "*").
                AddRawClaim("reservations", "*", models.Hexaddr(r.Machine.Address)).
                AddMachine(r.Machine.Key()).
                AddSecrets("", grantorSecret, r.Machine.Secret).
                Seal(r.rt.dt.tokenManager)
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-14 21:56</div><div class="msg">well i am going to have to try that process again.  it would be nice to get the machine on the right ip as part of its discovery process</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 21:57</div><div class="msg">it should work.  You just can?t search for a reservation and you can only edit your own.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-14 21:57</div><div class="msg">Note the ?key? of a reservation is the IP address so it is little strange.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-16 00:59</div><div class="msg">had to make sure the reservation didn't already exist</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-16 00:59</div><div class="msg">```
echo "updating machine name to ${FQDN}"
drpcli machines update $RS_UUID "{\"Name\": \"${FQDN}\", \"Address\": \"${PRIMARY_IP}\"}" | jq '.Name + " " + .Address'

# see if ip reservation exists
drpcli reservations exists ${PRIMARY_IP}
result=$?
if [ "$result" == 0 ]; then
  echo "reservation for ${PRIMARY_IP} already exists"
else
  echo "creating reservation for$ ${PRIMARY_IP}"
  drpcli reservations create "{\"Addr\": \"${PRIMARY_IP}\", \"Options\": [{\"Code\": 12, \"Value\": \"${FQDN}\"}], \"Token\": \"${MAC}\", \"Strategy\": \"MAC\"}"
fi
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-16 01:00</div><div class="msg">in my stackstorm code, i actually delete any instance of the reservation already existing and then create a new one.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-16 01:12</div><div class="msg">did not realize that the CLI had exists!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-12-17 08:32</div><div class="msg">Good Morning! I'm currently having an issue with CentOS 7.5 provisioning: Installation gets stuck at "Running post-installation scripts".
Anyone has ever been through this before? Thanks!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-12-17 08:47</div><div class="msg">Another question: what about LDAP integration with DRP for users?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 09:18</div><div class="msg">you need to find the job log, should at least give you a hint as to why it?s getting stuck or hanging. If it shows nothing, then I assume the script is failing before DRP takes back over, if it?s the text based installer you can switch to a new tmux (i think?) pane and look at anaconda.log which should be in the root dir</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 12:24</div><div class="msg">Anyone <!here> have experience using krib? I?m trying to do a ?demo? install of k8s using the krib content, but when executing the ?krib-live-cluster? workflow it fails on the docker-install stage:
```
Error: Error writing to file /var/cache/yum/x86_64/7/base/gen/filelists_db.sqlite: [Errno 28] No space left on device
Command exited with status 1
Action docker-install.sh.tmpl finished
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 12:25</div><div class="msg">I?m on DR 3.11.0, content all on tip.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 12:25</div><div class="msg">I have 3 Virtualbox VMs each with 20GB disk (SATA)..</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-17 12:41</div><div class="msg">Check your drive sizes again.  20 GB may be too small or not set as you think</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 12:43</div><div class="msg">Thnx Rob! It look right now that it mounts the entire first disk as `/docker`. Then it fails on the next stage when it tries to create something in `/var`. So that makes me wonder: if the entire harddisk is used for Docker, then where does the root-filesystem live?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 12:44</div><div class="msg">If it?s purely in RAM, than I guess maybe they don?t have enough memory?.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 13:27</div><div class="msg">Yes, how much memory and what type of install are you doing, live or install?  @bastiaan </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 13:29</div><div class="msg">@greg I tried doing the live with 3x 1GB</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 13:30</div><div class="msg">now it?s succeeding while trying install with a single 4GB box</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 13:30</div><div class="msg">so I guess it?s indeed a memory thing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 13:33</div><div class="msg">Yes - if you are doing sledgehammer, 1.5G is close, but 2GB is better.  With Krib, you need more still because you are running a full system.  I usually do 3-4GB for those.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 13:35</div><div class="msg">Ah, I see. Thanks!!!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 13:36</div><div class="msg">All that is assuming you are doing ?live? systems.  Which the demos do.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 13:36</div><div class="msg">I still didn?t buy a new macbook, so I?m stuck with just 16GB? I guess that?s why you guys prefer to use Packet :wink:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 13:38</div><div class="msg">Yeah - on my 16GB mac, I run DRP in the Host OS (darwin) as an isolated install (yes, I homebrew the heck out of my system).  Then I can usually run 3 or 4 3GB 20GB images.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/03244d21ab8a28315897f14e64f9b478.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">bastiaan</div><div class="time">2018-12-17 13:47</div><div class="msg">Check? I?m running DRP as a VM as well? so that?s pretty tight.. Thnx for the tip!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-12-17 14:33</div><div class="msg">What's the advantage of standalone as opposed to containerized?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-17 14:33</div><div class="msg">running it however you want to ...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-17 14:37</div><div class="msg">if you have container deployment solution in your environment - then obviously the container version makes it easy to deploy as a single artifact</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 15:16</div><div class="msg">@tom.gillman - we have some people doing CICD pipeline testing already.  They are using that pipeline to build a container for running DRP.  Fits their model.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 16:10</div><div class="msg">Janky, but this gets the runner working on CL after VRF enablement :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 16:11</div><div class="msg">CL itself uses a different trick to put services into a vrf, by using a systemd generator - but it only uses unit files from `/lib/systemd/system` (<a href="https://github.com/CumulusNetworks/vrf/blob/a0dbc346abb043b8a3b2bea24df4aa64c9c6acd1/systemd/systemd-vrf-generator#L14">https://github.com/CumulusNetworks/vrf/blob/a0dbc346abb043b8a3b2bea24df4aa64c9c6acd1/systemd/systemd-vrf-generator#L14</a>)  so doesn?t affect the installed drpcli services :disappointed:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 16:56</div><div class="msg">ahh, so close</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 16:56</div><div class="msg">it starts, but the machine is set to `Runnable: false`, I assume because it did an exit_reboot</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 16:57</div><div class="msg">should drpcli-init.service run after every boot or only once? :thinking_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 17:04</div><div class="msg">On boot</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 17:05</div><div class="msg">@bagricola</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 17:07</div><div class="msg">gotcha, that?ll be the bit i?m missing</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 17:07</div><div class="msg">so the usual systemctl enable then?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 17:08</div><div class="msg">yes - that should do it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 17:08</div><div class="msg">ahh need to modify all the Exec lines to make sure it uses the VRF to download the files</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 17:08</div><div class="msg">It is one of the things I?ve been thinking about doing to the join-up.sh script.  Have it install the two services (for systemd) and then exit.  Letting the services do their magic.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 17:19</div><div class="msg">yeah its annoying that the CL stuff only works on services in `/lib/systemd`, otherwise it?d be much easier to convert the services</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 17:19</div><div class="msg">dont really wanna put custom service files in /lib/ cos they?ll probably get destroyed on upgrade</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-12-17 17:26</div><div class="msg">hmmm... cumulus ignores /etc/systemd/system ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 17:37</div><div class="msg">it doesn?t ignore it, but it has a custom systemd generator (linked above) that modifies any service files listed in `/etc/vrf/systemd.conf` so that they automatically run inside the management vrf when it?s enabled</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 17:38</div><div class="msg">but it only works on the service files in /lib, not the ones in /etc, which I assume is because it uses the /etc directory to output the modified ones</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 17:42</div><div class="msg">urgh, prepending the vrf command (e.g. `/usr/bin/vrf task exec %I /usr/local/bin/drpcli machines update "$RS_UUID" '{ "Runnable": true }'`) causes the drpcli command to fail parsing arguments :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-17 17:42</div><div class="msg">(`Error: drpcli machines update [id] [json] [flags] requires 2 arguments`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 20:56</div><div class="msg"><!channel> - We?ve cut a release for v3.12.0 - here are the release notes - <a href="https://github.com/digitalrebar/provision/releases/tag/v3.12.0">https://github.com/digitalrebar/provision/releases/tag/v3.12.0</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 20:56</div><div class="msg">Here are the content release notes - <a href="https://github.com/digitalrebar/provision-content/releases/tag/v1.12.0">https://github.com/digitalrebar/provision-content/releases/tag/v1.12.0</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 20:57</div><div class="msg">If you update to v3.12.0 DRP, please update to v1.12.0 contents and v2.6.0 plugins.  Thanks.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-17 20:57</div><div class="msg">Also - there is a sledgehammer update.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-17 21:47</div><div class="msg"><!channel> last 2018 meetup tomorrow!  <a href="https://www.meetup.com/digitalrebar/">https://www.meetup.com/digitalrebar/</a>

I was thinking we'd talk 2019 roadmap items - both RackN and open Digital Rebar.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-17 21:48</div><div class="msg">we'd also love some feedback about making trial / limited use licenses easier to get and potentially working with the Linux Foundation</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/024f628c7574a496a8947f5e98f1c4a8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">ludovic.prevost</div><div class="time">2018-12-18 14:31</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/024f628c7574a496a8947f5e98f1c4a8.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0014-72.png" /><div class="message"><div class="username">ludovic.prevost</div><div class="time">2018-12-18 14:31</div><div class="msg">morning</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-18 14:32</div><div class="msg">$welcome - @ludovic.prevost - and good morning</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-18 14:32</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-18 15:29</div><div class="msg">just in case anyone is following along with my cumulus shenanigans, the correct fix for running drpcli in a VRF was `/bin/ip vrf exec %i drpcli...`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-18 16:50</div><div class="msg">And I?m done, CL deploy + redeploy is complete :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-18 16:58</div><div class="msg">With a VRF!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-18 16:59</div><div class="msg">yip</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-18 17:01</div><div class="msg">This is what I ended up with? probably a bit racey between the net commit and reboot but seems to work right now so?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-09-17/436963039940_3eee46f170d222359d43_72.jpg" /><div class="message"><div class="username">tom.gillman</div><div class="time">2018-12-18 17:05</div><div class="msg">I know I've asked this before, but how often are updated packages rolled into sledgehammer? For me in this particular instance, I'm trying to use `lsblk` to populate block device info into the machine record, and it would be really handy to have the `2.27.1` version, which has support for JSON output instead of having to format it myself. The sledgehammer version looks to be at `2.23.2`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-18 17:06</div><div class="msg">We use stock Centos 7.X- we are now at centos 7.6</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-18 17:13</div><div class="msg">@tom.gillman - we typically only roll Sledgehammer updates when needed - there isn't a real release schedule/cadence for it.  I agree that JSON output w/ any tooling is good.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-18 17:13</div><div class="msg">got distracted.   RackN will sometimes pull in new packages or replace tools for age reasons.  the image-deploy plugin does this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-18 17:14</div><div class="msg">This is one of those areas that the redhat based server solutions are rather annoying with ancient tools/library versions unless you pull in external repos and override some of the tool versions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-18 17:14</div><div class="msg">too Greg's point - we often add in version checks and upgrades in to workflow pieces if we have known versions we need</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-18 18:17</div><div class="msg"><!channel> - v031 Meetup at 11am PST today (in 45 mins) details:
<a href="https://www.meetup.com/digitalrebar/events/lchdhpyxqbxb">https://www.meetup.com/digitalrebar/events/lchdhpyxqbxb</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-18 18:17</div><div class="msg">Controlling VM scheduling with Kubernetes and Digital Rebar Provision "KRIB" content ... 2018 Retrospective ... 2019 Roadmap !!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/afb2bae14642e549d3a2c70ecf77d6ef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">mpeter</div><div class="time">2018-12-18 20:36</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-18 20:40</div><div class="msg">@mpeter $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-18 20:40</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/afb2bae14642e549d3a2c70ecf77d6ef.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0021-72.png" /><div class="message"><div class="username">mpeter</div><div class="time">2018-12-18 20:40</div><div class="msg">thanks!</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-18 21:35</div><div class="msg"><!here> Posted video from meetup: <a href="https://youtu.be/GGiUInzNfuw">https://youtu.be/GGiUInzNfuw</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-18 23:50</div><div class="msg">hey guys, i created a new bootenv and see it in the list. However, when i create a new machine; it displays ?BootEnv labs-debian-9-install? is not available</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-18 23:52</div><div class="msg">$ drpcli bootenvs list | jq .[].Name |grep labs-debian
?labs-debian-8-install?
?labs-debian-9-install?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-18 23:53</div><div class="msg">How should I configure DRP if I want it only to act as a PXE host and not a DHCP server?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-18 23:55</div><div class="msg">run dr-provision with option --disable-dhcp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-18 23:55</div><div class="msg">/usr/local/bin/dr-provision --static-ip=10.29.123.42 --disable-dhcp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-18 23:55</div><div class="msg">hope that help!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 00:01</div><div class="msg">I found the issue; missing the linux and initrd.gz files</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/47147f1127623db9c52b57272a10e6ec.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">gevanoff</div><div class="time">2018-12-19 00:21</div><div class="msg">Thanks! I'll give it a try</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 03:49</div><div class="msg">got a bit confused with the ipmi-commands plugin :confused: I thought that would be enough to trigger the ipmi-configure stage. added it my very basic discovery flow and it is just not trying</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 04:10</div><div class="msg">tried specifying the values directly to the machine and with username&amp;password in global and address in the machine profile but I still can't trigger/list ipmi actions mentioned in: <a href="https://provision.readthedocs.io/en/latest/doc/content-packages/ipmi.html#actions">https://provision.readthedocs.io/en/latest/doc/content-packages/ipmi.html#actions</a> . `drpcli -d machines actions ID` shows only the certs actions :confused:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 04:11</div><div class="msg">using tip portal, tip plugin</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 04:11</div><div class="msg">You set the configure parameters.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 04:11</div><div class="msg">both</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 04:11</div><div class="msg">You need to set the action parameters</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 04:12</div><div class="msg">well - do you try to run the ipmi-configure?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 04:12</div><div class="msg">configure didn't work for me, so at least I wanted to test the actions</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 04:12</div><div class="msg">Does the machine have the ipmi/address parameter set?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 04:12</div><div class="msg">ipmi/address is defined directly for the machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 04:13</div><div class="msg">Did you check the plugin pieces to see if it has errors?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 04:14</div><div class="msg">You uploaded the plugin.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 04:14</div><div class="msg">Did you create the ipmi plugin?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 04:15</div><div class="msg">nothing in the logs that the plugin was not successful</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 04:15</div><div class="msg">Under the plugins nav panel?  Did you create the ipmi plugin there?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 04:16</div><div class="msg">lol thanks, that explains it xD</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 04:16</div><div class="msg">looks like the other plugins are enabled by default?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 04:18</div><div class="msg">actions are now listed for the machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 04:19</div><div class="msg">yes - it is a historical aspect of ipmi that I can?t easily change.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-19 04:30</div><div class="msg">awesome, configure and action working now for  me :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 11:51</div><div class="msg">hmm? is there any way to get the ?version? of tip (dr-provision / drpcli rather than content) without downloading it?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 11:53</div><div class="msg">f.ex I just spent 15 mins trying to work out why ZTP booting didn?t work in a new DC, and it?s because it had an old ver of DRP without the DHCP `string:` options. My ansible playbook for deploying DRP assumes that if the binary exists then it?s up to date, so doesn?t automatically update the DRP binary. What I?d like to do is check if the binary installed is the latest version, but from what I can tell right now I?d need to download the 145MB dr-provision.zip file first to run dr-provision --version to compare strings against the running version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-19 12:36</div><div class="msg">Yes,  the -# is the commits since the release</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 13:18</div><div class="msg">yeah, just have to find the commit from ?latest? tip and compare i guess</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 13:18</div><div class="msg">also, nothing is ever easy, tried to use this ZTP stuff on some new switches in an actual DC</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 13:18</div><div class="msg">straight out the box</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 13:19</div><div class="msg">```
root@cumulus:/run/cumulus# date
Mon Jan 29 20:19:05 GMT 2001
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 13:19</div><div class="msg">everything fails because https doesnt work, the clock is so far out ntpd can?t fix it and ntpdate isn?t installed by default :woman-facepalming:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-19 14:04</div><div class="msg">Ouch</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-19 14:04</div><div class="msg">Interesting use case for insecure comms</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-19 14:10</div><div class="msg">@bagricola I am interested in trying to replicate what you've done with ZTP</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-19 14:10</div><div class="msg">has that all been on cumulus?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 14:10</div><div class="msg">yep, CL based</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 14:10</div><div class="msg">testing on real hardware</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-19 14:11</div><div class="msg">Cool.  We are an arista shop</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-19 14:11</div><div class="msg">They are always pushing their ZTP solution at us</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 14:19</div><div class="msg">i?m not sure how comparable the arista ZTP stuff is with the CL side of things, looks like it can run a script though which is basically what I?ve been doing with CL? where you might run into issues is that it appears that arista uses boot option 67 (bootfile-name), which I believe is also used internally by DRP when it serves a PXE image</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 14:19</div><div class="msg">that isn?t a problem with CL because they use option 239, which doesn?t conflict with anything DRP does to PXE boot a system</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 14:20</div><div class="msg">so for me it?s as easy as adding option 239 on the boot subnet pointing at the `join-up.sh` script, normal servers ignore it and use whatever DRP provides</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-19 14:21</div><div class="msg">interesting</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-19 14:21</div><div class="msg">our arista configs are fairly static</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-19 14:22</div><div class="msg">but it would be nice to be able to be consistent with the rest of the stack</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 14:28</div><div class="msg">@zdunn - if you use separate subnets/IP space for your switches - you can set the bootfile via the Subnet config on the DRP endpoint side to point to the binary that Arista needs - stage that on DRP in the tftpboot directory</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-12-19 14:31</div><div class="msg">Hi <!here>, my CentOS 7.5 provisioning workflow is stuck at task "centos-drp-only-repos", any ideas?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/1c33e86d878ad6aed16eb5ae6139208c.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">zdunn</div><div class="time">2018-12-19 14:33</div><div class="msg">@shane that's what I am trying to work for</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 14:37</div><div class="msg">@bagricola
I assume you saw the Cumulus posting on setting time?  <a href="https://docs.cumulusnetworks.com/display/DOCS/Setting+Date+and+Time">https://docs.cumulusnetworks.com/display/DOCS/Setting+Date+and+Time</a>
```cumulus@switch:~$ net add time ntp server <a href="http://4.cumulusnetworks.pool.ntp.org">http://4.cumulusnetworks.pool.ntp.org</a> iburst
cumulus@switch:~$ net pending
cumulus@switch:~$ net commit````
`ntpd -q <a href="http://ntp.time.server.com">http://ntp.time.server.com</a>` is also used to replace `ntpdate` functionality
barring any of that - sounds like you need a scripted Date/Time step as part of your initial switch bring up - if you can't get time via NTPD reliably - you can make a call to any number of public API endpoints to get the current time - (eg: `wget -q -O - <a href="http://worldclockapi.com/api/json/utc/now">http://worldclockapi.com/api/json/utc/now</a> | jq '.'`)</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 14:37</div><div class="msg">not sure if you've tried `iburst` to force the clock to sync faster ?   still may barf on too old time</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 14:38</div><div class="msg">@shane actually found that sprig has a `now` function, gonna see if I can set the time approximately based on that</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 14:38</div><div class="msg">I don?t really want to go fully down the ntp route in DRP as that?s already handled by ansible later in the provisioning process</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 14:39</div><div class="msg">and this all happens during discovery, so if the CL image is old then it gets reimaged about 5s later and all modifications are lost anyway :smile:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 14:52</div><div class="msg">@diego.oberlin - do you have `local-repo` set on the Machine ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 14:53</div><div class="msg">and did you do the `drpcli bootenvs uploadiso centos-7.5.1804-install` - to provide the ISO contents on the DRP Endpoint to install against ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-19 15:10</div><div class="msg">hrm? so drp disables the `now` sprig function as misleading, but it looks like the `dateInZone` function defaults to `time.Now()` if no date is given :thinking_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-12-19 15:18</div><div class="msg">Oh, sorry, I just had done that with the centos-7-install only... my bad</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 15:47</div><div class="msg">@bagricola - yes - there are 3 or 4 Sprig functions intentionally disabled because we believe they can be either destructive unintentionally, or misleading</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 15:48</div><div class="msg">disabled ones are:  _ago, now, env, or expandenv_</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 15:49</div><div class="msg">It's the same ISO - the `centos-7-install` bootenv refers to the same ISO (it's a "friendly helper" for current C7 version)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-12-19 15:55</div><div class="msg">hmm ok... anyway, I hadn't try to provision centos before. I'm getting following error now:
```Log for Job: 5f5fbf56-50db-433b-b76d-427f85338581
Starting task xc-vm-centos-7:centos-7.5.1804-install:centos-drp-only-repos on test-drp
Starting command ./centos-drp-only-repos-centos-drp-only-repos.sh.tmpl


Command running
Loaded plugins: fastestmirror
Determining fastest mirrors
<a href="http://mirrors.edge.kernel.org/centos/7/atomic/x86_64/repodata/repomd.xml">http://mirrors.edge.kernel.org/centos/7/atomic/x86_64/repodata/repomd.xml</a>: [Errno 14] curl#6 - "Could not resolve host: <a href="http://mirrors.edge.kernel.org">http://mirrors.edge.kernel.org</a>; Unknown error"
Trying other mirror.
...
...
failure: repodata/repomd.xml from centos-7-everything-atomic: [Errno 256] No more mirrors to try.
<a href="http://mirrors.edge.kernel.org/centos/7/atomic/x86_64/repodata/repomd.xml">http://mirrors.edge.kernel.org/centos/7/atomic/x86_64/repodata/repomd.xml</a>: [Errno 14] curl#6 - "Could not resolve host: <a href="http://mirrors.edge.kernel.org">http://mirrors.edge.kernel.org</a>; Unknown error"
Command exited with status 1
Action centos-drp-only-repos.sh.tmpl finished
Task centos-drp-only-repos failed
Marked machine test-drp as not runnable
Updated job for xc-vm-centos-7:centos-7.5.1804-install:centos-drp-only-repos to failed
Task signalled that it failed```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 16:01</div><div class="msg">@diego.oberlin - we generally ask that you NOT use the "threads" function in Slack - it doesn't send proper notifications in channel, and it's extremely poorly implemented ...

In this case - the errors indicate you don't have DNS resolution for the Repo mirrors - are you using DHCP on DRP -and handing out DNS in the DHCP options (Subnets configuration) ??</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e27105a188eb8faaaf8af3da4c04c876.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0018-72.png" /><div class="message"><div class="username">diego.oberlin</div><div class="time">2018-12-19 16:23</div><div class="msg">Oh ok, sorry for that (thread)
No, i'm not using DHCP on DRP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 16:32</div><div class="msg">do you have the DNS servers specified in your DHCP options ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-19 16:33</div><div class="msg">(DHCP option 6)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 21:53</div><div class="msg">I just run into this error message when install debian 9 with custom stage and bootenv build</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 21:53</div><div class="msg">Dec 19 20:46:49 labs-provision dr-provision[11286]: [0:15]Static FS: Dynamic file error for /machines/ffa198b1-0891-453f-a6ab-117dd4117617/seed: template: :949:3: executing ?net-seed.tmpl? at &lt;.Install&gt;: error calling Install: No idea how to handle repos for labs-debian-9-install</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:04</div><div class="msg">You need to make sure that you have an entry in the repo parameter with that name.  Or leave the name in your bootenv to debian-9.  @ben.le</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:07</div><div class="msg">$ drpcli bootenvs show labs-debian-9-install
{
  ?Available?: true,
  ?BootParams?: ?priority=critical console-tools/archs=at console-setup/charmap=UTF-8 console-keymaps-at/keymap=us popularity-contest/participate=false passwd/root-login=false keyboard-configuration/xkb-keymap=us netcfg/get_domain=unassigned-domain console-setup/ask_detect=false debian-installer/locale=en_US.utf8 console-setup/layoutcode=us keyboard-configuration/layoutcode=us netcfg/dhcp_timeout=120 netcfg/choose_interface=auto url={{.Machine.Url}}/seed netcfg/get_hostname={{.Machine.Name}} root=/dev/ram rw quiet {{if .ParamExists \?kernel-console\?}}{{.Param \?kernel-console\?}}{{end}}?,
  ?Description?: ?Labs Debian 9 install BootEnv?,
  ?Errors?: [],
  ?Initrds?: [
    ?initrd.gz?
  ],
  ?Kernel?: ?linux?,
  ?Meta?: {
    ?color?: ?black?,
    ?feature-flags?: ?change-stage-v2",
    ?icon?: ?linux?,
    ?title?: ?FireEye Content?
  },
  ?Name?: ?labs-debian-9-install?,
  ?OS?: {
    ?Codename?: ??,
    ?Family?: ?debian?,
    ?IsoFile?: ?debian-9-6.0-amd64-netinst.iso?,
    ?IsoSha256": ??,
    ?IsoUrl?: ?<a href="http://labs-packages-mirror01.eng.fireeye.com/provision/debian-9.6.0-amd64-netinst.iso">http://labs-packages-mirror01.eng.fireeye.com/provision/debian-9.6.0-amd64-netinst.iso</a>?,
    ?Name?: ?labs-debian-9-install?,
    ?Version?: ?9.6"
  },
  ?OnlyUnknown?: false,
  ?OptionalParams?: [
    ?part-scheme?,
    ?operating-system-disk?,
    ?provisioner-default-user?,
    ?provisioner-default-fullname?,
    ?provisioner-default-uid?,
    ?provisioner-default-password-hash?,
    ?kernel-console?,
    ?proxy-servers?,
    ?dns-domain?,
    ?local-repo?,
    ?proxy-servers?,
    ?ntp-servers?,
    ?select-kickseed?
  ],
  ?ReadOnly?: true,
  ?RequiredParams?: [],
  ?Templates?: [
    {
      ?Contents?: ??,
      ?ID?: ?default-pxelinux.tmpl?,
      ?Name?: ?pxelinux?,
      ?Path?: ?pxelinux.cfg/{{.Machine.HexAddress}}?
    },
    {
      ?Contents?: ??,
      ?ID?: ?default-ipxe.tmpl?,
      ?Name?: ?ipxe?,
      ?Path?: ?{{.Machine.Address}}.ipxe?
    },
    {
      ?Contents?: ??,
      ?ID?: ?default-pxelinux.tmpl?,
      ?Name?: ?pxelinux-mac?,
      ?Path?: ?pxelinux.cfg/{{.Machine.MacAddr \?pxelinux\?}}?
    },
    {
      ?Contents?: ??,
      ?ID?: ?default-ipxe.tmpl?,
      ?Name?: ?ipxe-mac?,
      ?Path?: ?{{.Machine.MacAddr \?ipxe\?}}.ipxe?
    },
    {
      ?Contents?: ??,
      ?ID?: ?select-kickseed.tmpl?,
      ?Name?: ?seed?,
      ?Path?: ?{{.Machine.Path}}/seed?
    },
    {
      ?Contents?: ??,
      ?ID?: ?net-post-install.sh.tmpl?,
      ?Name?: ?net-post-install.sh?,
      ?Path?: ?{{.Machine.Path}}/post-install.sh?
    }
  ],
  ?Validated?: true
}</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:08</div><div class="msg">$ drpcli stages show labs-debian-9-install
{
  ?Available?: true,
  ?BootEnv?: ?labs-debian-9-install?,
  ?Description?: ?Debian 9 install stage for FireEye Labs environment.?,
  ?Errors?: [],
  ?Meta?: {
    ?color?: ?yellow?,
    ?icon?: ?download?,
    ?title?: ?FireEye Content?
  },
  ?Name?: ?labs-debian-9-install?,
  ?OptionalParams?: [],
  ?Profiles?: [],
  ?ReadOnly?: true,
  ?Reboot?: false,
  ?RequiredParams?: [],
  ?RunnerWait?: true,
  ?Tasks?: [
    ?enforce-public-key-authentication?,
    ?default-user-access?
  ],
  ?Templates?: [],
  ?Validated?: true
}</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:09</div><div class="msg">I have  ?select-kickseed? in the bootenv</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:20</div><div class="msg">Since you named the OS.Name ?labs-debian-9-install?, you need to make sure that the package-repositories has entries for that.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:20</div><div class="msg">I think if you left OS.Name - debian-9-install or then it would reuse those entries.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:22</div><div class="msg">the package-repositories were created when i ran drpcli bootenv uploadiso labs-debian-9-install</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:22</div><div class="msg">it is a parameter with defaults.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:22</div><div class="msg">It can be overridden in global or profiles or machines.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:22</div><div class="msg">If you are using your repos, you need to update that parameter.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:24</div><div class="msg">if i used the debian-9-install bootenv of the drp-community-content then i got ?No kernel modules were found.  This probably is due to mismatch?.?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:24</div><div class="msg">actually, I think you are right.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:24</div><div class="msg">I did update that parameter</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:24</div><div class="msg">You need to create a global package-repositories with your info.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:31</div><div class="msg">here?s my global package-repositories settings</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:31</div><div class="msg">for debian-9</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:31</div><div class="msg">- tag: ?debian-9-install?
      os:
        - ?debian-9"
      installSource: true
      url: ?<a href="http://packages.eng.fireeye.com/debian">http://packages.eng.fireeye.com/debian</a>?
      distribution: ?stretch?
      components:
        - main
        - contrib
        - non-free
    - tag: ?debian-9-updates?
      os:
        - ?debian-9"
      url: ?<a href="http://packages.eng.fireeye.com/debian">http://packages.eng.fireeye.com/debian</a>?
      distribution: ?stretch-updates?
      components:
        - main
        - contrib
        - non-free
    - tag: ?debian-9-security?
      os:
        - ?debian-9"
      url: ?<a href="http://packages.eng.fireeye.com/debian-security">http://packages.eng.fireeye.com/debian-security</a>?
      securitySource: true
      distribution: ?stretch/updates?
      components:
        - main
        - contrib
        - non-free</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:31</div><div class="msg">Your names don?t match</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:32</div><div class="msg">You need to create entries for lab-debian-9</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:32</div><div class="msg">or whatever you named it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:33</div><div class="msg">thank you for pointing that out</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:33</div><div class="msg">i will correct and try it again</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:33</div><div class="msg">the os - section can be added to</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:33</div><div class="msg">it is a list</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:38</div><div class="msg">do you have any global contents in the github somehow so i can compare with</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-19 22:38</div><div class="msg">The default on the parameter.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/8a9c5c571619653ac58972f2fda17e0a.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-72.png" /><div class="message"><div class="username">ben.le</div><div class="time">2018-12-19 22:40</div><div class="msg">Thanks @greg</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-20 03:42</div><div class="msg">first, I really falling in love with KRIB :slightly_smiling_face: I'm trying to get it running with 3 masters but `krib-config` is failing for 2 of 3:
```
Node master2.metal is not yet ready.
NAME            STATUS     ROLES    AGE     VERSION
master1.metal   Ready      master   2m23s   v1.12.3
master2.metal   NotReady   master   76s     v1.12.3
master3.metal   Ready      master   74s     v1.12.3
Node master3.metal is ready.
Node master1.metal is ready.
Node master2.metal is ready.
Node master3.metal is ready.
{
  "color": "green",
  "feature-flags": "change-stage-v2",
  "icon": "anchor"
}
Adding env=dev label to machine master3.metal
The connection to the server localhost:8080 was refused - did you specify the right host or port?
Command exited with status 1
Action krib-config.sh.tmpl finished
Task krib-config failed
```
I could not find anything in the templates which wants to communicate to `localhost:8080`. Any hint?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-20 03:43</div><div class="msg">besides that it does not continue for the 2 masters:
```
NAME            STATUS    ROLES     AGE       VERSION
master1.metal   Ready     master    20m       v1.12.3
master2.metal   Ready     master    19m       v1.12.3
master3.metal   Ready     master    19m       v1.12.3
worker1.metal   Ready     &lt;none&gt;    18m       v1.12.3
worker2.metal   Ready     &lt;none&gt;    18m       v1.12.3
worker3.metal   Ready     &lt;none&gt;    18m       v1.12.3
worker4.metal   Ready     &lt;none&gt;    18m       v1.12.3
worker5.metal   Ready     &lt;none&gt;    18m       v1.12.3
worker6.metal   Ready     &lt;none&gt;    18m       v1.12.3
```
some further info: `etcd/servers` &amp; `krib/cluster-masters` are predefined in the profile</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-20 08:23</div><div class="msg">added `--overwrite=true` to `my-krib-config.sh.tmpl` but looks anyway not consistent with the labels for the master:
```
kubectl get nodes --show-labels
NAME            STATUS    ROLES     AGE       VERSION   LABELS
master1.metal   Ready     master    6m        v1.12.3   <a href="http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=master1.metal,node-role.kubernetes.io/master=">http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=master1.metal,node-role.kubernetes.io/master=</a>
master2.metal   Ready     master    5m        v1.12.3   <a href="http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=master2.metal,node-role.kubernetes.io/master=">http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,kubernetes.io/hostname=master2.metal,node-role.kubernetes.io/master=</a>
master3.metal   Ready     master    5m        v1.12.3   <a href="http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=master3.metal,node-role.kubernetes.io/master=">http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=master3.metal,node-role.kubernetes.io/master=</a>
worker1.metal   Ready     &lt;none&gt;    4m        v1.12.3   <a href="http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker1.metal">http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker1.metal</a>
worker2.metal   Ready     &lt;none&gt;    4m        v1.12.3   <a href="http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker2.metal">http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker2.metal</a>
worker3.metal   Ready     &lt;none&gt;    4m        v1.12.3   <a href="http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker3.metal">http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker3.metal</a>
worker4.metal   Ready     &lt;none&gt;    4m        v1.12.3   <a href="http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker4.metal">http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker4.metal</a>
worker5.metal   Ready     &lt;none&gt;    4m        v1.12.3   <a href="http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker5.metal">http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker5.metal</a>
worker6.metal   Ready     &lt;none&gt;    4m        v1.12.3   <a href="http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker6.metal">http://beta.kubernetes.io/arch=amd64,beta.kubernetes.io/os=linux,builder=krib,env=dev,kubernetes.io/hostname=worker6.metal</a>
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-20 08:45</div><div class="msg">hmm seems I've got some calico issues now. most deployments fail with something like:
```
 Failed create pod sandbox: rpc error: code = Unknown desc = failed to set up sandbox container "da971c119ea96ff5899626ec968e84f5f9557083c0e0e26a927dcd94614f0c84" network for pod "rook-discover-spxb7": NetworkPlugin cni failed to set up pod "rook-discover-spxb7_rook-ceph-system" network: error adding host side routes for interface: calicf4b87eac40, error: route (Ifindex: 8, Dst: 192.168.32.65/32, Scope: 253) already exists for an interface other than 'calicf4b87eac40'
Back-off restarting failed container 
```
dashboard failed too but after deleting the failed pods it scaled up again and worked. for rook it does not work after deletion of the pods</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-20 14:41</div><div class="msg">@adam.lemanski - you appear to be trying everything at once.  I?m not sure we?ve look at Rook in a while.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-20 22:09</div><div class="msg">Fresh TIP DRP server here on ubuntu 18.04. Followed guide up to the sledgehammer bootenv. On a baremetal PXE boot initial PXE boot works but then it's getting kicked to a shell before it can download root.squashfs . I can manually grab the file with wget after it bails , so communications are working fine. It just appears it's not waiting long enough for DHCP and then fails to get the file before it gets an IP. Any ideas on where i should poke around to get discovery working?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-20 22:11</div><div class="msg">do you have "port fast" on the switch ports for the machine failing ?   if not - the port may take 30 seconds or longer to enable due to Spanning Tree</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-20 22:12</div><div class="msg">Curse you STP,  Thanks for the idea. I'll go check the switch.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-20 22:12</div><div class="msg">there is also a new in v3.12.0 released earlier this week feature that may help</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-20 22:12</div><div class="msg">fwiw :</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-20 22:13</div><div class="msg">Pretty sure I'm running 3.12</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-20 22:17</div><div class="msg">see the `provision.*` kernel options in the v1.12.0 content pack that enables/supports the feature:
<a href="https://github.com/digitalrebar/provision-content/releases/tag/v1.12.0">https://github.com/digitalrebar/provision-content/releases/tag/v1.12.0</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-20 22:18</div><div class="msg">make sure you've updated content and sledgehammer along with v3.12.0 release version</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-20 22:25</div><div class="msg">@andrew - from a continuance of testing perspective, you can exit ash and it will attempt to re-wget.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-20 22:26</div><div class="msg">Oh! thanks.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f03b44bdb2486ce1c13c121416b4f350.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">andrew</div><div class="time">2018-12-20 22:46</div><div class="msg">Sure enough the switch was slowing things down. Thanks again.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-20 22:46</div><div class="msg">awesome - that's an easy fix for us :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 00:41</div><div class="msg">@greg nope, not everything at once, one workflow step after another. I just try to to get the krib-install workflow running with my ha-krib profile. `rook` is just an example, like I mentioned I have the same issue with the krib-dashboard step before.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 00:42</div><div class="msg">I've got the basic setup working (kubeadm etc) by allowing overwriting node labels and have now issues with creating container using calico with the above message</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 00:45</div><div class="msg">I run the provisioning more than 20 times to discover issues and I try to fix them.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 02:39</div><div class="msg">new day, new krib provisioning :slightly_smiling_face: looks like the dashboard link was updated and I will try using calico 3.4. if successful you can expect a PR later</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/f4bfa3f0caefdb0df1d3f451d0ca21d9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0001-72.png" /><div class="message"><div class="username">hannahervin</div><div class="time">2018-12-21 03:55</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-21 03:56</div><div class="msg">@hannahervin $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-21 03:56</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-21 03:58</div><div class="msg">@adam.lemanski - KRIB has special considerations if you are running it over and over, it's not very idempotent from that respect </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-21 03:59</div><div class="msg">Presumably you've found the clear profile routines for multiple runs </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 03:59</div><div class="msg">noticed that already, always re-setting the hardware with an other workflow</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-21 03:59</div><div class="msg">And we may have missed some of them for add-on pieces (like rook or calico bits) </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-21 04:00</div><div class="msg">The profile used to store the cluster state and info specifically needs cleaned between consecutive runs </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 04:00</div><div class="msg">christmas party starting soon so I guess PR will have to wait but so far I think I will contribute some minor calico improvements</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-21 04:01</div><div class="msg">Excellent! Happy Party time! </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 04:01</div><div class="msg">yeah, created a template profile from which I always clone</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-21 04:01</div><div class="msg">Very good.....! </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 04:02</div><div class="msg">since I deal with real hardware all that stuff takes quite some time to test but I prefer testing on what will run later in production for now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 04:47</div><div class="msg">trying to add the possibility to set the cluster ip  for the calico etcd via `        curl -gfsSL {{ .Param "provider/calico-etcd-config" }} | sed "s/clusterIP: 10.96.232.136/clusterIP: ${{ .Param "provider/calico-etcd-clusterip" }}/g" | kubectl apply -f -` but somehow it resulted in cutting of the first character/digit of the address :confused: an idea why?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 04:49</div><div class="msg">while `provider/calico-etcd-clusterip: "172.16.160.100"` &amp; `provider/calico-etcd-config: <a href="https://docs.projectcalico.org/v3.4/getting-started/kubernetes/installation/hosted/etcd.yaml">https://docs.projectcalico.org/v3.4/getting-started/kubernetes/installation/hosted/etcd.yaml</a>` are set</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-21 04:49</div><div class="msg">```
Starting calico networking...
daemonset.extensions/calico-etcd created
The Service "calico-etcd" is invalid: spec.clusterIP: Invalid value: "72.16.160.100": provided IP is not in the valid range. The range of valid IPs is 172.16.160.0/20
Command exited with status 1
Action my-krib-config.sh.tmpl finished
Task my-krib-config failed
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-21 17:13</div><div class="msg">i've pinned my setup on v3.12.0 and i picked the community content of v1.12.0  as latest.  But the web ui is telling me that v1.11.0 is the newer content pack</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-21 17:13</div><div class="msg">drp-community-content : Digital Rebar Provision Community Content
Version (Current): v1.12.0-0-07692141149597ca0535204c851e4ff964fc91ce
Version (New): v1.11.1-0-11b8fd04814bb8425d8eabce59c113e4e2c12c75</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-21 17:14</div><div class="msg">is this a UI glitch or is there newer bits in v1.11.0 ?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-21 17:18</div><div class="msg">SaaS needs updating.  I forgot to change the recommended.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-21 17:18</div><div class="msg">in the SaaS DB.  I?ll do that shortly.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-21 17:31</div><div class="msg">not anything urgent, just saw that and found it interesting</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/26ec2a20892eab20866c6dffe2b3166e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0004-72.png" /><div class="message"><div class="username">john</div><div class="time">2018-12-21 17:33</div><div class="msg">i've now ansible installing the docker image, content pack, initial setup, and isos, pinned on those versions.   the newest dockerfile and --net is working for me</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-21 19:05</div><div class="msg">should be updated now.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:15</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:22</div><div class="msg">hello.   trying to boot 3 dell workstations with dr-provision in docker and dhcp proxy.  it's working exactly as expected and all 3 come up into sledgehammer wait.</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-22 22:22</div><div class="msg">Time to feed the :bear:!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:23</div><div class="msg">I'm running into problems at the drpcli machines update &lt;UUID&gt; '{ "Workflow": "centos7" }' step.  I see the machine reboot but this time when it gets into the PXE I get "PXE-E53: No boot filename received"</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:24</div><div class="msg">then no boot device found, press any key to reboot the machine</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:25</div><div class="msg">the machine won't ever pxe boot again until I go into rackn and delete the machine and then manually reboot it.  Then it will come up into sledgehammer-wait again.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:26</div><div class="msg">I'm stuck there.  I'm following the quickstart and configuring most things via drpcli as detailed in the guide</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:40</div><div class="msg">I have static dhcp set for all 3 machines in my router.  I see the requests in the provision log before it times out</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:40</div><div class="msg">```
dr-provision2018/12/22 22:39:41.536879 [227:33]dhcp:dhcp [ warn]: /home/travis/gopath/src/github.com/digitalrebar/provision/midlayer/dhcp.go:166
[227:33]No matching subnet, will respond to 0.0.0.0 from 10.0.0.6
dr-provision2018/12/22 22:39:56.692861 [228:34]dhcp:dhcp [ warn]: /home/travis/gopath/src/github.com/digitalrebar/provision/midlayer/dhcp.go:567
[228:34]xid 0xd1808b: Another DHCP server may be on the network: &lt;nil&gt;
dr-provision2018/12/22 22:40:02.612311 [229:35]dhcp:dhcp [ warn]: /home/travis/gopath/src/github.com/digitalrebar/provision/midlayer/dhcp.go:166
[229:35]No matching subnet, will respond to 0.0.0.0 from 10.0.0.6
dr-provision2018/12/22 22:40:02.613577 [230:36]dhcp:dhcp [ warn]: /home/travis/gopath/src/github.com/digitalrebar/provision/midlayer/dhcp.go:534
[230:36]xid 0xe827e5: Ignoring request for DHCP server 10.0.0.254
dr-provision2018/12/22 22:40:02.612311 [229:35]dhcp:dhcp [ warn]: /home/travis/gopath/src/github.com/digitalrebar/provision/midlayer/dhcp.go:166
[229:35]No matching subnet, will respond to 0.0.0.0 from 10.0.0.6
dr-provision2018/12/22 22:40:02.613577 [230:36]dhcp:dhcp [ warn]: /home/travis/gopath/src/github.com/digitalrebar/provision/midlayer/dhcp.go:534
[230:36]xid 0xe827e5: Ignoring request for DHCP server 10.0.0.254
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:41</div><div class="msg">10.0.0.6 is the br0 ip of the provision container.  10.0.0.254 is my router/dhcp server</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:43</div><div class="msg">I get the first dhcp.go:166 4 times and then what I pasted above</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-22 22:59</div><div class="msg">only other thing that is strange is one of the 3 machines always has a null gohai inventory but the other 2 are full</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-23 00:01</div><div class="msg">@kraven - how is your Subnet in DRP configured?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-23 03:04</div><div class="msg">@kraven there may be something causing gohai to error on that machine.  try running from the CLI `drpcli gohai`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 10:35</div><div class="msg">drp subnet is the same 10.0.0.0/24 as my router but in proxy mode.  It works for the first boot fine and if I delete the machine so it must be something with the url that the pxe is trying to pull but I don't see anything more when I turn on --dhcp-debug=2</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 10:40</div><div class="msg">I'll dig through the code and see where I need to turn on debug or add debug to see the http and tftp requests</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 10:44</div><div class="msg">ahh prefs, still learning the product...</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 10:51</div><div class="msg">that's more insightful. with the machine already discovered and I just manually reboot it I get this:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 10:51</div><div class="msg">5 times then the pxe client times out</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 10:55</div><div class="msg">then I delete the machine in DRP and reboot it and I get the same thing once and then it I see this and it boots:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 11:00</div><div class="msg">I'm going to try disabling my router dhcp and turn on full dhcp in DRP and see if I get different results</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 11:06</div><div class="msg">okay, so second boot works when I switch to centos-install with DRP in full dhcp instead of proxy so something not going right in proxy mode</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 11:07</div><div class="msg">router is asuswrt-merlin using dnsmasq</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 11:48</div><div class="msg">this is cool <a href="https://github.com/solarkennedy/diyipmi">https://github.com/solarkennedy/diyipmi</a>.  would be easy to modify to run on really cheap esp8266 wifi module to add serial-tty ipmi to any physical machine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-23 12:30</div><div class="msg">@kraven proxy mode is not as widely used,  so you may have found a bug.  For those traces,  please use the snippet feature in slack to improve readability </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-23 12:32</div><div class="msg">hmmm, of if you are, they are coming in  full for me instead of slack hiding them</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 12:58</div><div class="msg">I removed them for now so it doesn't ugly things up</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 12:58</div><div class="msg">new to slack but I'll figure out snippet mode and add them</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 13:00</div><div class="msg">so I did a ubuntu install and after it's done it reboots and then hits pxe again and times out like it was doing before with proxy dhcp</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 13:01</div><div class="msg">if I go into the bios and set hdd as second boot option then it boots up after pxe times out and I can see in the DRP machine page as complete</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 13:02</div><div class="msg">but I thought that pxe should still be working but tell the machine to local boot instead of timing out?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 13:06</div><div class="msg">maybe I'll wipe my data directory for drp and start over.  I'm running similar to <a href="https://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html#example-docker-volume-usage">https://provision.readthedocs.io/en/latest/doc/faq-troubleshooting.html#example-docker-volume-usage</a> except I have a br0 network with IP rather than host networking so I don't get any port clashes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 13:08</div><div class="msg">I did have a problem with that docker container because it didn't have the drp-community-content package added when it came up.  I uploaded via drpcli and then went from there.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 13:50</div><div class="msg">nevermind there, I started with fresh volume and I didn't need to download drp-community-content.yaml this time</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 13:53</div><div class="msg">still same proxy bug but I'm able to get it to never pxe boot now by starting with empty machine list and then adding a reservation for the machine mac address.  once I remove the reservation it will boot.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 13:55</div><div class="msg">so I'm guessing when the machine gets discovered it's adding a reservation for that mac automatically</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 14:19</div><div class="msg">I think the bug is here <a href="https://github.com/digitalrebar/provision/blob/c6584088422fc065fc135c6f65ddc733a92c9a9f/midlayer/dhcp.go#L670-L672">https://github.com/digitalrebar/provision/blob/c6584088422fc065fc135c6f65ddc733a92c9a9f/midlayer/dhcp.go#L670-L672</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 14:22</div><div class="msg">is there a Dockerfile to build the dr-provision.zip?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-23 14:27</div><div class="msg">@kraven - a Reservation is not automatically created by DRP for a machine - DRP doesn't know what you want to do for an IP management scheme - so re-assigning IPs after initial discovery, or creating/injecting appropriate Reservations is left up to the operator</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-23 14:28</div><div class="msg">the `tools/` directory contains the build scripts - `build.sh` is the main build script</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-23 14:29</div><div class="msg">and of course - there's the `Dockerfile` for the docker</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 14:41</div><div class="msg">okay, I can prob find a go base image that I can build with.  I don't normally install anything locally</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 14:42</div><div class="msg">I was just guessing on the reservation since having the reservation and having the machine had the same result but thank you for clarifying</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 14:48</div><div class="msg">@zehicle drpcli gohai from that one machine with a null one throws an index out of range error</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-23 14:49</div><div class="msg">That would explain the empty param.  </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 14:50</div><div class="msg">strange because it's exact same hardware/bios/etc... as another machine that is fine</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-23 14:51</div><div class="msg">Looks like something unexpected in DMI</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 14:51</div><div class="msg">OptiPlex 9010</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-23 14:51</div><div class="msg">Every machine is a snowflake</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 14:51</div><div class="msg">yeah</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 14:53</div><div class="msg">office was going to send a bunch to be destroyed when they refreshed so they gave me a few.  easier and more powerful for a test cluster than raspberry pi's</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 15:00</div><div class="msg">end goal is k8s cluster with openebs or rancher longhorn persistent storage.  also want to use metallb in arp mode for load balancer in front of the ingress</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-23 15:15</div><div class="msg">I'm assuming you've see the KRIB stuff</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 15:16</div><div class="msg">so for dhcp proxy issue looks like what is happening is when the machine is not in the list offerNetBoot get set to true on line 232 of dhcp.go
the machine boots and gets added to the machine list
then reboot and it tries pxe again
it doesn't match line 223 because machine is not null any more but has no address because it's a fake lease so it matches line 254 and offerNetBoot gets set to false
then when it gets to line 670 it returns NoPXE because offerNetBoot is false</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 15:17</div><div class="msg">@zehicle yeah, that's what lead me to the project in the first place.  was trying to find a better way to bring up the cluster than matchbox/terraform/bootkube</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-23 15:40</div><div class="msg">We made of improvements and integrations to dhcp lately.  Proxy may not have enjoyed att the benefits </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 15:56</div><div class="msg">I like the kexec quick bounce from discovery to coreos-live and back</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-23 16:01</div><div class="msg">@kraven - Can you open an issue in github for the DHCP Proxy issue, please?  Most of us are out and about the next few days with Christmas/Holiday stuff.  Don?t want to forget this .</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-23 16:02</div><div class="msg">sure, just making sure I wasn't doing it wrong :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-23 16:03</div><div class="msg">Still not sure, but sounds like we have bug.  Need the notes and config.  Thanks for playing with it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-24 04:46</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-24 13:27</div><div class="msg">@rik $welcome </div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-24 13:27</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-24 14:02</div><div class="msg">Thanks @zehicle. Been playing with Provisioner for a while and looking for the community discussion (since the repo+docs is a bit disjointed at times). I guess I?ve found it. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-24 14:20</div><div class="msg">Happy for suggestions (and patches) on the docs!  We do a lot of video and meetups that may help. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-25 02:35</div><div class="msg">merry christmas to everyone celebrating it. Just a small info about the issue of cutting of the first character for a param in a template... just one `$` too much: `.../clusterIP: ${{ .Param "provider/calico-etcd-clusterip" }}/g"` -&gt; `.../clusterIP: {{ .Param "provider/calico-etcd-clusterip" }}/g"`</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-25 03:21</div><div class="msg">@adam.lemanski  Merry Christmas to you as well.  Yeah. Golang templates don?t need the $    The braces are enough. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-25 03:22</div><div class="msg">yeah, I guess somebody sneaked to my notebook and wanted to sabotage me. :wink:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-25 10:39</div><div class="msg">The current issue I?m having is with sledgehammer (I think). One of my (home lab) servers is not bringing networking up properly. 

In attempting to troubleshoot this, some things I noticed:

* the slack archive stops at September 2018
* I had trouble finding the sledgehammer root password (eventually found it in the `<a href="http://github.com/digitalrebar/sledgehammer">http://github.com/digitalrebar/sledgehammer</a>` repo)
* the sledgehammer build doesn?t seem to match what?s in the github repo
* there?s a comment in the github repo that says it?s unused, but I can?t find the real location. The `sledgehammer-builder` page in the docs says ?unspecified? and nothing else. 
* I couldn?t find a way to boot sledgehammer with extra kernel args (I wanted to try `net.ifnames=0` since there was an error in the journal that pointed to an interface naming issue). I ended up hacking it into `kernel-console` in the `global` Profile. 
* the current (1.12.0 &amp; tip) sledgehammer uses version 219 of systemd but `/etc/systemd/network/20-bootif.network` uses `ClientIdentifier` which was introduced in version 220. 

So far, I?m not sure if any of this has a bearing on why it?s not bringing up networking...

Happy to contribute to the docs, but at the moment I?m feeling a bit green.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-25 13:03</div><div class="msg">hmmm, I had no idea that guest accounts had search history limited.   We post the slack archive here <a href="http://rebar.digital/slack/html/index.html">http://rebar.digital/slack/html/index.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-25 13:06</div><div class="msg">also, sledgehammer build process changed in the last release when we added IPv6 and ARM.  I'll let Greg talk to that.  You are right that it's different.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/e7f07e27688684c6421bd0acb20e4a13.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F3654%2Fimg%2Favatars%2Fava_0011-72.png" /><div class="message"><div class="username">andrew273</div><div class="time">2018-12-25 13:39</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-25 14:55</div><div class="msg">is there a source repo for virtualbox-ipmi plugin?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-25 15:01</div><div class="msg">or packet-ipmi?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-25 15:33</div><div class="msg">@kraven those are RackN components that we offer free.  we don't publish the source code at this time</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-25 15:35</div><div class="msg">for customers and partners, we do offer co-dev for plugins that includes source access</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-25 15:43</div><div class="msg">@andrew273 $welcome ...</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-25 15:43</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-25 16:26</div><div class="msg">@rik some answers:
? I think we just haven't gotten around to posting the Slack archives since September - we tend to do it "quarterly-ish" (it's not automated)
? root/rebar1 is the PW for Sledgehammer - but by default only on the Console (see $faq for adding SSH keys, or changing `access-ssh-root-mode`)
? as Rob mentioned - we just switched to a new build tool for Sledgehammer (`sledgehammer-builder` workflow content)
? `sledgehammer-builder` repo hasn't been put in the open community yet - it will be soon
? for the moment - use `kernel-console` and overload it with whatever you want to pass to the Kernel - <a href="https://github.com/digitalrebar/provision-content/blob/master/content/params/kernel-console.yaml">https://github.com/digitalrebar/provision-content/blob/master/content/params/kernel-console.yaml</a>
? not sure on the `ClientIdentifier` mismatch - but "it's working" for us at the moment :slightly_smiling_face:</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-25 16:26</div><div class="msg">FAQs are here &gt; <a href="http://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html">http://provision.readthedocs.io/en/tip/doc/faq-troubleshooting.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-26 04:01</div><div class="msg">Thanks @shane and @zehicle. If I figure out that the networking issue is something sledgehammer- or DRP-related, I?ll post back here. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-26 04:05</div><div class="msg">Cool.  We'd like to know either way.   If you do a regular centos install, it may show you the issue. </div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2017-09-18/243018470675_611b6896ed20358ab1aa_72.jpg" /><div class="message"><div class="username">shane</div><div class="time">2018-12-26 04:15</div><div class="msg">Might be a NIC driver issue?  Sledgehammer is based on stock centos 7.6</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-26 13:13</div><div class="msg">are there any docs for creating a plugin provider?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-26 13:15</div><div class="msg">I was going to try to use ipmi and VirtualBMC with my libvirt vm's but I just realized it was licensed only when I tried to install it.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-26 13:19</div><div class="msg">So I was thinking maybe a simple plugin provider that would enable running commands on the machines via ssh</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-26 14:51</div><div class="msg">@kraven - we have one.  kvm-test.  We haven?t productized it but @vlowther uses it for testing with KVM/libvirt on his setup.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-26 16:24</div><div class="msg">so for internal use only then?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-12-26 16:53</div><div class="msg">Eh, more like "you need to be me to use it anyways".</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-26 17:18</div><div class="msg">well I code so if there were an example or docs on how to create a plugin provider I should be able to hack something together to do what I'm wanting</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-26 17:56</div><div class="msg">there's an example under /cmd for the incrementer plugin in the provision repo</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-26 17:57</div><div class="msg"><a href="https://github.com/digitalrebar/provision/tree/master/cmds/incrementer">https://github.com/digitalrebar/provision/tree/master/cmds/incrementer</a></div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-26 19:04</div><div class="msg">I'm about (next few days) to update the license flow to so any registered user can use plugins - it will not require creating an org.  Makes it even more self service. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-26 23:05</div><div class="msg">thanks @zehicle.  That's what I needed!  I'll see what I can get going.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-26 23:06</div><div class="msg">@kraven in the mean time, I can create an org for you so that you can get started now... I'll send you info via DM</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 03:35</div><div class="msg">just created <a href="https://github.com/digitalrebar/provision-content/pull/181">https://github.com/digitalrebar/provision-content/pull/181</a> , hope it helps to make krib ha more usable :slightly_smiling_face: works for me</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 13:38</div><div class="msg">Thanks @adam.lemanski I was going through some video demos yesterday and tried to clone the ha example but the cluster didn't come up with 3 masters so hopefully this fixes that.  I'll let you know very soon.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 13:39</div><div class="msg">looking at the templates it looks like the live cluster should work with coreos base?  I've historically been using coreos so staying with that would be more comfortable for me.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 13:40</div><div class="msg">btw, I'm almost done with a metallb addition to krib.  I'll send a pr once it's working</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 13:42</div><div class="msg">doing it primarily to help me get more familiar with drp.  it's pretty simple in l2 mode.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 13:55</div><div class="msg">Cool, hope it helps. I have no experience with coreos. Actively fighting with rook/ceph but now I am in my long weekend off. Continuing next week Thursday/Friday. Metallb or other ingress is on my todo list too. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 13:56</div><div class="msg">@kraven maybe I'm lucky and you have done it until then :) </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:02</div><div class="msg">I fought with rook/ceph a little and then went to rancher longhorn or openebs.  It's pretty easy with coreos because you can just enable a couple of iscsi oneshot services and set a config option in the ignition file, map a couple iscsi binaries into the kubelet container, and it "just works" with a simple helm chart install.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:03</div><div class="msg">I had it working with rancher rke but I wanted a bit more flexibility so went looking for alternative solutions</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:06</div><div class="msg">drp is looking like exactly what I've been searching for so far.  I like the templates and the matchbox + terraform combo of tyhoon was a little clunky</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 14:06</div><div class="msg">So far rook/ceph operator via helm integration in krib worked, just need further cleaning on krib side since somehow just 2 of 3 masters have the noschedule taint for masters</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 14:06</div><div class="msg">So I've got an osd running on the master</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 14:08</div><div class="msg">Looking for a simple storage solution (software) supporting disks and object storage, thought ceph is best matching so far</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:08</div><div class="msg">rancher longhorn I like over openebs because it has a nice web gui where you can check the status of the pvc cluster and also backup and restore volumes from s3 or nfs</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 14:09</div><div class="msg">I will take a look at it </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 14:09</div><div class="msg">Thanks for the hint</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:10</div><div class="msg">:slightly_smiling_face:  I'll send pr's if I can get it working in krib properly</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 14:10</div><div class="msg">So far drp is just awesome, simple and works as expected </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:11</div><div class="msg">I also deploy minio somewhere so I can do my storage backups to my unraid nas</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 14:13</div><div class="msg">Last time I checked minio it was quite limited but maybe I will evaluate more</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:13</div><div class="msg">it's just s3 with a nice gui that you can attach to a nfs share if you want</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:13</div><div class="msg">or raw disk</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:14</div><div class="msg">has a nice helm chart that makes it quick and easy to spin up</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:15</div><div class="msg">and I guess after getting ingress and storage as a service setup my next piece will be postgres as a service via patroni.  watched a nice kubecon video on it this morning and it got me excited to try it</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 14:32</div><div class="msg">Seems your agenda is mostly the same as mine. Thinking of coackroachdb but have to check with our devs about it. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-27 14:35</div><div class="msg">whew, so just before christmas i bricked a cumulus switch by power cycling it while it was updating grub</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-27 14:35</div><div class="msg">turns out you can recover them by booting off usb, if you know the super secure bios password</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-27 14:35</div><div class="msg">?admin?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/257a6915e74407e1f45376f493837d92.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0013-72.png" /><div class="message"><div class="username">bagricola</div><div class="time">2018-12-27 14:36</div><div class="msg">reflashed onie from usb, rebooted into onie installer mode and DRP + ansible took it from there, all fixed :smile:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 14:54</div><div class="msg">@adam.lemanski I like the idea of cockroach and may be able to switch to it in the future but most of my workloads are java/spring/jpa/hibernate so right now the quickest transition from standalone sqlserver is a postgres cluster</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-12-27 15:16</div><div class="msg">Setting up a postgres cluster is a good reason to look at cockroachdb. :-)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/0d25a25248f968d7dfae7040ad3735c9.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0022-72.png" /><div class="message"><div class="username">adam.lemanski</div><div class="time">2018-12-27 15:18</div><div class="msg">Exactly </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 15:25</div><div class="msg">maybe I need to look at it again. I thought it wasn't a direct replacement</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-15/2462284870_72.jpg" /><div class="message"><div class="username">vlowther</div><div class="time">2018-12-27 15:44</div><div class="msg">It isn't, but setting up and babysitting a Postgres HA cluster is more or less a full time job of its own.  And you are only getting active-passive with one master.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a5aa3567d3621a3cf06896febe669bfd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">eric</div><div class="time">2018-12-27 16:06</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-27 16:21</div><div class="msg">@eric $welcome</div></div></div><br/>
<div><img src="" /><div class="message"><div class="username"></div><div class="time">2018-12-27 16:21</div><div class="msg">Digital Rebar welcome information is here &gt; <a href="http://rebar.digital/community/welcome.html">http://rebar.digital/community/welcome.html</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/a5aa3567d3621a3cf06896febe669bfd.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">eric</div><div class="time">2018-12-27 16:41</div><div class="msg">Finally a reason to keep Slack open :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 17:36</div><div class="msg">okay, got metallb working and pr sent :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 17:41</div><div class="msg">so should be able to achieve the same as this now <a href="https://docs.platform9.com/support/ha-for-baremetal-multimaster-kubernetes-cluster-service-type-load-balancer/">https://docs.platform9.com/support/ha-for-baremetal-multimaster-kubernetes-cluster-service-type-load-balancer/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 17:42</div><div class="msg">what subnet or ip should I use for the krib/cluster-master-vip?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/3031b03b9e0284000cf0649517d2a850.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0024-72.png" /><div class="message"><div class="username">m.vandenhoogen</div><div class="time">2018-12-27 19:30</div><div class="msg">has joined #community201812</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 21:49</div><div class="msg">should krib/cluster-master-vip be removed by krib-dev-reset?  it's not inserted by the install so not sure why it is cleared.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-27 21:54</div><div class="msg">and to answer my pwn prior question krib/cluster-master-vip should be set to an IP not used by any cluster node and also not in the dhcp range</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-27 23:00</div><div class="msg">@kraven the krib-dev-reset has been mainly used for single master clusters so far.  there may be omissions for using it with a multi-master one</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 11:54</div><div class="msg">@zehicle okay, I think krib/cluster-master-vip just needs to be removed from WIPE_PARAMS.  I don't think a master count check is needed but that's another way to go.  I'll send a PR.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 15:05</div><div class="msg">so starting from krib-live-cluster workflow with sledgehammer BootEnv how can I configure a workflow that would reboot the machine and come back up in discovery with sledgehammer BootEnv?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 15:10</div><div class="msg">I need the reboot otherwise when I go to krib-live-cluster again mount-local-disks fails with
```
mkfs.xfs: /dev/sda1 contains a mounted filesystem
Command exited with status 1
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-28 15:13</div><div class="msg">Clear the workflows, set the stage to local, then set the workflow back to krib-live-cluster.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-28 15:14</div><div class="msg">This should cause the runner to reboot the machine, but if you change the workflwo back to discovery during machine post, it will boot that env.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 15:15</div><div class="msg">that worked.  thank you</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 15:24</div><div class="msg">@greg is krib-helm stage working for you in HA mode?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 15:25</div><div class="msg">mine is failing tiller install</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-28 15:26</div><div class="msg">I think I saw something like recently, but I haven?t tried.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-28 15:26</div><div class="msg">I was trying something else for @zehicle at the time.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-28 15:27</div><div class="msg">reviewing... I never tested the krib-helm in HA setups</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-28 15:28</div><div class="msg">the nuance for that stage is that it assumes the kube.config file is resident on the master</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-28 15:28</div><div class="msg">it may be a safer assumption to always get the conf from the profile</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-28 15:28</div><div class="msg">would be a smart thing to test for file exists and then retrieve if it's missing</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-28 15:29</div><div class="msg">I'm sure that tiller check test will fail without the credentials</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-28 15:30</div><div class="msg">@kraven ^^</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 15:30</div><div class="msg">okay</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 15:31</div><div class="msg">I'm testing again with non-ha to make sure it's working there still</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-28 15:57</div><div class="msg">@adam.lemanski @kraven - tip provision-content should have your changes in it now.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-28 15:57</div><div class="msg">Thanks</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 16:01</div><div class="msg">good deal</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 16:29</div><div class="msg">@greg does this accurately show what you're going for with the krib ha + metallb setup? <a href="https://docs.platform9.com/assets/pmk-1276.png">https://docs.platform9.com/assets/pmk-1276.png</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 16:30</div><div class="msg">then tack on istio for ingress</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-28 16:37</div><div class="msg">I think so.  Need to think about it some more.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 16:40</div><div class="msg">can't use metallb for the API becase chicken/egg so need keepalived</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 16:40</div><div class="msg">but then use metallb for any other services</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-28 16:44</div><div class="msg">Yes - I think that makes sense.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 18:29</div><div class="msg">@zehicle ruled out the kubecrl admin.conf being the issue.  If I look at the cluster there is a tiller pod but it's stuck in pending</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 18:30</div><div class="msg">`0/3 nodes are available: 3 node(s) had taints that the pod didn't tolerate.`</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 21:07</div><div class="msg">fix is `kubectl taint nodes --all <a href="http://node-role.kubernetes.io/master-">http://node-role.kubernetes.io/master-</a>` because all I had in the cluster were 3 masters</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 21:17</div><div class="msg">and that is needed because krib-kubeadm.cfg.tmpl add NoSchedule taints to all masters</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 22:45</div><div class="msg">fixed with PR</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-28 22:58</div><div class="msg">and it all came up this time with metallb and istio ingress</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:03</div><div class="msg">morning!</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:04</div><div class="msg">was looking at the kubernetes-dashboard and noticed I wasn't getting graphs even though all the heapster stuff gets installed properly via krib</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:06</div><div class="msg">tracked it down to port 10255 readonly port was disabled in k8s 1.12.0</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:06</div><div class="msg">can be enabled in the kubelet config but possible security risk</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:07</div><div class="msg">to prevent the security risk need to add iptables rules to only allow the master node ips to talk to that port</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:08</div><div class="msg">```
$ iptables -A INPUT -p tcp --dport 10255 -s YYY.YYY.YY.YY -j ACCEPT
$ iptables -A INPUT -p tcp --dport 10255 -j DROP
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:08</div><div class="msg">ACCEPT line for each master IP</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-29 14:35</div><div class="msg">That is on all nodes running kubelet?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:39</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:41</div><div class="msg">found an alternate to modify the heapster config but it gives heapster cluster-admin role and I don't know if that's more or less secure</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:41</div><div class="msg"><a href="https://sealyun.com/post/heapster-error/">https://sealyun.com/post/heapster-error/</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:42</div><div class="msg">translate works fine on there</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 14:58</div><div class="msg">shouldn't be a concern once they switch off heapster <a href="https://github.com/kubernetes/dashboard/issues/2986">https://github.com/kubernetes/dashboard/issues/2986</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 15:09</div><div class="msg">well adding `readOnlyPort: 10255` to the kubeadm.cfg kubeletConfiguration did not work</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 15:10</div><div class="msg">I dumped out the kubelet config from the running cluster and it's not there so I'll try the second method now</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-29 15:28</div><div class="msg">option 2 worked</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 01:08</div><div class="msg">OK, @shane &amp; @zehicle - I think I've gone as far as I can without being able to rebuild sledgehammer. Here's some data points:</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 01:11</div><div class="msg">When I boot with sledgehammer, `stage1.img` successfully gets an IP address on the interface via DHCP. Then it mounts `stage2.img` and runs `systemd`, etc. At some point after this, the interface config is lost (see below).</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 01:16</div><div class="msg">By default `systemd` attempts to rename the interfaces (in my case from `eth0` to `enp6s0`), however I can control that behaviour with kernel boot args. The interface renaming fails with the error `systemd-udevd[635]: Error changing net interface name 'eth0' to 'enp6s0': Device or resource busy`. Which means the interface is up when it's attempting to rename it. This might be normal behaviour (I'll try on a different host on which a previous version of sledgehammer has worked before), given the 2-stage boot approach.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 01:25</div><div class="msg">The issue is that the interface now is UP, but not configured with an IP address [I can manually apply an IP address at this point although not very helpful in an automated workflow :wink:]. If I don't manually configure the interface, it will sit at this point for about 30 minutes (attempting to pull `start-up.sh`) and then there will be a `NETDEV WATCHDOG: eth0 (r8169): transmit queue 0 timed out` in the journal and at this point it will send out a new DHCP request, get an IP address, download `start-up.sh` and complete the discovery.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 01:27</div><div class="msg">Changing the interface renaming (by using `biosdevname=1` to use the bios naming scheme or `net.ifnames=0` to turn off renaming entirely) changes the renaming error, but does not change the "30 minute delay" behaviour.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 01:30</div><div class="msg">As mentioned before, I get the error `systemd-networkd[2954]: [/etc/systemd/network/20-bootif.network:8] Unknown lvalue 'ClientIdentifier' in section 'DHCP'` in the journal, since `systemd` is version 219 in the current sledgehammer and the `ClientIdentifier` option was not added until `systemd` version 220. Again, I'm not convinced this is causing the issue, since DHCP does eventually give me an IP address.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 01:53</div><div class="msg">I was going to try forcing a different device driver (as per @shane's suggestion), but it looks like the only spare Ethernet card I had lying around can't do network boot. It's currently using `r8169`.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 02:03</div><div class="msg">Once I've been through the 30 minute wait for discovery, doing an _install_ works fine (other than my stupid typos in the `postinstall` script). Since install appears to be using a boot image with the same OS, the Ethernet card driver is the same (the `r8169` driver version is the same in `sledgehammer` and the `centos-7-install` environments). I haven't left a system installed for long before running another test, but networking seems to work fine on an installed system. So, if it is a driver problem, it's maybe something triggered by the `stage1.img` to `stage2.img` trick?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-31 04:19</div><div class="msg">@rik - What DHCP options are you sending?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-31 04:19</div><div class="msg">I?ve found that DNS can be a problem.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-31 04:20</div><div class="msg">Making sure that options 3, 6, and 15 are correct can adjust this.</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-31 04:20</div><div class="msg">Also 30 minutes is a long time.  I?ve never seen that kinda of timeout.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 04:29</div><div class="msg">I'm using an external DHCP, sending options 3, 6 and 15.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 04:29</div><div class="msg">re: 30 minutes - you're telling me! good thing I've got other things to do while waiting for that timeout...</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-31 04:30</div><div class="msg">What DHCP server?  If ISC DHCP Server, you are setting the use mac address instead of client identifier flag?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 04:38</div><div class="msg">yes, ISC v4.4.1</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 04:38</div><div class="msg">and yes, matching on mac address</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-31 04:38</div><div class="msg">Are you machines dual homed ?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 04:38</div><div class="msg">(I don't trust client-id)</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 04:39</div><div class="msg">The DHCP server is. I've tried the target server both with and without a second Ethernet - no change.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 04:39</div><div class="msg">The DRP server is not dual-homed</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-31 04:39</div><div class="msg">The victims?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 04:40</div><div class="msg">victim=target?</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-31 04:40</div><div class="msg">yes</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-31 04:44</div><div class="msg">You have something like this in your ISC config
```
# Client control
deny duplicates;
one-lease-per-client on;
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2014-07-14/2459866780_72.jpg" /><div class="message"><div class="username">greg</div><div class="time">2018-12-31 04:45</div><div class="msg">Hmm - what kinda of machines are these?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 05:06</div><div class="msg">I don?t have those config options, but will try them when I?m back at the console. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 05:06</div><div class="msg">The machines are a hodgepodge of home lab equipment. The DCHP server is running on a VM. </div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 05:07</div><div class="msg">None of it is enterprise-grade.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/bdc94f3d16fd9425d19ee06eaa70d01e.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0003-72.png" /><div class="message"><div class="username">rik</div><div class="time">2018-12-31 08:31</div><div class="msg">OK, tried the DHCP config suggestions - no difference. I've captured a `tcpdump -vv` of the traffic to &amp; from the target host if that's of use. I can't see any evidence of a second lease being provided. It looks reasonable to me, although I noticed for the first time that on some DHCP requests it gets `default.pxe` and sometimes `ipxe.ipxe`. Doesn't seem relevant to this issue though. Also, when you were asking about 'dual-homed', I should have mentioned that none of the systems have more than one interface on the same network.</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 12:19</div><div class="msg">started working on nginx-ingress and cert-manager with krib</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 12:24</div><div class="msg">I *really* wanted to go with istio but blockers are explained here <a href="https://medium.com/@prune998/istio-1-0-2-envoy-cert-manager-lets-encrypt-for-tls-certificate-merge-7a774bff66c2">https://medium.com/@prune998/istio-1-0-2-envoy-cert-manager-lets-encrypt-for-tls-certificate-merge-7a774bff66c2</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 12:25</div><div class="msg">it's doable with some hackery but I'll wait for istio to add proper support</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 12:26</div><div class="msg">if I really end up needing service mesh can always use nginx in front of istio</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 14:56</div><div class="msg">so I see how to load a template in the task but what if I need to only load that template if a param exists?  can I render the template to a file from withing a .sh template?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 15:08</div><div class="msg">found it
```
        echo "expanding template {{$template}} as {{$name}}.yaml"
        cat &gt; {{$name}}.yaml &lt;&lt; EOF
{{ $render.CallTemplate $template $render }}
EOF
```</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-31 15:55</div><div class="msg">that was one of the first custom renders that we needed :slightly_smiling_face:</div></div></div><br/>
<div><img src="https://avatars.slack-edge.com/2018-04-16/347642523588_bb283abd6412a13b36fe_72.jpg" /><div class="message"><div class="username">zehicle</div><div class="time">2018-12-31 15:56</div><div class="msg">here's the full list <a href="https://provision.readthedocs.io/en/latest/doc/arch/provision.html#rendering-templates">https://provision.readthedocs.io/en/latest/doc/arch/provision.html#rendering-templates</a></div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 16:06</div><div class="msg">hmm, how do I escape a golang template within a template?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 16:06</div><div class="msg">lol</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 16:06</div><div class="msg">have this function in my sh.tmpl file
```
getIngressIp() {
	echo $(kubectl get svc nginx-ingress-controller \
	  --namespace kube-system \
	  -o=go-template --template='{{(index .status.loadBalancer.ingress 0 ).ip}}')
}
```</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 16:11</div><div class="msg">```--template='{{`{{(index .status.loadBalancer.ingress 0 ).ip}}`}}'``` works</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 16:24</div><div class="msg">do I need to do anything get helm initialized in a job other than make sure my stage comes after the helm stage?</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 16:25</div><div class="msg">calling helm install I'm getting ``Error: failed to download "stable/nginx-ingress" (hint: running `helm repo update` may help)``</div></div></div><br/>
<div><img src="https://secure.gravatar.com/avatar/4fcff6858d25f96f5d6fdd035e259258.jpg?s=72&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0000-72.png" /><div class="message"><div class="username">kraven</div><div class="time">2018-12-31 16:43</div><div class="msg">started everything off the same as krib-helm.sh.tmpl so not sure what I'm doing wrong other than not being in the same task as krib-helm-init.sh.tmpl</div></div></div><br/>
</div></body></html>