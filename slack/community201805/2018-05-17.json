[
    {
        "type": "message",
        "user": "UARBSQB0F",
        "text": "I know Kubespray will do it, but it's much heavier-weight (and takes a much less elegant approach) than KRIB. It sounds like you're unwilling to commit to a timeline for HA in KRIB; I will communicate that to the client, and see what their decision is.",
        "thread_ts": "1526413028.000593",
        "parent_user_id": "UARBSQB0F",
        "ts": "1526546560.000130"
    },
    {
        "type": "message",
        "user": "UAQU29EJW",
        "text": "About that Atomic hung issue in \"Running post-installation scripts\" (<https:\/\/rackn.slack.com\/archives\/C02L9P26Q\/p1525967256000014>) - what is the actual solution? \nI also don't have any mention of \"xfs\" in my `centos-7.ks.tmpl` and it hangs in the same place (CentOS 7, not Atomic), running post-installation scripts (same error as Ben). centos-7.3.1611-install ISO (Minimal, but I tried with DVD 4.2 GB as well, same problem). Ubuntu 16.04 installs fine in the same environment (Virtualbox). `Versions: DR v3.8.2-tip-97 &amp; UX v1.2.1`",
        "attachments": [
            {
                "from_url": "https:\/\/rackn.slack.com\/archives\/C02L9P26Q\/p1525967256000014",
                "fallback": "[May 10th, 2018 8:47 AM] ben.le: recently, i’m trying to install centos atomic 7 on bare metal, somehow it hung when “Running post-installation scripts”",
                "ts": "1525967256.000014",
                "author_id": "UANLCF8QP",
                "author_subname": "Ben Le",
                "channel_id": "C02L9P26Q",
                "channel_name": "community",
                "is_msg_unfurl": true,
                "text": "recently, i’m trying to install centos atomic 7 on bare metal, somehow it hung when “Running post-installation scripts”",
                "author_name": "Ben Le",
                "author_link": "https:\/\/rackn.slack.com\/team\/UANLCF8QP",
                "author_icon": "https:\/\/secure.gravatar.com\/avatar\/8a9c5c571619653ac58972f2fda17e0a.jpg?s=48&d=https%3A%2F%2Fa.slack-edge.com%2F66f9%2Fimg%2Favatars%2Fava_0007-48.png",
                "mrkdwn_in": [
                    "text"
                ],
                "id": 1,
                "original_url": "https:\/\/rackn.slack.com\/archives\/C02L9P26Q\/p1525967256000014",
                "footer": "Posted in #community"
            }
        ],
        "edited": {
            "user": "UAQU29EJW",
            "ts": "1526569233.000000"
        },
        "ts": "1526568920.000519"
    },
    {
        "type": "message",
        "user": "U32PZNCP5",
        "text": "<@UAQU29EJW> $Welcome",
        "ts": "1526570771.000594",
        "reactions": [
            {
                "name": "wave",
                "users": [
                    "UAQU29EJW"
                ],
                "count": 1
            }
        ]
    },
    {
        "text": "Digital Rebar welcome information is here &gt; <http:\/\/rebar.digital\/community\/welcome.html>",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1526570771.000729"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@UAS2DTMMM> $welcome",
        "edited": {
            "user": "U6QFVRJNB",
            "ts": "1526570882.000000"
        },
        "ts": "1526570878.000890"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@UAQU29EJW> can you please post the workflow that you are using with this install?  The CentOS 7 kickstart only supports ext4 FS.  Also - you may want to update to the current `tip` content to get the updated CentOS 7.5 (1804) version - the CentOS 7.3.1611 version is deprecated and not supported any more",
        "ts": "1526571003.000250"
    },
    {
        "type": "message",
        "user": "UAQU29EJW",
        "text": "I am only using ext4, no XFS (same as Ben, it’s the standard centos 7 template) Well, my apps have specific kernel module dependency, I can’t use a newer ISO and in fact later (once I make it work) I need to check how to disable auto update. I did try the latest Cento7 template, same issue.\nMy workflow is to PXE boot to sledgehammer, apply install CentOS 7 template in Stages. Is there a command that expresses this in a more precise way? ",
        "client_msg_id": "93D17926-779C-4BF1-804E-CF1E52A028C1",
        "ts": "1526574713.000354"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "yes - via `drpcli`, the output of the following will show ALL workflows,\n`drpcli workflows list --format=yaml`\nif you know the name of the specific workflow - you can change to something like:\n`drpcli workflows show my_workflow_name --format=yaml`",
        "ts": "1526575129.000247"
    },
    {
        "type": "message",
        "user": "UAQU29EJW",
        "text": "I don't have any workflows, I only have Stages. My Unknown BootEvn is \"discovery\"; I find the machine in discovery stage, then in Bulk Actions I pick `global` in Profiles, apply, in Stages I pick `centos-7.5.1804-install` (or 7.3, previously), apply, from there it goes into install. Just to eliminate doubt about \"unsupported\" older versions, I debugged  with `centos-7.5.1804-install`:\n```{\n    \"Available\": true,\n    \"BootEnv\": \"centos-7.5.1804-install\",\n    \"Description\": \"CentOS 7.5.1804 install stage.\",\n    \"Errors\": [],\n    \"Meta\": {\n      \"color\": \"yellow\",\n      \"icon\": \"download\",\n      \"title\": \"Digital Rebar Community Content\"\n    },\n    \"Name\": \"centos-7.5.1804-install\",\n    \"OptionalParams\": [],\n    \"Profiles\": [],\n    \"ReadOnly\": true,\n    \"Reboot\": false,\n    \"RequiredParams\": [],\n    \"RunnerWait\": true,\n    \"Tasks\": [\n      \"set-hostname\",\n      \"centos-drp-only-repos\",\n      \"ssh-access\"\n    ],\n    \"Templates\": [],\n    \"Validated\": true\n  }```\n\n\n```Log for Job: 8be3936f-455c-4b4d-a24e-b41bf7c91866\nStarting task centos-drp-only-repos on f96f7c88-1d32-458e-afe2-bd470e91cc26\nStarting command .\/centos-drp-only-repos-centos-drp-only-repos.sh.tmpl\n\n\nCommand running\nLoaded plugins: fastestmirror\nDetermining fastest mirrors\n<http:\/\/mirrors.edge.kernel.org\/centos\/7\/atomic\/x86_64\/repodata\/repomd.xml>: [Errno 14] curl#6 - \"Could not resolve host: <http:\/\/mirrors.edge.kernel.org|mirrors.edge.kernel.org>; Unknown error\"\nTrying other mirror.\n\n\n One of the configured repositories failed (centos-7-everything - atomic),\n and yum doesn't have enough cached data to continue. At this point the only\n safe thing yum can do is fail. There are a few ways to work \"fix\" this:\n\n     1. Contact the upstream for the repository and get them to fix the problem.\n\n     2. Reconfigure the baseurl\/etc. for the repository, to point to a working\n        upstream. This is most often useful if you are using a newer\n        distribution release than is supported by the repository (and the\n        packages for the previous distribution release still work).\n\n     3. Run the command with the repository temporarily disabled\n            yum --disablerepo=centos-7-everything-atomic ...\n\n     4. Disable the repository permanently, so yum won't use it by default. Yum\n        will then just ignore the repository until you permanently enable it\n        again or use --enablerepo for temporary usage:\n\n            yum-config-manager --disable centos-7-everything-atomic\n        or\n            subscription-manager repos --disable=centos-7-everything-atomic\n\n     5. Configure the failing repository to be skipped, if it is unavailable.\n        Note that yum will try to contact the repo. when it runs most commands,\n        so will have to try and fail each time (and thus. yum will be be much\n        slower). If it is a very temporary problem though, this is often a nice\n        compromise:\n\n            yum-config-manager --save --setopt=centos-7-everything-atomic.skip_if_unavailable=true\n\nfailure: repodata\/repomd.xml from centos-7-everything-atomic: [Errno 256] No more mirrors to try.\n<http:\/\/mirrors.edge.kernel.org\/centos\/7\/atomic\/x86_64\/repodata\/repomd.xml>: [Errno 14] curl#6 - \"Could not resolve host: <http:\/\/mirrors.edge.kernel.org|mirrors.edge.kernel.org>; Unknown error\"\nCommand exited with status 1\nAction centos-drp-only-repos.sh.tmpl finished\nTask centos-drp-only-repos failed\nMarked machine f96f7c88-1d32-458e-afe2-bd470e91cc26 as not runnable\nUpdated job 8be3936f-455c-4b4d-a24e-b41bf7c91866 to failed\nTask signalled that it failed\n```\nI checked my DNS in Networking &gt; Subnets, it's 1.1.1.1, now I will try again with a LAN-based DNS server.",
        "edited": {
            "user": "UAQU29EJW",
            "ts": "1526576988.000000"
        },
        "ts": "1526576876.000498"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@UAQU29EJW> - first.  All machines have the global profile by default.  You don’t have to add global to the machine’s profile list.",
        "ts": "1526577012.000395"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "second, did you upload the iso for centos-7.5.1804-install?",
        "ts": "1526577021.000794"
    },
    {
        "type": "message",
        "user": "UAQU29EJW",
        "text": "Global profile - right, thanks, I noticed that but I haven't yet reached the stage where I could confirm that (by successfully logging in) so I am still doing it. ISO: yes I do have it uploaded (and can see it in `drpcli isos list`)",
        "edited": {
            "user": "UAQU29EJW",
            "ts": "1526577627.000000"
        },
        "ts": "1526577585.000185"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "okay - do you have the `package-repositories` parameter specified anywhere?",
        "edited": {
            "user": "U02DGQYK1",
            "ts": "1526577664.000000"
        },
        "ts": "1526577646.000297"
    },
    {
        "type": "message",
        "user": "UAQU29EJW",
        "text": "i don't. i didn't see anywhere in the videos or docs that it's necessary. should i set it? I see it's a task in the centos 7 install stage, but i didn't see anywhere I'm supposed to provide inputs to it",
        "ts": "1526577736.000596"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Try this: `drpcli profiles set global param package-repositories to '{}'`",
        "ts": "1526577743.000704"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "We have new stuff in tip that isn’t in the videos.  The package-repositories are trying to reach out to the internet, but for c7 you could be running locally.  I think.  I’m checking.",
        "ts": "1526577794.000120"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Ubuntu only works with this.  Centos is more flexible.",
        "ts": "1526577809.000649"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@UAQU29EJW> - I think you mentioned you are doing this on VirtualBox?",
        "ts": "1526577956.000755"
    },
    {
        "type": "message",
        "user": "UAQU29EJW",
        "text": "Yes, VBox. I will try one more time with the empty package repos value",
        "edited": {
            "user": "UAQU29EJW",
            "ts": "1526577985.000000"
        },
        "ts": "1526577961.000327"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "okay - so - if yours is like mine, then the VMs don’t have inet access unless you do something to configure a second interface.",
        "ts": "1526577986.000374"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "So, I think you need to do the above and it should work.",
        "ts": "1526578000.000418"
    },
    {
        "type": "message",
        "user": "UAQU29EJW",
        "text": "I'm using bridged NICs internet access should be fine - Debian and Ubuntu VMs install fine (but I had given up on those because I couldn't get `without-password` to work - I did notice upon joining this Slack that that isn't supposed to work). I'll try one more time with CentOS and that new value.",
        "ts": "1526578161.000259"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "hmm - if you are bridged, then  the DNS parameters in the DHCP server need to be correct for that environment as well as gateway IP.",
        "ts": "1526578208.000556"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "option 3, option 6, and option 15.",
        "ts": "1526578223.000011"
    },
    {
        "type": "message",
        "user": "UAS2DTMMM",
        "text": "<@U6QFVRJNB> Thanks!",
        "ts": "1526578714.000063"
    },
    {
        "type": "message",
        "user": "UAQU29EJW",
        "text": "Thanks for your help, Greg. I need to fix VBbox networking, it appears. I'll report back if I manage to do it.",
        "ts": "1526584152.000417"
    }
]