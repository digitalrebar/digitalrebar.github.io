[
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": " <@U02DGQYK1> Having an issue with my DRP install - was working fine, but then after rebooting the DRP admin node, I set a target machine for the desired bootenv, but when PXE-booted, TFTP is failing...",
        "ts": "1504820008.000417"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "It's a 3.0.5 installation btw",
        "ts": "1504820036.000511"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U416T0AAX> - does your pxe target get a DHCP addr from the DRP admin node ?",
        "ts": "1504820046.000313"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "It actually gets one from the subnet router, which then hands it next-server",
        "ts": "1504820097.000020"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "did you set dr-provision service to start on boot:\n```sudo systemctl daemon-reload &amp;&amp; sudo systemctl enable dr-provision```",
        "ts": "1504820246.000285"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Next-server is the DRP admin nodes IP, and file name is 'lpxelinux.0'",
        "ts": "1504820277.000060"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Yes, DRP is started and running",
        "ts": "1504820295.000287"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "if the `dr-provision` service is running - it's easy to test the TFTP",
        "ts": "1504820314.000292"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "from a host outside of the drp server - simply do:\n```tftp &lt;drp_server&gt;\ntftp&gt; verbose\nVerbose mode on.\ntftp&gt; get lpxelinux.0\ngetting from drp_server:lpxelinux.0 to lpxelinux.0 [netascii]\nReceived 92766 bytes in 0.1 seconds [5926590 bit\/s]\ntftp&gt; quit```",
        "edited": {
            "user": "U6QFVRJNB",
            "ts": "1504820444.000000"
        },
        "ts": "1504820403.000139"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "you should be able to snag that file (assuming now FW or iptables\/etc entries interfering",
        "ts": "1504820419.000053"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "if that is working - I'd suggest chucking `tcpdump` on your network interface and listen for incoming requests to make sure your next-boot hand off is working, and your pxe client is actually able to route to the drp server\n```sudo tcpdump -i &lt;network_interface_name&gt; port 67 or port 68 or port 69```",
        "ts": "1504820553.000356"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "<@U6QFVRJNB> Yup, damn 'iptables' rules...",
        "ts": "1504820657.000208"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Had full DR on this node prior, that had Docker and spawned the wealth of iptables rules...",
        "ts": "1504820707.000346"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": ":slightly_smiling_face:",
        "ts": "1504820735.000402"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Bites me every time I (infrequently) reboot the DRP server...",
        "ts": "1504820740.000288"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "what distro you using ?",
        "ts": "1504820762.000013"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "I use an \"iptables-restore\" tool in Ubuntu to save\/restore rules on reboots ... if I'm not using UFW",
        "ts": "1504820783.000441"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "For DRP admin node, CentOS 7.3.1611",
        "ts": "1504820859.000134"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "looks like centos has iptables-restore in yum repo too",
        "ts": "1504820899.000448"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "older doc - but still relevant: <https:\/\/www.centos.org\/docs\/5\/html\/5.1\/Deployment_Guide\/s1-iptables-saving.html>",
        "ts": "1504820936.000174"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U416T0AAX> uploaded a file: <https:\/\/rackn.slack.com\/files\/U416T0AAX\/F70PFCYNS\/image_uploaded_from_ios.jpg|PXE stilll failing...>",
        "file": {
            "id": "F70PFCYNS",
            "created": 1504821136,
            "timestamp": 1504821136,
            "name": "Image uploaded from iOS.jpg",
            "title": "PXE stilll failing...",
            "mimetype": "image\/jpeg",
            "filetype": "jpg",
            "pretty_type": "JPEG",
            "user": "U416T0AAX",
            "editable": false,
            "size": 7024169,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F70PFCYNS\/image_uploaded_from_ios.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F70PFCYNS\/download\/image_uploaded_from_ios.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F70PFCYNS-13b5f8776c\/image_uploaded_from_ios_64.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F70PFCYNS-13b5f8776c\/image_uploaded_from_ios_80.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F70PFCYNS-13b5f8776c\/image_uploaded_from_ios_360.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360_w": 360,
            "thumb_360_h": 270,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F70PFCYNS-13b5f8776c\/image_uploaded_from_ios_480.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_480_w": 480,
            "thumb_480_h": 360,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F70PFCYNS-13b5f8776c\/image_uploaded_from_ios_160.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F70PFCYNS-13b5f8776c\/image_uploaded_from_ios_720.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_720_w": 720,
            "thumb_720_h": 540,
            "thumb_800": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F70PFCYNS-13b5f8776c\/image_uploaded_from_ios_800.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_800_w": 800,
            "thumb_800_h": 600,
            "thumb_960": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F70PFCYNS-13b5f8776c\/image_uploaded_from_ios_960.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_960_w": 960,
            "thumb_960_h": 720,
            "thumb_1024": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F70PFCYNS-13b5f8776c\/image_uploaded_from_ios_1024.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_1024_w": 1024,
            "thumb_1024_h": 768,
            "image_exif_rotation": 1,
            "original_w": 4032,
            "original_h": 3024,
            "permalink": "https:\/\/rackn.slack.com\/files\/U416T0AAX\/F70PFCYNS\/image_uploaded_from_ios.jpg",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F70PFCYNS-636188c773",
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U416T0AAX",
        "upload": true,
        "display_as_bot": false,
        "username": "wdennis",
        "bot_id": null,
        "upload_reply_to": "5F55D49F-F647-4DAF-922A-679C19857409",
        "ts": "1504821136.000152"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Hmmm, something still awry- now I have no machines showing up in inventory!!",
        "ts": "1504821265.000276"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "is it set to use a different bootenv than local ?\n```drpcli machines show &lt;UUID&gt; | grep BootEnv\n  \"BootEnv\": \"local\",```",
        "ts": "1504821266.000241"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Ah, wrong value used for DRP \"--data-root=\"",
        "ts": "1504821365.000389"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "are you running in \"production\" mode  ?",
        "ts": "1504821380.000014"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "in production mode - data-root is in `\/var\/lib\/dr-provision`",
        "edited": {
            "user": "U6QFVRJNB",
            "ts": "1504821405.000000"
        },
        "ts": "1504821398.000126"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Oh hell no :)",
        "ts": "1504821407.000323"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "(meaning the installer mode - not really in \"production\") :slightly_smiling_face:",
        "ts": "1504821426.000336"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Kicking DRP off by hand",
        "ts": "1504821428.000138"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "if you install with the ```â€“isolated``` flag to the installer, it drops everything in your local users home directory",
        "ts": "1504821467.000062"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "other wise it does \"production\" mode - which is the ```\/var\/lib\/dr-provision``` and ```\/var\/lib\/tftpboot``` directories (Ubuntu-land)",
        "ts": "1504821500.000072"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U416T0AAX> uploaded a file: <https:\/\/rackn.slack.com\/files\/U416T0AAX\/F6Z7NH96C\/image_uploaded_from_ios.jpg|Image uploaded from iOS>",
        "file": {
            "id": "F6Z7NH96C",
            "created": 1504821496,
            "timestamp": 1504821496,
            "name": "Image uploaded from iOS.jpg",
            "title": "Image uploaded from iOS",
            "mimetype": "image\/jpeg",
            "filetype": "jpg",
            "pretty_type": "JPEG",
            "user": "U416T0AAX",
            "editable": false,
            "size": 10405098,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F6Z7NH96C\/image_uploaded_from_ios.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F6Z7NH96C\/download\/image_uploaded_from_ios.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F6Z7NH96C-52069b647d\/image_uploaded_from_ios_64.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F6Z7NH96C-52069b647d\/image_uploaded_from_ios_80.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F6Z7NH96C-52069b647d\/image_uploaded_from_ios_360.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360_w": 360,
            "thumb_360_h": 270,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F6Z7NH96C-52069b647d\/image_uploaded_from_ios_480.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_480_w": 480,
            "thumb_480_h": 360,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F6Z7NH96C-52069b647d\/image_uploaded_from_ios_160.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F6Z7NH96C-52069b647d\/image_uploaded_from_ios_720.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_720_w": 720,
            "thumb_720_h": 540,
            "thumb_800": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F6Z7NH96C-52069b647d\/image_uploaded_from_ios_800.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_800_w": 800,
            "thumb_800_h": 600,
            "thumb_960": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F6Z7NH96C-52069b647d\/image_uploaded_from_ios_960.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_960_w": 960,
            "thumb_960_h": 720,
            "thumb_1024": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F6Z7NH96C-52069b647d\/image_uploaded_from_ios_1024.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_1024_w": 1024,
            "thumb_1024_h": 768,
            "image_exif_rotation": 1,
            "original_w": 4032,
            "original_h": 3024,
            "permalink": "https:\/\/rackn.slack.com\/files\/U416T0AAX\/F6Z7NH96C\/image_uploaded_from_ios.jpg",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F6Z7NH96C-9cce537eb1",
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U416T0AAX",
        "upload": true,
        "display_as_bot": false,
        "username": "wdennis",
        "bot_id": null,
        "upload_reply_to": "A143067E-F2E4-47D1-9149-0A2AD192669C",
        "ts": "1504821502.000190"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Yeah I did --isolated",
        "ts": "1504821533.000239"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "All is working now :sweat_smile:",
        "ts": "1504821595.000403"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "fabulous !",
        "ts": "1504821607.000159"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "<@U6QFVRJNB> Are you a part of the RackN gang, or a user?",
        "ts": "1504821642.000279"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "I'm the FNG at rackn",
        "ts": "1504821657.000424"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "LOL",
        "ts": "1504821666.000248"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "I'm still the FNG here at my job, 11 years in :stuck_out_tongue_winking_eye:",
        "ts": "1504821693.000323"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Well, nice to virtually meet you :)",
        "ts": "1504821726.000065"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "You too!",
        "ts": "1504821753.000142"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Was able to meet Greg, Rob and Victor at DevOpsDays Austin this year",
        "ts": "1504821767.000079"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "In person :)",
        "ts": "1504821775.000133"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "I'm sorry you had to go through that ...",
        "ts": "1504821777.000165"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "They were nice enough to this poor old chap",
        "ts": "1504821809.000182"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": ":slightly_smiling_face:",
        "ts": "1504821823.000105"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "How close are we to 3.1 goodness?",
        "ts": "1504821841.000169"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "...being the FNG... I'll I'll need to check w\/ the rest of the gang - give me a few mins",
        "ts": "1504821993.000226"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "(FNG == day 3 :slightly_smiling_face: )",
        "ts": "1504822002.000253"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Threw you right in there, huh",
        "ts": "1504822023.000201"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "nothing like trial by fire ... I'm used to it - I've known the team for a long time - so they didn't cut me any slack",
        "ts": "1504822049.000192"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Looks like they put you on Slack instead of cutting you any... &lt;drumroll \/&gt;&lt;cymbal \/&gt;",
        "ts": "1504822133.000010"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "doh!",
        "ts": "1504822202.000410"
    },
    {
        "type": "message",
        "user": "U416T0AAX",
        "text": "Be here all week...",
        "ts": "1504822236.000387"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U416T0AAX> - the unofficial answer is \"about 2 weeks-ish time frame\" ...",
        "ts": "1504823312.000206"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": ":slightly_smiling_face:",
        "ts": "1504823477.000350"
    }
]