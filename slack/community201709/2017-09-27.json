[
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U54E4SD4G> - it turns out that `template` doesn’t do variable expansion on its parameters.",
        "ts": "1506528317.000442"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "So, I wrote my own.",
        "ts": "1506528325.000017"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "This will be in the next release.  I’m putting in tip now.",
        "ts": "1506528346.000407"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "This can be dangerous.",
        "ts": "1506528353.000466"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "We don’t prevent loops",
        "ts": "1506528378.000423"
    },
    {
        "type": "message",
        "user": "U1KAU5G3D",
        "text": "yo - wow im on slack with you still",
        "ts": "1506530783.000198"
    },
    {
        "type": "message",
        "user": "U1KAU5G3D",
        "text": "did any check show up or do i need to call the bank :slightly_smiling_face:",
        "ts": "1506530792.000476"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "<@U1KAU5G3D> moving this to 1x1",
        "ts": "1506534680.000482"
    },
    {
        "type": "message",
        "user": "U54E4SD4G",
        "text": "<@U02DGQYK1> are you basically just defining your own implementation for `template` on rendering the template? (just so I understand what's going on in that commit)",
        "edited": {
            "user": "U54E4SD4G",
            "ts": "1506545798.000000"
        },
        "ts": "1506545783.000669"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Yeah - the golang txt template call doesn’t know about templates to recurse (it seems like it should, but it doesn’t).  So, that is what implemented.",
        "ts": "1506546524.000638"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U54E4SD4G> - I was waiting for the build to finish.",
        "ts": "1506546534.000504"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "but here we go.",
        "ts": "1506546537.000206"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Tip is updated to have CallTemplate , which works like template but can take parameters.",
        "ts": "1506546566.000054"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "This is “dangerous” and probably when text template doesn;t really support it.  You can create infinite loops.  I’m not opposed to this.  One day I may get around to writing a loop detector, but it isn’t there now.",
        "ts": "1506546621.000172"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Here is an example content file.",
        "ts": "1506546635.000169"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U02DGQYK1> uploaded a file: <https:\/\/rackn.slack.com\/files\/U02DGQYK1\/F7B17T1AB\/template-test.yml|template-test.yml> and commented: Example CallTemplate content",
        "file": {
            "id": "F7B17T1AB",
            "created": 1506546663,
            "timestamp": 1506546663,
            "name": "template-test.yml",
            "title": "template-test.yml",
            "mimetype": "text\/plain",
            "filetype": "yaml",
            "pretty_type": "YAML",
            "user": "U02DGQYK1",
            "editable": true,
            "size": 4831,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F7B17T1AB\/template-test.yml?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F7B17T1AB\/download\/template-test.yml?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "permalink": "https:\/\/rackn.slack.com\/files\/U02DGQYK1\/F7B17T1AB\/template-test.yml",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F7B17T1AB-0527167814",
            "edit_link": "https:\/\/rackn.slack.com\/files\/U02DGQYK1\/F7B17T1AB\/template-test.yml\/edit",
            "preview": "meta:\n  Description: template inject testing\n  Name: template-test\n  Source: RackN\n  Version: v0.1.0",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre><span class=\"cm-atom\">meta<\/span><span class=\"cm-meta\">:<\/span><\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  Description<\/span><span class=\"cm-meta\">: <\/span>template inject testing<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  Name<\/span><span class=\"cm-meta\">: <\/span>template-test<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  Source<\/span><span class=\"cm-meta\">: <\/span>RackN<\/pre><\/div>\n<div><pre><span class=\"cm-atom\">  Version<\/span><span class=\"cm-meta\">: <\/span>v0.1.0<\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 204,
            "lines_more": 199,
            "preview_is_truncated": true,
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc79CVC665",
                "created": 1506546663,
                "timestamp": 1506546663,
                "user": "U02DGQYK1",
                "is_intro": true,
                "comment": "Example CallTemplate content"
            }
        },
        "user": "U02DGQYK1",
        "upload": true,
        "display_as_bot": false,
        "username": "greg",
        "bot_id": null,
        "ts": "1506546669.000249"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "To import it, you will need tip installed.",
        "ts": "1506546691.000211"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "```drpcli contents create - &lt; template-test.yml```",
        "ts": "1506546705.000184"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "With this in place, I do this:",
        "ts": "1506546718.000366"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "```drpcli machines create '{ \"Name\": \"fred\", \"Address\": \"1.1.1.1\", \"Stage\": \"template-viewer\" }'```",
        "ts": "1506546774.000569"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "This creates a fake machine with stage set to `template-viewer` which implicitly sets the bootenv to `template-viewer`",
        "edited": {
            "user": "U02DGQYK1",
            "ts": "1506546827.000000"
        },
        "ts": "1506546816.000173"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "```drpcli machines list Name=fred```",
        "edited": {
            "user": "U02DGQYK1",
            "ts": "1506546851.000000"
        },
        "ts": "1506546846.000617"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Get the UUID and do this:",
        "ts": "1506546859.000367"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "```curl <http:\/\/127.0.0.1:8091\/machines\/f17a55fe-c415-4f38-88dd-6fdfb2ce0c8d\/test>```",
        "ts": "1506546874.000545"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "should get this:\n```\n\nThis is a test template.  We are doing parameterized injection of templates.\n\n\n\n\nThis is the empty template with no pills added.\n\n\n\n\n```",
        "ts": "1506547360.000130"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "```drpcli machines set f17a55fe-c415-4f38-88dd-6fdfb2ce0c8d param template-selector to blue-pill```",
        "ts": "1506547387.000182"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "will get this:",
        "ts": "1506547391.000377"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "```\nThis is a test template.  We are doing parameterized injection of templates.\n\n\n\n\n\n\n\nThis is the blue-pill.\n\n\n\n\n```",
        "ts": "1506547402.000114"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "setting `template-selector` to `red-pill` will get something different",
        "ts": "1506547433.000233"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "You can probably guess.",
        "ts": "1506547441.000072"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Setting it to `green-pill` will show template in template expansion.",
        "ts": "1506547510.000438"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "```\nThis is a test template.  We are doing parameterized injection of templates.\n\n\n\n\n\n\n\n\nThis is the green-pill.  Is both pills at once.\n\n\nThis is the blue-pill.\n\n\n\n\nThis is the red-pill.\n\n\n\n\n\n\n\n```",
        "ts": "1506547539.000114"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Setting a second variable `bonus-pill`",
        "ts": "1506547579.000165"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "```drpcli machines set f17a55fe-c415-4f38-88dd-6fdfb2ce0c8d param template-bonus-pill to bonus-pill.tmpl```",
        "ts": "1506547583.000112"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Will import a template from within a template dynamically.",
        "ts": "1506547594.000339"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "`bonus-pill` is a full template name.",
        "ts": "1506547606.000404"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "setting `bonus-pill` to `centos-7.ks.tmpl` will embed the kickstart file in test template",
        "ts": "1506547720.000051"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "This is how I often test my templates quickly.",
        "ts": "1506547733.000220"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U54E4SD4G> <@U6QFVRJNB> hope that helps.  :slightly_smiling_face:",
        "ts": "1506547752.000130"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U02DGQYK1> - that's awesome - nice job whipping this up so quickly ... hoping it solves <@U54E4SD4G> request",
        "ts": "1506547876.000446"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "The pattern works for tasks too.  Actually, it is really useful for tasks because tasks don’t have a direct render point like bootenvs do.",
        "ts": "1506547906.000297"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "though I'm concerned .... you select \"red\" pill and \"blue\" pill and combined pill is \"green\".  Shouldn't it be \"purple\"  ???   :stuck_out_tongue_winking_eye:",
        "ts": "1506547909.000176"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "That isn’t how light sabers work.",
        "ts": "1506547939.000150"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "And yes the hate is flowing.",
        "ts": "1506547945.000216"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": ":slightly_smiling_face:",
        "ts": "1506547950.000113"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": ":slightly_smiling_face:",
        "ts": "1506547969.000085"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "I had this earlier, but was waiting on the build to finish.  Had to work around sourceforge being partially down.",
        "ts": "1506548031.000138"
    },
    {
        "type": "message",
        "user": "U54E4SD4G",
        "text": "lol",
        "ts": "1506548746.000043"
    },
    {
        "type": "message",
        "user": "U54E4SD4G",
        "text": "ok - just updated my deployment to tip (yay ansible) - will try `CallTemplate` in a bit",
        "ts": "1506548787.000192"
    },
    {
        "type": "message",
        "user": "U54E4SD4G",
        "text": "(it works)",
        "ts": "1506549595.000299"
    },
    {
        "type": "message",
        "user": "U54E4SD4G",
        "text": "\\o\/",
        "ts": "1506549602.000493",
        "reactions": [
            {
                "name": "+1",
                "users": [
                    "U6QFVRJNB"
                ],
                "count": 1
            }
        ]
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": ":slightly_smiling_face:",
        "ts": "1506550372.000098"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "if I'm reading this thread - we just added dynamic workflow to DRP.   I thought v3.2 was more of a cleanup release :stuck_out_tongue:",
        "ts": "1506551908.000234"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "very exciting stuff",
        "ts": "1506551933.000328"
    },
    {
        "user": "U7A3BJ884",
        "text": "<@U7A3BJ884> has joined the channel",
        "type": "message",
        "subtype": "channel_join",
        "ts": "1506563376.000036"
    }
]