[
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "I've added some keywords to slack that will bring up links when we type them: FAQ, KRIB, meetup, and issue.",
        "ts": "1516201520.000064"
    },
    {
        "text": "Kubernetes docs are here &gt; <http:\/\/provision.readthedocs.io\/en\/latest\/doc\/integrations\/krib.html#configure-with-the-cli>",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1516201520.000153"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "FAQ",
        "ts": "1516201534.000443"
    },
    {
        "text": "FAQ are here &gt; <http:\/\/provision.readthedocs.io\/en\/latest\/doc\/faq-troubleshooting.html>",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1516201534.000495"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "and :cloudia:",
        "ts": "1516201840.000187"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "please let us know if we need other quick links.",
        "ts": "1516202267.000735"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "show me the quickstart",
        "ts": "1516202361.000048"
    },
    {
        "text": "QuickStart doc is here &gt; <http:\/\/provision.readthedocs.io\/en\/latest\/doc\/quickstart.html>",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1516202361.000099"
    },
    {
        "text": "ok how do we set reservations for existin systems \/ vms",
        "username": "outbackdingo",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1516204033.000560"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "<http:\/\/provision.readthedocs.io\/en\/latest\/doc\/ui.html#reservations>",
        "ts": "1516204233.000049"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "<http:\/\/provision.readthedocs.io\/en\/latest\/doc\/cli\/drpcli_leases.html>",
        "ts": "1516204280.000864"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<http:\/\/provision.readthedocs.io\/en\/latest\/doc\/operation.html#creating-a-reservation>",
        "ts": "1516204318.000519"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "<http:\/\/provision.readthedocs.io\/en\/latest\/doc\/cli\/drpcli_reservations.html>",
        "ts": "1516204354.000049"
    },
    {
        "text": "ahhh the mac is the token... got it",
        "username": "outbackdingo",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1516204378.000684"
    },
    {
        "user": "U6QFVRJNB",
        "topic": "For SlackBot command help, type:  \"slackbot help\"",
        "text": "<@U6QFVRJNB> set the channel topic: For SlackBot command help, type:  \"slackbot help\"",
        "type": "message",
        "subtype": "channel_topic",
        "ts": "1516205433.000358"
    },
    {
        "text": "Available Commands: FAQ, $FAQ, $faq, $KRIB, $krib, $meetup, $Meetup, $issue, $Issue, $issues, $Issues, $quickstart, $QuickStart",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1516205433.000420"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "$quickstart",
        "ts": "1516205465.000485"
    },
    {
        "text": "QuickStart doc is here &gt; <http:\/\/provision.readthedocs.io\/en\/latest\/doc\/quickstart.html>",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1516205465.000587"
    },
    {
        "text": "$KRIB",
        "username": "outbackdingo",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1516206289.000278"
    },
    {
        "text": "pffftttt",
        "username": "outbackdingo",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1516206299.000064"
    },
    {
        "text": "ignore that",
        "username": "outbackdingo",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1516206326.000605"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "Hmm - might be because you're not a Slack user and coming in through a sameroom",
        "ts": "1516206334.000181"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "$KRIB",
        "ts": "1516206337.000260"
    },
    {
        "text": "Kubernetes docs are here &gt; <http:\/\/provision.readthedocs.io\/en\/latest\/doc\/integrations\/krib.html#configure-with-the-cli>",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1516206337.000562"
    },
    {
        "text": "i am a slack user jus no loged into it now",
        "username": "outbackdingo",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1516206444.000859"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "doesn't count unless you're logged in ... :slightly_smiling_face:",
        "ts": "1516206463.000445"
    },
    {
        "text": "LOL",
        "username": "outbackdingo",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1516206500.000601"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "$KRIB",
        "ts": "1516207633.000403"
    },
    {
        "text": "Kubernetes docs are here &gt; <http:\/\/provision.readthedocs.io\/en\/latest\/doc\/integrations\/krib.html#configure-with-the-cli>",
        "type": "message",
        "subtype": "slackbot_response",
        "user": "USLACKBOT",
        "ts": "1516207633.000556"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "hah",
        "ts": "1516207639.000535"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "welcome <@U855MAQFL>!",
        "ts": "1516208534.000525"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U416T0AAX> uploaded a file: <https:\/\/rackn.slack.com\/files\/U416T0AAX\/F8UAC0HUJ\/derpy.jpg|derpy.jpg> and commented: We need a \"D[e]RP\" emoji...",
        "file": {
            "id": "F8UAC0HUJ",
            "created": 1516209185,
            "timestamp": 1516209185,
            "name": "derpy.jpg",
            "title": "derpy.jpg",
            "mimetype": "image\/jpeg",
            "filetype": "jpg",
            "pretty_type": "JPEG",
            "user": "U416T0AAX",
            "editable": false,
            "size": 6930,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F8UAC0HUJ\/derpy.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F8UAC0HUJ\/download\/derpy.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8UAC0HUJ-225918cdcd\/derpy_64.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8UAC0HUJ-225918cdcd\/derpy_80.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8UAC0HUJ-225918cdcd\/derpy_360.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360_w": 134,
            "thumb_360_h": 133,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8UAC0HUJ-225918cdcd\/derpy_160.jpg?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "image_exif_rotation": 1,
            "original_w": 134,
            "original_h": 133,
            "permalink": "https:\/\/rackn.slack.com\/files\/U416T0AAX\/F8UAC0HUJ\/derpy.jpg",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F8UAC0HUJ-9c11162da1",
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc8U7E0FB5",
                "created": 1516209185,
                "timestamp": 1516209185,
                "user": "U416T0AAX",
                "is_intro": true,
                "comment": "We need a \"D[e]RP\" emoji..."
            }
        },
        "user": "U416T0AAX",
        "upload": true,
        "display_as_bot": false,
        "username": "wdennis",
        "bot_id": null,
        "ts": "1516209187.000018"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "<@U02DHRR2L> thanks",
        "ts": "1516212412.000254"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "So KRIBs on 5 large vms?",
        "ts": "1516212438.000451"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "Spun up via rebar",
        "ts": "1516212473.000050"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "Curious also why debiab and ububtu vms installed via rebar have no console access",
        "ts": "1516212511.000778"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "I think I might go redeploy a production rebar first",
        "ts": "1516212541.000639"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Because the console= kernel param is not correct for your VM environment.  I would guess. You can set the parameter `kernel-console` to `console=ttyS1,115200` or whatever it needs to be for your environment.",
        "ts": "1516213688.000323"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "That can be set in the global profile.",
        "ts": "1516213699.000265"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "The above is what we use for <http:\/\/packet.net|packet.net> (as an example).",
        "ts": "1516213721.000086"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U855MAQFL> - sorry forgot to note you",
        "ts": "1516214275.000411"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "<@U02DGQYK1> I'll try it thanks",
        "ts": "1516214377.000428"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "<!here> I confirm that the UEFI fix (<https:\/\/github.com\/digitalrebar\/provision\/commit\/aef1003a6aa8e9804feb939e6722d3921ffe1445>) is working. Thanks guys !",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "Merge pull request #637 from digitalrebar\/make-uefi-boot-work-properl… · digitalrebar\/provision@aef1003",
                "title_link": "https:\/\/github.com\/digitalrebar\/provision\/commit\/aef1003a6aa8e9804feb939e6722d3921ffe1445",
                "text": "…y-with-ipxe Clean up when and how we set DHCP pxe boot options",
                "fallback": "GitHub: Merge pull request #637 from digitalrebar\/make-uefi-boot-work-properl… · digitalrebar\/provision@aef1003",
                "from_url": "https:\/\/github.com\/digitalrebar\/provision\/commit\/aef1003a6aa8e9804feb939e6722d3921ffe1445",
                "thumb_url": "https:\/\/avatars3.githubusercontent.com\/u\/724965?s=200&v=4",
                "thumb_width": 200,
                "thumb_height": 200,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1
            }
        ],
        "ts": "1516214944.000187"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "Cool.  I have further cleanups incoming -- the T320 I keep around is significantly pickier then qemu with tianocore.",
        "ts": "1516215304.000445"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "<@U02DJQSG8> aaaah my bad, I didn't see that I was using Legacy BIOS :smile: Let me try again with UEFI !",
        "edited": {
            "user": "U8FAN7PLK",
            "ts": "1516216023.000000"
        },
        "ts": "1516215948.000140"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "ok -- if you cound capture a tcpdump of the DHCP traffic while that is happening and send that to me that would help.",
        "ts": "1516216269.000055"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "or a dhcpdump, if you have that tool lying around handy. :slightly_smiling_face:",
        "ts": "1516216289.000328"
    },
    {
        "text": "has been staring at dhcp packets for the last couple of days trying to bang all this stuff out.",
        "type": "message",
        "subtype": "me_message",
        "user": "U02DJQSG8",
        "ts": "1516216334.000329"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U8FAN7PLK> uploaded a file: <https:\/\/rackn.slack.com\/files\/U8FAN7PLK\/F8VEJK3BR\/image.png|it's failing :(>",
        "file": {
            "id": "F8VEJK3BR",
            "created": 1516216423,
            "timestamp": 1516216423,
            "name": "image.png",
            "title": "it's failing :(",
            "mimetype": "image\/png",
            "filetype": "png",
            "pretty_type": "PNG",
            "user": "U8FAN7PLK",
            "editable": false,
            "size": 95702,
            "mode": "hosted",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F8VEJK3BR\/image.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F8VEJK3BR\/download\/image.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_64": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8VEJK3BR-17365afc6b\/image_64.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_80": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8VEJK3BR-17365afc6b\/image_80.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8VEJK3BR-17365afc6b\/image_360.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_360_w": 360,
            "thumb_360_h": 290,
            "thumb_480": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8VEJK3BR-17365afc6b\/image_480.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_480_w": 480,
            "thumb_480_h": 387,
            "thumb_160": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8VEJK3BR-17365afc6b\/image_160.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_720": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8VEJK3BR-17365afc6b\/image_720.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_720_w": 720,
            "thumb_720_h": 580,
            "thumb_800": "https:\/\/files.slack.com\/files-tmb\/T02DGQYJZ-F8VEJK3BR-17365afc6b\/image_800.png?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "thumb_800_w": 800,
            "thumb_800_h": 644,
            "image_exif_rotation": 1,
            "original_w": 833,
            "original_h": 671,
            "permalink": "https:\/\/rackn.slack.com\/files\/U8FAN7PLK\/F8VEJK3BR\/image.png",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F8VEJK3BR-50edeb856e",
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 0
        },
        "user": "U8FAN7PLK",
        "upload": true,
        "display_as_bot": false,
        "username": "florent.wagener",
        "bot_id": null,
        "ts": "1516216425.000384"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "let me check :slightly_smiling_face:",
        "ts": "1516216428.000643"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "yeah, that looks familiar.",
        "ts": "1516216605.000172"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "I will have a patch out shortly.",
        "ts": "1516216612.000741"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "so curious now can i got from stanndalone to a production install without re-insallin ?",
        "ts": "1516216872.000255"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U8FAN7PLK> uploaded a file: <https:\/\/rackn.slack.com\/files\/U8FAN7PLK\/F8UCYJV8S\/tcpdump_uefi_boot_failure.txt|tcpdump UEFI boot failure> and commented: <@U02DJQSG8> here's the tcpdump of 2 boot sequences.",
        "file": {
            "id": "F8UCYJV8S",
            "created": 1516216879,
            "timestamp": 1516216879,
            "name": "tcpdump_UEFI_boot_failure.txt",
            "title": "tcpdump UEFI boot failure",
            "mimetype": "text\/plain",
            "filetype": "text",
            "pretty_type": "Plain Text",
            "user": "U8FAN7PLK",
            "editable": true,
            "size": 14990,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F8UCYJV8S\/tcpdump_uefi_boot_failure.txt?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F8UCYJV8S\/download\/tcpdump_uefi_boot_failure.txt?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "permalink": "https:\/\/rackn.slack.com\/files\/U8FAN7PLK\/F8UCYJV8S\/tcpdump_uefi_boot_failure.txt",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F8UCYJV8S-990b2f3b09",
            "edit_link": "https:\/\/rackn.slack.com\/files\/U8FAN7PLK\/F8UCYJV8S\/tcpdump_uefi_boot_failure.txt\/edit",
            "preview": "[root@pdc-a5g-bms01 tools]# tcpdump -i bond0 port 67 or port 68 -e -n\r\ntcpdump: verbose output suppressed, use -v or -vv for full protocol decode\r\nlistening on bond0, link-type EN10MB (Ethernet), capture size 262144 bytes\r\n14:16:37.767713 00:50:56:96:4b:b9 > Broadcast, ethertype 802.1Q (0x8100), length 346: vlan 200, p 1, ethertype IPv4, 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP\/DHCP, Request from 00:50:56:96:4b:b9, length 300\r\n14:16:38.609508 bc:30:5b:f4:6b:d8 > Broadcast, ethertype IPv4 (0x0800), length 401: 0.0.0.0.bootpc > 255.255.255.255.bootps: BOOTP\/DHCP, Request from bc:30:5b:f4:6b:d8, length 359\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>[root@pdc-a5g-bms01 tools]# tcpdump -i bond0 port 67 or port 68 -e -n<\/pre><\/div>\n<div><pre>tcpdump: verbose output suppressed, use -v or -vv for full protocol decode<\/pre><\/div>\n<div><pre>listening on bond0, link-type EN10MB (Ethernet), capture size 262144 bytes<\/pre><\/div>\n<div><pre>14:16:37.767713 00:50:56:96:4b:b9 &gt; Broadcast, ethertype 802.1Q (0x8100), length 346: vlan 200, p 1, ethertype IPv4, 0.0.0.0.bootpc &gt; 255.255.255.255.bootps: BOOTP\/DHCP, Request from 00:50:56:96:4b:b9, length 300<\/pre><\/div>\n<div><pre>14:16:38.609508 bc:30:5b:f4:6b:d8 &gt; Broadcast, ethertype IPv4 (0x0800), length 401: 0.0.0.0.bootpc &gt; 255.255.255.255.bootps: BOOTP\/DHCP, Request from bc:30:5b:f4:6b:d8, length 359<\/pre><\/div>\n<div><pre><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 76,
            "lines_more": 71,
            "preview_is_truncated": true,
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc8V8PDJB0",
                "created": 1516216879,
                "timestamp": 1516216879,
                "user": "U8FAN7PLK",
                "is_intro": true,
                "comment": "<@U02DJQSG8> here's the tcpdump of 2 boot sequences."
            }
        },
        "user": "U8FAN7PLK",
        "upload": true,
        "display_as_bot": false,
        "username": "florent.wagener",
        "bot_id": null,
        "ts": "1516216879.001043"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U855MAQFL> - not really a \"supported\" path for that.  However, you should be able to do it with the following hackery ... \n1. backup your current `drp-data` directory (eg `tar -czvf \/root\/drp-isolated-backup.tgz drp-data\/`)\n2. `pkill dr-provision` service\n3. perform fresh install on same host, without the `--isolated` flag\n4. follow the start up scripts setup - BUT do NOT start the `dr-provision` service at this point\n5.  copy the `drp-data\/*` directories recursively to `\/var\/lib\/dr-provision` (eg: `unalias cp; cp -ra drp-data\/* \/var\/lib\/dr-provision\/`)\n6. make sure you're start up scripts are in place for your production mode (eg: `\/etc\/systemd\/system\/dr-provision.service`)\n7. start the new production version with  `systemctl start dr-provision.service`\n8. verify everything is running fine\n9. delete the `drp-data` directory (suggest retaining the backup copy for later just in case)\n10. YMMV ... buyer beware ... I didn't fully test this process ... don't run with scissors, sharp objects may poke you, etc...",
        "ts": "1516218232.000745"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "<@U6QFVRJNB> hrmmmm might just consider a reinstall....",
        "ts": "1516218330.000415"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "this is a \"reinstall\" - just pulling over any content and configurations and machine data from previous provisioning activities",
        "ts": "1516218367.000101"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "so have he debian \/ ubunu disk partiions issue been fixed in he newest version ?",
        "ts": "1516220388.000086"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "sine in a vm hey are xvdX and not sdX",
        "ts": "1516220436.000280"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "change operating system disk",
        "attachments": [
            {
                "fallback": "[December 26th, 2017 10:18 AM] greg: For quick and dirty testing, just set `operating-system-disk` to `xvda` in the global profile and see what happens.",
                "ts": "1514312308.000276",
                "author_id": "U02DGQYK1",
                "author_subname": "Greg Althaus",
                "channel_id": "C02L9P26Q",
                "channel_name": "community",
                "is_msg_unfurl": true,
                "text": "For quick and dirty testing, just set `operating-system-disk` to `xvda` in the global profile and see what happens.",
                "author_name": "Greg Althaus",
                "author_link": "https:\/\/rackn.slack.com\/team\/U02DGQYK1",
                "author_icon": "https:\/\/avatars.slack-edge.com\/2014-07-14\/2459866780_48.jpg",
                "mrkdwn_in": [
                    "text"
                ],
                "color": "D0D0D0",
                "from_url": "https:\/\/rackn.slack.com\/archives\/C02L9P26Q\/p1514312308000276",
                "is_share": true,
                "footer": "Posted in #community"
            }
        ],
        "ts": "1516220505.000326"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "did you try that ?",
        "ts": "1516220521.000359"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "<@U02DGQYK1> yes tha works for VMs bu no fo bare metal",
        "ts": "1516221000.000074"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "and yes some of my keys on the keyboard are on  holiday",
        "ts": "1516221035.000789"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "bare metal most likely has a different device name than a VM - can you please verify the device names in a bare metal install ?",
        "ts": "1516221084.000827"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "<@U6QFVRJNB> linnux is sda sdb sdc on baremetal",
        "edited": {
            "user": "U855MAQFL",
            "ts": "1516221184.000000"
        },
        "ts": "1516221174.000197"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "hence my issue if i use rebar for a VM it fails... unless globally is set to xvda",
        "ts": "1516221232.000385"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "<@U6QFVRJNB> so just .... curl -fsSL get.rebar.digital\/stable | bash -s -- install",
        "ts": "1516221418.000399"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "ah - so what you're probably doing is applying the \"operating-system-disk\" in the global profile - and trying to provision BOTH VMs and bare metal - that won't work",
        "ts": "1516221856.000341"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "you need to apply the Param `operating-system-disk` to individual machines.  One way to do that is create a Profile - say \"virtual-machines\" and add the Param to that Profile - make any customizations in that Profile - then add that profile to the VMs",
        "ts": "1516221908.000041"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "similarly - create a Profile named \"bare-metal\" and add any customizations specific to the bare metal hosts in that Profile - now apply that profile to the bare metal Machines",
        "ts": "1516221935.000014"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "(remember to remove the global Param `operating-system-disk` when doing it this way)",
        "ts": "1516221959.000147"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "<@U6QFVRJNB> you guys provision vms and baremetal don you ?",
        "ts": "1516222005.000414"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "yes - but our focus is on bare metal - VMs are for testing in our world (they have their place) - but our core value is managing bare metal systems",
        "ts": "1516222046.000536"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "as you've tested - VMs work too",
        "ts": "1516222060.000067"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "so is mine however theres jus some hings i can do in docker in a vm",
        "ts": "1516222068.000781"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "but you need to provide customizations to different classes of machine s- that's what Profiles and Params give you",
        "ts": "1516222078.000202"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "you just have to apply them to the right thing to do the different things correctly",
        "ts": "1516222087.000645"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "yeah... rebars startin to make me feel a bit stupid",
        "edited": {
            "user": "U855MAQFL",
            "ts": "1516222216.000000"
        },
        "ts": "1516222101.000796"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "have to et my head around it better",
        "edited": {
            "user": "U855MAQFL",
            "ts": "1516222134.000000"
        },
        "ts": "1516222110.000238"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "omg this$%R$^%^&amp; keyboard",
        "ts": "1516222163.000582"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "which is why i considered a full reinstall ive since realized if you shutdown rebar any vm launched with it looses its ip in time",
        "ts": "1516222338.000447"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "following: <http:\/\/provision.readthedocs.io\/en\/latest\/doc\/quickstart.html?highlight=subnet#install-your-first-machine>",
        "ts": "1516223188.000322"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "<@U6QFVRJNB> nope fail..... doesnt seem that works.... subnets iso machines workflow all missin",
        "ts": "1516223224.000237"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "I was attempting to assign the discovered machine...",
        "ts": "1516223236.000032"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "[drpops@drpe drpisolated]$ .\/drpcli machines list | jq '.[].Uuid'\n\"4678729e-5147-43f6-a569-93b7668b8a40\"\n[drpops@drpe drpisolated]$ .\/drpcli machines bootenv \"4678729e-5147-43f6-a569-93b7668b8a40\" centos-7-install\nError: ValidationError: machines\/4678729e-5147-43f6-a569-93b7668b8a40: Can not change bootenv while in a stage unless forced. old: sledgehammer new centos-7-install\n[drpops@drpe drpisolated]$ .\/drpcli machines bootenv \"4678729e-5147-43f6-a569-93b7668b8a40\" centos-7-install --force\nError: ValidationError: machines\/4678729e-5147-43f6-a569-93b7668b8a40: Can not change bootenv while in a stage unless forced. old: sledgehammer new centos-7-install\n[drpops@drpe drpisolated]$",
        "ts": "1516223250.000018"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "woops... should have used snippet... but I was attempting to force the new boot env and could not...",
        "ts": "1516223294.000457"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "<!here> dumb question, is there a default root password to login into sledgehammer ?",
        "ts": "1516223308.000147"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "depends - what type of beer are you talking about ?",
        "ts": "1516223325.000033"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "good beer = password",
        "ts": "1516223335.000503"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "<http:\/\/provision.readthedocs.io\/en\/latest\/doc\/cli\/drpcli_machines_bootenv.html>",
        "ts": "1516223354.000326"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "<@U6QFVRJNB> I only drink belgian beer :slightly_smiling_face:",
        "ts": "1516223363.000484"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "I think I got the command line right...",
        "ts": "1516223367.000670"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "ok - that'll worky !",
        "ts": "1516223371.000087"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "sledgehammer credentials:  root \/ rebar1",
        "ts": "1516223383.000229"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "thanks !",
        "ts": "1516223398.000232"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "but - only at console - unless you've added `access-keys` to inject your own user SSH keys",
        "ts": "1516223407.000474"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "<@U6QFVRJNB> nevermind seems ok now i copied to drp-provision no dr-provision fixed",
        "ts": "1516223439.000285"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "<@U6QFVRJNB> of course.",
        "ts": "1516223454.000116"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": ":slightly_smiling_face:",
        "ts": "1516223477.000383"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "I still expect beer ... just sayin'",
        "ts": "1516223485.000413"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": ".\/drpcli machines bootenv \"4678729e-5147-43f6-a569-93b7668b8a40\" centos-7-install --force\nError: ValidationError: machines\/4678729e-5147-43f6-a569-93b7668b8a40: Can not change bootenv while in a stage unless forced. old: sledgehammer new centos-7-install\n[drpops@drpe drpisolated]$",
        "ts": "1516223712.000274"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "same result when:\n.\/drpcli machines bootenv \"4678729e-5147-43f6-a569-93b7668b8a40\" centos-7-install -f",
        "ts": "1516223814.000570"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "just was pinged about this:\n<https:\/\/github.com\/google\/netboot>",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "google\/netboot",
                "title_link": "https:\/\/github.com\/google\/netboot",
                "text": "netboot - Packages and utilities for network booting",
                "fallback": "GitHub: google\/netboot",
                "from_url": "https:\/\/github.com\/google\/netboot",
                "thumb_url": "https:\/\/avatars0.githubusercontent.com\/u\/1342004?s=400&v=4",
                "thumb_width": 250,
                "thumb_height": 250,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1
            }
        ],
        "ts": "1516227262.000339"
    },
    {
        "type": "message",
        "user": "U02DHRR2L",
        "text": "we monitor that - if you look at the commit history, it's not actively maintained there.   Also, very narrow function.",
        "ts": "1516228165.000070"
    },
    {
        "type": "message",
        "user": "U02DJQSG8",
        "text": "<@U8FAN7PLK> <https:\/\/github.com\/digitalrebar\/provision\/pull\/641> should make your R620 box work in uefi mode.  It works for my T320.",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "Make uefi boot work on real hardware by VictorLowther · Pull Request #641 · digitalrebar\/provision",
                "title_link": "https:\/\/github.com\/digitalrebar\/provision\/pull\/641",
                "text": "Digital Rebar Provision is a simple but powerful Golang executable that provides a complete API-driven DHCP\/PXE\/TFTP provisioning system.",
                "fallback": "GitHub: Make uefi boot work on real hardware by VictorLowther · Pull Request #641 · digitalrebar\/provision",
                "from_url": "https:\/\/github.com\/digitalrebar\/provision\/pull\/641",
                "thumb_url": "https:\/\/avatars2.githubusercontent.com\/u\/770578?s=400&v=4",
                "thumb_width": 250,
                "thumb_height": 250,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1
            }
        ],
        "ts": "1516228333.000113"
    },
    {
        "type": "message",
        "user": "U62R1805P",
        "text": "Oh... I've been pushing people to look at drp... and this is just them ping'n back...",
        "ts": "1516228617.000293"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "so.... when you crash a rebar server say total loss, you literally loose access to all your VMs ? as theres no dhcp running... is this correct ?",
        "ts": "1516231149.000316"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "scennerio rebar server failed... now i can no longer access he vms that got dhcp freom the rebar box",
        "ts": "1516231254.000036"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U855MAQFL> - nope",
        "ts": "1516231729.000125"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "IF DRP server is completely down - then you can not answer new DHCP queries.  Existing DHCP leases remain until the renewal period in the DHCP server expires - then you'll lose IP access.  This is DHCP - not Digital Rebar.   So - if you are heavily leveraging DRP for DHCP services - then you might be wise to increase the DHCP lease period - so DHCP assignments live a lot longer than you expect any outage to be.",
        "ts": "1516231823.000013"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "Since the DHCP leases are maintained as simple JSON files in the filesystem layer - then it's child's play to keep backups of your DHCP lease assignments - and bring them up in a new DRP instance if for some reason you had a catastrophic failure of your DHCP\/DRP based server",
        "ts": "1516231869.000332"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "another solution is to look at a distributed Key\/Value store for the backend filesystem layer - currently we support HashiCorp Consul - this is for extreme high availability scenarios - where you have a cluster of Consul servers storing the Key\/Value data for the DRP service - including the DHCP leases",
        "edited": {
            "user": "U6QFVRJNB",
            "ts": "1516231925.000000"
        },
        "ts": "1516231922.000182"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "right",
        "ts": "1516231927.000272"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "remember - this is basic DHCP stuff - not specific to DRP - however, we do provide a lot of VERY easy mechanisms to manage higher availability than most other DHCP and provisioning servers have - via easy manipulation of the Lease data information, and via the Key\/Value based distributed storage mechanism",
        "ts": "1516232022.000012"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "<@U6QFVRJNB> is there a doc on the consul confi ?",
        "ts": "1516233096.000052"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "<@U8FAN7PLK> - tip now has better UEFI support.  Give it a shot please.",
        "ts": "1516233267.000267"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "<@U02DGQYK1> thanks I'll test that tomorrow morning :slightly_smiling_face:",
        "ts": "1516233305.000291"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "awesome",
        "ts": "1516233671.000235"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "btw, what's the best way to upgrade drp? Right now I'm running a clone from the master branch of the github repo.",
        "ts": "1516236217.000249"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U855MAQFL> the Consul K\/V piece isn't a community feature, it's a RackN enterprise support feature",
        "edited": {
            "user": "U6QFVRJNB",
            "ts": "1516239206.000000"
        },
        "ts": "1516236860.000088"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U8FAN7PLK> - pretty simple in principle - kill `dr-provision` service, replace the binary with the new one, start `dr-provision`",
        "ts": "1516236892.000149"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "this is basically all the `install.sh` script does in with `--upgrade` flag enabled",
        "ts": "1516236915.000003"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "(`curl -s get.digital.rebar\/stable | bash -s -- install --upgrade --force --version=tip --isolated`) (does Isolated install of TIP content)",
        "ts": "1516236952.000040"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "drpcli -f machines  bootenv 9102b704-03ea-40cd-becd-0a65f1d09651 ubuntu-16.04-install\nError: ValidationError: machines\/9102b704-03ea-40cd-becd-0a65f1d09651: Can not change bootenv while in a stage unless forced. old: sledgehammer new ubuntu-16.04-install",
        "ts": "1516237488.000207"
    },
    {
        "type": "message",
        "user": "U855MAQFL",
        "text": "GGGGRRRRRRRRR",
        "ts": "1516237499.000303"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U62R1805P> and <@U855MAQFL> - please note that a Stage and a BootEnv are two different things - Even though the names are the same (for convenience - a Stage of \"ubuntu-16.04-install\" bears the same name as the BootEnv that it implements)",
        "ts": "1516238406.000167"
    },
    {
        "type": "message",
        "subtype": "file_share",
        "text": "<@U6QFVRJNB> uploaded a file: <https:\/\/rackn.slack.com\/files\/U6QFVRJNB\/F8UFHRY67\/stage_-vs-_bootenv.sh|Stage -vs- BootEnv> and commented: here's an example of the problem you're running in to",
        "file": {
            "id": "F8UFHRY67",
            "created": 1516238721,
            "timestamp": 1516238721,
            "name": "Stage_-vs-_BootEnv.sh",
            "title": "Stage -vs- BootEnv",
            "mimetype": "text\/plain",
            "filetype": "shell",
            "pretty_type": "Shell",
            "user": "U6QFVRJNB",
            "editable": true,
            "size": 1050,
            "mode": "snippet",
            "is_external": false,
            "external_type": "",
            "is_public": true,
            "public_url_shared": false,
            "display_as_bot": false,
            "username": "",
            "url_private": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F8UFHRY67\/stage_-vs-_bootenv.sh?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "url_private_download": "https:\/\/files.slack.com\/files-pri\/T02DGQYJZ-F8UFHRY67\/download\/stage_-vs-_bootenv.sh?t=xoxe-2458848645-331142845857-332542502102-c2a3393bdc66e7bf33d1c6986e4eea64",
            "permalink": "https:\/\/rackn.slack.com\/files\/U6QFVRJNB\/F8UFHRY67\/stage_-vs-_bootenv.sh",
            "permalink_public": "https:\/\/slack-files.com\/T02DGQYJZ-F8UFHRY67-ccc6987b26",
            "edit_link": "https:\/\/rackn.slack.com\/files\/U6QFVRJNB\/F8UFHRY67\/stage_-vs-_bootenv.sh\/edit",
            "preview": "\r\nroot@demo:~$ drpcli machines bootenv bff5513f-7f63-43c6-b744-5eefaa9716be ubuntu-16.04-install\r\nError: ValidationError: machines\/bff5513f-7f63-43c6-b744-5eefaa9716be: Can not change bootenv while in a stage unless forced. old: centos-7-install new ubuntu-16.04-install\r\n\t\r\nroot@demo:~$ drpcli machines bootenv bff5513f-7f63-43c6-b744-5eefaa9716be ubuntu-16.04-install --force\r",
            "preview_highlight": "<div class=\"CodeMirror cm-s-default CodeMirrorServer\" oncopy=\"if(event.clipboardData){event.clipboardData.setData('text\/plain',window.getSelection().toString().replace(\/\\u200b\/g,''));event.preventDefault();event.stopPropagation();}\">\n<div class=\"CodeMirror-code\">\n<div><pre>&#8203;<\/pre><\/div>\n<div><pre>root@demo:~<span class=\"cm-def\">$ drpcli<\/span> machines bootenv bff5513f-7f63-43c6-b744-5eefaa9716be ubuntu-16.04-install<\/pre><\/div>\n<div><pre>Error: ValidationError: machines\/bff5513f-7f63-43c6-b744-5eefaa9716be: Can not change bootenv <span class=\"cm-keyword\">while<\/span> <span class=\"cm-keyword\">in<\/span> a stage unless forced. old: centos-7-install new ubuntu-16.04-install<\/pre><\/div>\n<div><pre>\t<\/pre><\/div>\n<div><pre>root@demo:~<span class=\"cm-def\">$ drpcli<\/span> machines bootenv bff5513f-7f63-43c6-b744-5eefaa9716be ubuntu-16.04-install <span class=\"cm-attribute\">--force<\/span><\/pre><\/div>\n<\/div>\n<\/div>\n",
            "lines": 18,
            "lines_more": 13,
            "preview_is_truncated": true,
            "channels": [],
            "groups": [],
            "ims": [],
            "comments_count": 1,
            "initial_comment": {
                "id": "Fc8UMXS3CM",
                "created": 1516238721,
                "timestamp": 1516238721,
                "user": "U6QFVRJNB",
                "is_intro": true,
                "comment": "here's an example of the problem you're running in to"
            }
        },
        "user": "U6QFVRJNB",
        "upload": true,
        "display_as_bot": false,
        "username": "shane",
        "bot_id": null,
        "ts": "1516238721.000216"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "note the change from `bootenv` to `stage`",
        "ts": "1516238775.000161"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "<@U6QFVRJNB> thanks !",
        "ts": "1516240585.000114"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "<@U8FAN7PLK> - no problem - let me know if you bump in to issues or have questions",
        "ts": "1516240631.000085"
    },
    {
        "type": "message",
        "user": "U8FAN7PLK",
        "text": "Will do. Time to disconnect for me now :slightly_smiling_face: Talk to you tomorrow :slightly_smiling_face:",
        "ts": "1516240679.000068"
    },
    {
        "type": "message",
        "user": "U6QFVRJNB",
        "text": "cheers",
        "ts": "1516240686.000174"
    }
]