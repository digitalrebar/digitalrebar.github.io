[
    {
        "client_msg_id": "b0f0f74a-5709-4ce5-abc1-40374d9c7fdb",
        "type": "message",
        "text": "morning!",
        "user": "UF1LXSN15",
        "ts": "1546092232.213200"
    },
    {
        "client_msg_id": "9b41cf24-391b-40cf-859f-20ba9c53f830",
        "type": "message",
        "text": "was looking at the kubernetes-dashboard and noticed I wasn't getting graphs even though all the heapster stuff gets installed properly via krib",
        "user": "UF1LXSN15",
        "ts": "1546092272.214000",
        "edited": {
            "user": "UF1LXSN15",
            "ts": "1546093696.000000"
        }
    },
    {
        "client_msg_id": "884a09e7-6586-44f5-80d3-3ff2f3b6e6f2",
        "type": "message",
        "text": "tracked it down to port 10255 readonly port was disabled in k8s 1.12.0",
        "user": "UF1LXSN15",
        "ts": "1546092382.214900"
    },
    {
        "client_msg_id": "cf75245f-6c29-41bd-9ccf-f813e52c715b",
        "type": "message",
        "text": "can be enabled in the kubelet config but possible security risk",
        "user": "UF1LXSN15",
        "ts": "1546092419.215500"
    },
    {
        "client_msg_id": "f879b6b1-776d-47a6-a7c6-7ef86ed8efd6",
        "type": "message",
        "text": "to prevent the security risk need to add iptables rules to only allow the master node ips to talk to that port",
        "user": "UF1LXSN15",
        "ts": "1546092453.216300"
    },
    {
        "client_msg_id": "0a666b2f-64dd-4995-8347-d8872cceb85b",
        "type": "message",
        "text": "```\n$ iptables -A INPUT -p tcp --dport 10255 -s YYY.YYY.YY.YY -j ACCEPT\n$ iptables -A INPUT -p tcp --dport 10255 -j DROP\n```",
        "user": "UF1LXSN15",
        "ts": "1546092502.216600"
    },
    {
        "client_msg_id": "3437e194-8bae-428e-ac22-2e8bc522e4e1",
        "type": "message",
        "text": "ACCEPT line for each master IP",
        "user": "UF1LXSN15",
        "ts": "1546092515.216900"
    },
    {
        "client_msg_id": "93c20c99-7ed1-4f96-aef4-608e95f498fb",
        "type": "message",
        "text": "That is on all nodes running kubelet?",
        "user": "U02DGQYK1",
        "ts": "1546094153.217500"
    },
    {
        "client_msg_id": "a78469ff-6c63-44e2-8c49-80b26279d025",
        "type": "message",
        "text": "yes",
        "user": "UF1LXSN15",
        "ts": "1546094343.217700"
    },
    {
        "client_msg_id": "f98fdcc8-39e0-4e7f-808f-5377c1fdf9e1",
        "type": "message",
        "text": "found an alternate to modify the heapster config but it gives heapster cluster-admin role and I don't know if that's more or less secure",
        "user": "UF1LXSN15",
        "ts": "1546094499.218600"
    },
    {
        "client_msg_id": "a079e714-8b44-4db0-afae-efda81393ff5",
        "type": "message",
        "text": "<https:\/\/sealyun.com\/post\/heapster-error\/>",
        "user": "UF1LXSN15",
        "ts": "1546094501.218800",
        "attachments": [
            {
                "title": "kubernetes dashboard监控数据无法正常显示",
                "title_link": "https:\/\/sealyun.com\/post\/heapster-error\/",
                "text": "kubernetes集群三步安装 kubernetes1.12.0版本dashboard使用heapster无法正常显示监控数据 查看heaps",
                "fallback": "kubernetes dashboard监控数据无法正常显示",
                "ts": 1533891264,
                "from_url": "https:\/\/sealyun.com\/post\/heapster-error\/",
                "service_icon": "https:\/\/sealyun.com\/apple-touch-icon.png",
                "service_name": "sealyun.com",
                "id": 1,
                "original_url": "https:\/\/sealyun.com\/post\/heapster-error\/"
            }
        ]
    },
    {
        "client_msg_id": "5d037ba2-d57a-4b3b-b03d-2e41ae489ee7",
        "type": "message",
        "text": "translate works fine on there",
        "user": "UF1LXSN15",
        "ts": "1546094520.219200"
    },
    {
        "client_msg_id": "26931f7c-8bab-4d22-8a6a-75767a382dc3",
        "type": "message",
        "text": "shouldn't be a concern once they switch off heapster <https:\/\/github.com\/kubernetes\/dashboard\/issues\/2986>",
        "user": "UF1LXSN15",
        "ts": "1546095533.220200",
        "attachments": [
            {
                "service_name": "GitHub",
                "title": "Support metrics API · Issue #2986 · kubernetes\/dashboard",
                "title_link": "https:\/\/github.com\/kubernetes\/dashboard\/issues\/2986",
                "text": "dashboard should read from the metrics APIs in order to be compatible with future kubernetes versions. heapster is being deprecated (kubernetes-retired\/heapster#2022) in favor of metrics-server (ht...",
                "fallback": "GitHub: Support metrics API · Issue #2986 · kubernetes\/dashboard",
                "from_url": "https:\/\/github.com\/kubernetes\/dashboard\/issues\/2986",
                "thumb_url": "https:\/\/avatars3.githubusercontent.com\/u\/1977222?s=400&v=4",
                "thumb_width": 250,
                "thumb_height": 250,
                "service_icon": "https:\/\/a.slack-edge.com\/bfaba\/img\/unfurl_icons\/github.png",
                "id": 1,
                "original_url": "https:\/\/github.com\/kubernetes\/dashboard\/issues\/2986"
            }
        ]
    },
    {
        "client_msg_id": "ebfc615e-b3d8-4240-97b4-4a027c8e2cc0",
        "type": "message",
        "text": "well adding `readOnlyPort: 10255` to the kubeadm.cfg kubeletConfiguration did not work",
        "user": "UF1LXSN15",
        "ts": "1546096177.221400"
    },
    {
        "client_msg_id": "f8027fc9-4b3f-4758-975c-536eec69150f",
        "type": "message",
        "text": "I dumped out the kubelet config from the running cluster and it's not there so I'll try the second method now",
        "user": "UF1LXSN15",
        "ts": "1546096222.222300"
    },
    {
        "client_msg_id": "f6bd725d-f24e-46ea-880f-641bf4d37a6f",
        "type": "message",
        "text": "option 2 worked",
        "user": "UF1LXSN15",
        "ts": "1546097314.222900"
    }
]