[
    {
        "text": "hello, I'm new at DigitalRebar and will try something out before i can make a advice for a customer project in my company. One point I have find is the need of have full access to the internet for some installation reason. Can you provide a list of packages which will used\/ needed by DigitalRebar to be sure all packages are available at a customer repository? In a prodictive customer environment we have no chance for direct internet access. all packages will be stored on a private SatelliteServer p.e.. Thanks!",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490286643.875955"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "@theta-my - is this for the initial install of digital rebar or post-install of Digital rebar and you are trying to provision the managed nodes?",
        "ts": "1490287439.265051"
    },
    {
        "text": "Hi, this at first for the first installation steps via quickstart.sh.",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490287636.359638"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "okay - so installing digitalrebar.",
        "ts": "1490287649.365937"
    },
    {
        "text": "yes",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490287656.368943"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "It is not packages based.  It is container based.  So, you will need docker packages, ansible, and python packages.",
        "ts": "1490287676.379180"
    },
    {
        "text": "An other approach can be I would find the missing packages in a log...",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490287682.381733"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Then you will need a way for docker to get images from docker hub and then you will need to stage some boot discovery images in a cache directory.",
        "ts": "1490287726.402839"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "There are a lot of steps that we haven't documented outside of code I'm afraid.",
        "ts": "1490287740.409775"
    },
    {
        "text": "I know, and that's is my problem ;)",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490287772.425477"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Our assumption is that the admin node will have at least proxy-based internet access.  We are trying to change some of that in the coming months, but we aren't there yet.",
        "ts": "1490287775.426796"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Once installed, the admin node can be configured to point at internal repos and things like that to address the internet gap.",
        "ts": "1490287819.449035"
    },
    {
        "text": "I can understand your problem, but in a proper production environment no one will give your a direct link to the internet to download some stuff without a security check.",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490287865.471470"
    },
    {
        "text": "And the best way to prevent this needs, is to have a own repository. That's why i need the list. ",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490287930.502872"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "well - we've found that many differentiate tool install from tool use, but I understand your point.",
        "ts": "1490287933.504391"
    },
    {
        "text": "A proper log, where i can find in a first (dry) run all needed packages can be a good solution to reduce the effort on your site...",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490287996.534834"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Tool use can use other repos.  Tool install currently can't.  You can get close by from an internet accessible location - docker pull all of our images, docker export them, and the docker import them on the admin node.  That will get you most of the way to running digitalrebar without internet access, but there are all sorts of little gotchas.  It just hasn't come up has a high priority item.  It is something we are tracking because we hear about it as a concern but not a blocker (until now).",
        "ts": "1490288064.568301"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "What is the OS you are using for the admin node?",
        "ts": "1490288145.608032"
    },
    {
        "text": "This must run at RHEL7",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288175.622442"
    },
    {
        "text": "I will try to go further with minimum tools\/ services you have described and will come back if i need more... ;)",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288229.648779"
    },
    {
        "text": "Thanks for your intention!",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288246.657217"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "The base system will need: sudo, git, ansible, python-netaddr, curl, jq (epel-release required)",
        "ts": "1490288287.677428"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "This will get you ansible capable.",
        "edited": {
            "user": "U02DGQYK1",
            "ts": "1490288295.000000"
        },
        "ts": "1490288293.680216"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "You will need this: curl -so rebar <https:\/\/s3-us-west-2.amazonaws.com\/rebar-bins\/linux\/amd64\/rebar> - in \/usr\/local\/bin and chmod +x",
        "ts": "1490288346.707287"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "on the admin node target as a user:",
        "ts": "1490288364.716207"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "you will need the digitalrebar repo pulled from git as the directory digitalrebar.",
        "ts": "1490288383.726214"
    },
    {
        "text": "The last step is clear. I have make a git get to my workstation and copy the complete download to the target server. Than i have run the quickstart script and this ends with one error",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288492.783795"
    },
    {
        "text": "no proper epel repository access...",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288507.791437"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "At that point, you should be able to run quickstart.sh (assuming other packages are installed).",
        "ts": "1490288522.799003"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "So, what error do you get?",
        "ts": "1490288530.802630"
    },
    {
        "type": "message",
        "user": "U02DGQYK1",
        "text": "Did you add the provisioner flag to quickstart, you probably should.",
        "ts": "1490288591.832659"
    },
    {
        "text": "TASK [Install EPEL [SLOW]] *****************************************************\nfailed: [10.241.236.92] (item=[u'epel-release']) =&gt; {\"changed\": true, \"failed\": true, \"item\": [\"epel-release\"], \"msg\": \"warning: \/var\/cache\/yum\/x86_64\/7Server\/BA-20170319-epel_rhel7_x86_64\/packages\/epel-release-7-7.noarch.rpm: Header V3 RSA\/SHA256 Signature, key ID 352c64e5: NOKEY\\n\\n\\nPublic key for epel-release-7-7.noarch.rpm is not installed\\n Warning: Due to potential bad behaviour with rhnplugin and certificates, used slower repoquery calls instead of Yum API.\", \"rc\": 1, \"results\": [\"Loaded plugins: langpacks, product-id, rhnplugin, search-disabled-repos,\\n              : subscription-manager\\nThis system is receiving updates from RHN Classic or Red Hat Satellite.\\nResolving Dependencies\\n--&gt; Running transaction check\\n---&gt; Package epel-release.noarch 0:7-7 will be installed\\n--&gt; Finished Dependency Resolution\\n\\nDependencies Resolved\\n\\n================================================================================\\n Package          Arch       Version    Repository                         Size\\n================================================================================\\nInstalling:\\n epel-release     noarch     7-7        BA-20170319-epel_rhel7_x86_64      14 k\\n\\nTransaction Summary\\n================================================================================\\nInstall  1 Package\\n\\nTotal download size: 14 k\\nInstalled size: 24 k\\nDownloading packages:\\nPublic key for epel-release-7-7.noarch.rpm is not installed\\n\"]}\n",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288605.840196"
    },
    {
        "text": "@theta-my were you able to get an end-to-end system running before trying to get DR running w\/o internet connectivity?",
        "username": "zehicle",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288640.857550"
    },
    {
        "text": "not for this case, but before you tried to run disconnected...",
        "username": "zehicle",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288674.874698"
    },
    {
        "text": "only on a laptop by my site, yes, this should be go",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288708.891291"
    },
    {
        "text": "you mean, I install all this stuff on a local system and provide the docker container to the target location?",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288783.928073"
    },
    {
        "text": "this should be run, than i only need the base services and tools to run docker.",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288835.953187"
    },
    {
        "text": "good idea",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288843.957033"
    },
    {
        "text": "Some time I can not see a tree in a forest... :)",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490288880.974984"
    },
    {
        "text": "I will try this approach out. Thanks!",
        "username": "theta-my",
        "bot_id": "B41PS9J94",
        "type": "message",
        "subtype": "bot_message",
        "ts": "1490289008.035971"
    }
]